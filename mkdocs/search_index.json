{
    "docs": [
        {
            "location": "/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Welcome to Unidesk 4\n\n\nWelcome to Citrix App Layering 4\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n The ultimate in application management simplicity\n                        \n                        \n Provision servers in any environment\n                        \n                        \n Deliver applications with ease\n                        \n                        \n A simple addition to your environment\n                        \n                        \n Get started \n                        \n                    \n                \n            \n        \n\n\n\nThe ultimate in application management simplicity\n\n\nUnidesk makes it easier to manage your Windows applications. Regardless of which hypervisor or provisioning service you use, Unidesk can help you manage your applications and operating systems. \n\n\nUnidesk separates the management of your Operating System and applications from your infrastructure. With Unidesk you can install each of your applications and operating system patches once, and use them as part of any image you deploy. You can publish Layered Images as open standard virtual disks usable in any environment. This allows you to maintain a single Windows installation, and a single copy of each application, that you use for all of your images across all of your virtual environments.\n\n\n            \nUnidesk wraps each of your applications in a Layer, and stores the Layers as virtual disks.\n            \nYou can pull together any combination of these App Layers and an OS Layer as part of a Layered Image, and publish it to your target platform.\n            \nThat means that you can install an application or an operating system once, and deploy it as part of any number of images.\n        \n\n\n\nProvision servers in any environment\n\n\nUnidesk lets you to package any Windows app as a virtual disk Layer and deliver it, installation-free, to session hosts. With Unidesk Layering, you can:\n\n\n            \nInstall and manage a single copy of your Windows OS and a single copy of each of your applications in Layers. \n            \nSelect any combination of Layers to create Layered Images that are deployable as Session Hosts.\n            \nDeploy those Layered Images to virtual machine session hosts, making the applications available to users. \n        \n\n\n\nNew applications, application updates, and Windows patches can be delivered to an entire RDSH farm with a single image update. \n\n\nDeliver applications with ease\n\n\nUsing the Unidesk Management Console, you can:\n\n\n            \nLayer Applications and deliver them as read-only virtual disks to session hosts. Layering is faster and easier than app virtualization and is compatible with more apps. Layers have the look and feel of a local installation and enable full application interoperability.\n            \nLayer a Windows OS and deliver it as a read-only virtual disk to all session hosts. Patch an OS layer once to update an entire RDSH server farm.\n            \nMaintain platform-independent OSand App Layers by creating Platform Layers to hold infrastructure-related software and settings. \n            \nProvision RDSH VMs. You can create custom RDSH virtual machines by assigning any combination of compatible OS and App layers in any order.\n        \n\n\n\nA simple addition to your environment\n\n\nThe heart of the Unidesk deployment is the Enterprise Layer Manager (ELM), a virtual appliance that you deploy in your environment. The ELM hosts the Unidesk Management Console (UMC), a friendly interface where you create Unidesk Layers and assign the OSLayer and App Layers for each of your Layered Images.\n\n\nUnidesk Layers\n\n\nWith Unidesk you can create an OSLayer or App Layer once, and use it to create any number of images. You can then update the OS or application by adding a new Version to the Layer for each patch or update that you apply.  \n\n\nIn App Layers you can deploy virtually any applications compatible with the OS. Each App Layer can include one or more applications. When it's time to upgrade an application, you can add a new version to the Layer for the latest update.\n\n\nPlatform Layers are designed to support your environment. A Platform Layer containing your hypervisor tools and settings makes it easy to create layers using VMs in your hypervisor environment. A Platform Layer containing your hypervisor, provisioning service, and connection broker software isolates App and OSLayers from the infrastructure where they will be published.\n\n\nLayered Images for provisioning Session Hosts\n\n\nImage Templates are where you choose the Operating System and  Layer assignments for an Image. You can include OS and App layers in any number of Image Templates. Using an Image Template and a Platform Layer, you can publish a Layered Image to your provisioning service, hypervisor, or network file share .\n\n\nYou can publish Layered Images as virtual disks to any location to which the ELM has access, and use the disks to provision as many servers as you need. \n\n\nPlatform Connectors\n\n\nA Unidesk Platform Connector configured with the credentials for a specific location in your virtual environment, allows Unidesk to publish the Layered Images and provision servers in a specific location. \n\n\nCompatibility\n\n\nFor compatibility details, see \n Supported Platforms\n. \n\n\nGet started \n\n\nIf you haven't yet started your free trial, you can find out how to install Unidesk \nhere\n.", 
            "title": "Welcome"
        }, 
        {
            "location": "/#welcome-to-citrix-app-layering-4", 
            "text": "In this article:                                                                                            The ultimate in application management simplicity                                                    Provision servers in any environment                                                    Deliver applications with ease                                                    A simple addition to your environment                                                    Get started", 
            "title": "Welcome to Citrix App Layering 4"
        }, 
        {
            "location": "/#the-ultimate-in-application-management-simplicity", 
            "text": "Unidesk makes it easier to manage your Windows applications. Regardless of which hypervisor or provisioning service you use, Unidesk can help you manage your applications and operating systems.   Unidesk separates the management of your Operating System and applications from your infrastructure. With Unidesk you can install each of your applications and operating system patches once, and use them as part of any image you deploy. You can publish Layered Images as open standard virtual disks usable in any environment. This allows you to maintain a single Windows installation, and a single copy of each application, that you use for all of your images across all of your virtual environments.               Unidesk wraps each of your applications in a Layer, and stores the Layers as virtual disks.              You can pull together any combination of these App Layers and an OS Layer as part of a Layered Image, and publish it to your target platform.              That means that you can install an application or an operating system once, and deploy it as part of any number of images.", 
            "title": "The ultimate in application management simplicity"
        }, 
        {
            "location": "/#provision-servers-in-any-environment", 
            "text": "Unidesk lets you to package any Windows app as a virtual disk Layer and deliver it, installation-free, to session hosts. With Unidesk Layering, you can:               Install and manage a single copy of your Windows OS and a single copy of each of your applications in Layers.               Select any combination of Layers to create Layered Images that are deployable as Session Hosts.              Deploy those Layered Images to virtual machine session hosts, making the applications available to users.            New applications, application updates, and Windows patches can be delivered to an entire RDSH farm with a single image update.", 
            "title": "Provision servers in any environment"
        }, 
        {
            "location": "/#deliver-applications-with-ease", 
            "text": "Using the Unidesk Management Console, you can:               Layer Applications and deliver them as read-only virtual disks to session hosts. Layering is faster and easier than app virtualization and is compatible with more apps. Layers have the look and feel of a local installation and enable full application interoperability.              Layer a Windows OS and deliver it as a read-only virtual disk to all session hosts. Patch an OS layer once to update an entire RDSH server farm.              Maintain platform-independent OSand App Layers by creating Platform Layers to hold infrastructure-related software and settings.               Provision RDSH VMs. You can create custom RDSH virtual machines by assigning any combination of compatible OS and App layers in any order.", 
            "title": "Deliver applications with ease"
        }, 
        {
            "location": "/#a-simple-addition-to-your-environment", 
            "text": "The heart of the Unidesk deployment is the Enterprise Layer Manager (ELM), a virtual appliance that you deploy in your environment. The ELM hosts the Unidesk Management Console (UMC), a friendly interface where you create Unidesk Layers and assign the OSLayer and App Layers for each of your Layered Images.", 
            "title": "A simple addition to your environment"
        }, 
        {
            "location": "/#unidesk-layers", 
            "text": "With Unidesk you can create an OSLayer or App Layer once, and use it to create any number of images. You can then update the OS or application by adding a new Version to the Layer for each patch or update that you apply.    In App Layers you can deploy virtually any applications compatible with the OS. Each App Layer can include one or more applications. When it's time to upgrade an application, you can add a new version to the Layer for the latest update.  Platform Layers are designed to support your environment. A Platform Layer containing your hypervisor tools and settings makes it easy to create layers using VMs in your hypervisor environment. A Platform Layer containing your hypervisor, provisioning service, and connection broker software isolates App and OSLayers from the infrastructure where they will be published.", 
            "title": "Unidesk Layers"
        }, 
        {
            "location": "/#layered-images-for-provisioning-session-hosts", 
            "text": "Image Templates are where you choose the Operating System and  Layer assignments for an Image. You can include OS and App layers in any number of Image Templates. Using an Image Template and a Platform Layer, you can publish a Layered Image to your provisioning service, hypervisor, or network file share .  You can publish Layered Images as virtual disks to any location to which the ELM has access, and use the disks to provision as many servers as you need.", 
            "title": "Layered Images for provisioning Session Hosts"
        }, 
        {
            "location": "/#platform-connectors", 
            "text": "A Unidesk Platform Connector configured with the credentials for a specific location in your virtual environment, allows Unidesk to publish the Layered Images and provision servers in a specific location.", 
            "title": "Platform Connectors"
        }, 
        {
            "location": "/#compatibility", 
            "text": "For compatibility details, see   Supported Platforms .", 
            "title": "Compatibility"
        }, 
        {
            "location": "/#get-started", 
            "text": "If you haven't yet started your free trial, you can find out how to install Unidesk  here .", 
            "title": "Get started "
        }, 
        {
            "location": "/connectors_about_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Connectors \n Connector essentials\n\n\nConnector essentials\n\n\nIn this article:\n\n\n What are Connectors?\n        \n\n\n What are Connector Configurations?\n        \n\n\n What Connector Configurations do I need?\n        \n\n\n How and when to add a new Connector Configuration\n        \n\n\nWhat are Connectors?\n\n\nConnectors are the interfaces to environments where layers are created and images are published. The type of platform connector determines the information required to create a specific Connector Configuration.\n\n\nWhat are Connector Configurations?\n\n\nA Connector Configuration is a stored set of values for connecting to a storage location in your environment. A configuration typically includes credentials for authentication, a storage location, and any other information required to interface with the environment where you will be creating layers or publishing images. You can create multiple Connector Configurations, each configured to access a unique location in your environment. \n\n\nWhat Connector Configurations do I need?\n\n\nConnector Configurations for importing an OS###to create an OS###Layer\n\n\nWhen you create an OSLayer, you need a Connector Configuration to give Unidesk access to the location of the OSimage that you want to use for your OSLayer. \n\n\nConnector Configurations for creating and updating App Layers, and adding Versions to OS Layers\n\n\nWhen creating or updating an App Layer, or adding Versions to an OSLayer, you need a Connector Configuration for the location in your environment where you will package the Layer. You can create as many configurations as you need, for example, if you have more than one storage location in the environment.\n\n\nConnector Configurations for publishing Layered Images\n\n\nPublishing Layered Images will require different Connector Configurations than the ones you use for creating Layers, if, for example, you publish Layered Images to a variety of storage locations near the users being served. For example, you can prepare your Layers for a server farm in vSphere, and publish Layered Images to Citrix PVS for streaming to servers in vSphere. Or, you can publish Layered Images to more than one storage location in the same environment, each requiring a different Connector Configuration. Each location is likely to require different credentials.\n\n\nHow and when to add a new Connector Configuration\n\n\nIf this is your first time using Unidesk, you will need to add one or more Connector Configurations in the process of adding Layers and publishing Layered Images. In the Unidesk Management Console, the wizards for Creating Layers, Adding Versions, and Publishing Layered Images each include a page for selecting and creating Connector Configurations. For details, click \nAdd a Connector Configuration\n. and select a platform.", 
            "title": "connectors_about_co4"
        }, 
        {
            "location": "/connectors_about_co4/#connector-essentials", 
            "text": "In this article:   What are Connectors?            What are Connector Configurations?            What Connector Configurations do I need?            How and when to add a new Connector Configuration", 
            "title": "Connector essentials"
        }, 
        {
            "location": "/connectors_about_co4/#what-are-connectors", 
            "text": "Connectors are the interfaces to environments where layers are created and images are published. The type of platform connector determines the information required to create a specific Connector Configuration.", 
            "title": "What are Connectors?"
        }, 
        {
            "location": "/connectors_about_co4/#what-are-connector-configurations", 
            "text": "A Connector Configuration is a stored set of values for connecting to a storage location in your environment. A configuration typically includes credentials for authentication, a storage location, and any other information required to interface with the environment where you will be creating layers or publishing images. You can create multiple Connector Configurations, each configured to access a unique location in your environment.", 
            "title": "What are Connector Configurations?"
        }, 
        {
            "location": "/connectors_about_co4/#what-connector-configurations-do-i-need", 
            "text": "", 
            "title": "What Connector Configurations do I need?"
        }, 
        {
            "location": "/connectors_about_co4/#connector-configurations-for-importing-an-osto-create-an-oslayer", 
            "text": "When you create an OSLayer, you need a Connector Configuration to give Unidesk access to the location of the OSimage that you want to use for your OSLayer.", 
            "title": "Connector Configurations for importing an OS###to create an OS###Layer"
        }, 
        {
            "location": "/connectors_about_co4/#connector-configurations-for-creating-and-updating-app-layers-and-adding-versions-to-os-layers", 
            "text": "When creating or updating an App Layer, or adding Versions to an OSLayer, you need a Connector Configuration for the location in your environment where you will package the Layer. You can create as many configurations as you need, for example, if you have more than one storage location in the environment.", 
            "title": "Connector Configurations for creating and updating App Layers, and adding Versions to OS Layers"
        }, 
        {
            "location": "/connectors_about_co4/#connector-configurations-for-publishing-layered-images", 
            "text": "Publishing Layered Images will require different Connector Configurations than the ones you use for creating Layers, if, for example, you publish Layered Images to a variety of storage locations near the users being served. For example, you can prepare your Layers for a server farm in vSphere, and publish Layered Images to Citrix PVS for streaming to servers in vSphere. Or, you can publish Layered Images to more than one storage location in the same environment, each requiring a different Connector Configuration. Each location is likely to require different credentials.", 
            "title": "Connector Configurations for publishing Layered Images"
        }, 
        {
            "location": "/connectors_about_co4/#how-and-when-to-add-a-new-connector-configuration", 
            "text": "If this is your first time using Unidesk, you will need to add one or more Connector Configurations in the process of adding Layers and publishing Layered Images. In the Unidesk Management Console, the wizards for Creating Layers, Adding Versions, and Publishing Layered Images each include a page for selecting and creating Connector Configurations. For details, click  Add a Connector Configuration . and select a platform.", 
            "title": "How and when to add a new Connector Configuration"
        }, 
        {
            "location": "/connector_config_create_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Connectors \n Add a new Connector Configuration\n\n\nAdd a new Connector Configuration\n\n\nWhat platform are you using this Connector Configuration to connect to?\n\n\nCitrix MCS for Nutanix AHV\n            \n\n\nCitrix MCS for vSphere\n            \n\n\nCitrix MCS for XenServer\n            \n\n\nCitrix PVS\n            \n\n\nCitrix XenServer\n            \n\n\nMS Azure\n            \n\n\nNetwork file share\n            \n\n\nNutanix AHV\n            \n\n\nVMware Horizon View\n            \n\n\nVMware vSphere", 
            "title": "connector_config_create_co4"
        }, 
        {
            "location": "/connector_config_create_co4/#add-a-new-connector-configuration", 
            "text": "What platform are you using this Connector Configuration to connect to?  Citrix MCS for Nutanix AHV               Citrix MCS for vSphere               Citrix MCS for XenServer               Citrix PVS               Citrix XenServer               MS Azure               Network file share               Nutanix AHV               VMware Horizon View               VMware vSphere", 
            "title": "Add a new Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields3_vs4/", 
            "text": "Add Connector Configuration\n\n\n\n\nVMware vSphere\n\n\n\n\nConnector Configuration ; Optional Script  (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA vSphere Connector Configuration contains the credentials and storage location Unidesk needs to connect to vSphere. \n\n\nBefore you start\n\n\nYou can use your vSphere environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location. You may need more than one vSphere Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \nAbout Connectors\n. \n\n\nIf this is your first time using Unidesk \n\n\nIf this is your first time using Unidesk and you want to create Unidesk Layers using a vSphere VM, you will need a vSphere Connector. If you are also publishing Layered Images to vSphere, you can create a Connector Configuration for each of your publishing locations as well. \n\n\nThe Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (details below).\n\n\nRequired information for vSphere Connector Configuration settings\n\n\nThe vSphere Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object in vSphere, or the validation will fail. \n\n\n            \nName\n - A useful name to help identify and keep track of this connector configuration. \n            \nvCenter Server\n - The name of the vSphere server with which the Unidesk ELM will integrate. \n            \nvCenter User Name\n - The user name of the account that the Unidesk ELM will use to connect to vSphere. \n            \nvCenter Password\n - The password of the account that the Unidesk ELM will use to connect to vSphere. \n            \nDataCenter Name\n - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.\n            \n                \nLayer Disk Cache Size in GB (optional)\n - The size of the Disk Cache that Unidesk use when creating Layers.  If you leave the size blank or set it to 0, Unidesk does not use a Disk Cache.  If you specify a size, Unidesk users a Disk Cache of up to this size to keep copies of boot disks and packaging disks and reuses these disks to create new packaging machines.  The reuse of these boot disks and packaging disks reduces the time it takes to package an Application Layer.\n            \n            \nDataStore Name\n - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.\n            \nESXHost Name\n - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines. \n            \nNetwork Name\n - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines. \n            \nVirtual Machine Folder Name\n - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines. \n        \n\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in vCenter.\n            \nTo select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nvCenter Server\n, \nvCenter User Name\n, and \nvCenter Password\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available. \n            \nSelect the DataCenter, and the remaining dropdowns will be enabled. \n            \nComplete the remaining fields and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent\u2014the same agent used on the PVS server. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.\n\n\nConfigure a Script (Remember, this is optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows8\n                            \nWindows864\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nAll\n                    \nvSphere connector code\n                    \nThe vCenter server specified in the connector configuration.\n                \n                \n                    \nvmName\n                    \nAll\n                    \nvSphere connector code\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmId\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")\n                \n                \n                    \nvmUuid\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine UUID as set by the underlying highbrd.\n                \n            \n        \n\n\n\nUser Impersonation\n\n\nThe Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.\n\n\nScript Execution Policy\n\n\nScript execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "connector_config_fields3_vs4"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#connector-configuration-optional-script-vsphere", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A vSphere Connector Configuration contains the credentials and storage location Unidesk needs to connect to vSphere.", 
            "title": "Connector Configuration ; Optional Script  (vSphere)"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#before-you-start", 
            "text": "You can use your vSphere environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location. You may need more than one vSphere Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see  About Connectors .", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#if-this-is-your-first-time-using-unidesk", 
            "text": "If this is your first time using Unidesk and you want to create Unidesk Layers using a vSphere VM, you will need a vSphere Connector. If you are also publishing Layered Images to vSphere, you can create a Connector Configuration for each of your publishing locations as well.   The Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (details below).", 
            "title": "If this is your first time using Unidesk "
        }, 
        {
            "location": "/connector_config_fields3_vs4/#required-information-for-vsphere-connector-configuration-settings", 
            "text": "The vSphere Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object in vSphere, or the validation will fail.                Name  - A useful name to help identify and keep track of this connector configuration.               vCenter Server  - The name of the vSphere server with which the Unidesk ELM will integrate.               vCenter User Name  - The user name of the account that the Unidesk ELM will use to connect to vSphere.               vCenter Password  - The password of the account that the Unidesk ELM will use to connect to vSphere.               DataCenter Name  - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.                               Layer Disk Cache Size in GB (optional)  - The size of the Disk Cache that Unidesk use when creating Layers.  If you leave the size blank or set it to 0, Unidesk does not use a Disk Cache.  If you specify a size, Unidesk users a Disk Cache of up to this size to keep copies of boot disks and packaging disks and reuses these disks to create new packaging machines.  The reuse of these boot disks and packaging disks reduces the time it takes to package an Application Layer.                           DataStore Name  - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.              ESXHost Name  - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines.               Network Name  - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines.               Virtual Machine Folder Name  - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines.", 
            "title": "Required information for vSphere Connector Configuration settings"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in vCenter.              To select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  vCenter Server ,  vCenter User Name , and  vCenter Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available.               Select the DataCenter, and the remaining dropdowns will be enabled.               Complete the remaining fields and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent\u2014the same agent used on the PVS server. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#configure-a-script-remember-this-is-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (Remember, this is optional)"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows8                              Windows864                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      All                      vSphere connector code                      The vCenter server specified in the connector configuration.                                                        vmName                      All                      vSphere connector code                      The name of the virtual machine that was created.                                                        vmId                      All                      vSphere connector code                      The virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")                                                        vmUuid                      All                      vSphere connector code                      The virtual machine UUID as set by the underlying highbrd.", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#user-impersonation", 
            "text": "The Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.", 
            "title": "User Impersonation"
        }, 
        {
            "location": "/connector_config_fields3_vs4/#script-execution-policy", 
            "text": "Script execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "Script Execution Policy"
        }, 
        {
            "location": "/connector_config_fields_ah4/", 
            "text": "Add Connector Configuration\n\n\n\n\nNutanix AHV\n\n\n\n\nConnector Configuration ; Optional Script  (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA Nutanix AHV Connector Configuration contains the credentials and storage container Unidesk needs to connect to Nutanix Acropolis. You can use this connector for publishing Layered Images to Acropolis, and for packaging App Layers and new versions of your OS Layer using an Acropolis VM.\n\n\nYou can use this connector to:\n\n\n            \n                \nImport your OSimage from the Acropolis environment.\n            \n            \n                \nPublish Layered Images\n            \n            \n                \nCreate a Packaging Machine for a new App Layer or OSLayer Version (for cross-platform deployments where your OS Image was imported from a hypervisor other than Acropolis)\n            \n        \n\n\n\nBefore you start\n\n\nYou can use your Nutanix Acropolis environment for creating Layers, and publishing Layered Images. Each Connector Configuration accesses a specific storage container in your Nutanix Acropolis environment where you can create your layers or publish layered images. \n\n\nYou may need more than one Nutanix Acropolis Connector Configuration to access the correct container for each purpose. Further, you may want to publish each Layered Image to a container convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \nAbout Connectors\n. \n\n\nIf this is your first time using Unidesk \n\n\nWhen publishing Layered Images to Acropolis, you will need at least one Connector Configuration for each storage container you plan to publish to. You can add  Connector Configurations when creating an Image Template from which you will publish Layered Images. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).\n\n\nRequired information for Acropolis Connector Configuration settings\n\n\nThe Acropolis Connector Configuration wizard let's you define the credentials and container to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object in Acropolis, or the validation will fail. \n\n\n            \nConnector Name\n - A useful name to help identify and keep track of this connector configuration. \n            \nPrism Address\n - The host name (resolvable via DNS) or IP address of the Prism Web Console. This is the same address you use to access the Nutanix Prism Web Console.. \n            \n                \nUser Name/Password\n - Credentials that will be used when interacting with the Nutanix system. The specified user must have sufficient privileges for the following operations: \n                \n                    \nVM operations:\nclone\ndelete\npower on/off\nattach virtual disks\n                    \nImage operations:\ncreate\nupdate (aka upload)\ndelete\n                    \nVirtual disks:\ncreate\nattach to VMs\n                \n            \n            \nAllow Certificate Errors\n - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Nutanix Acropolis. This field is unchecked by default.\n            \nTemplate\n - This is a drop down list of existing virtual machines that can be used for cloning. There is no concept of a \"template\" in Nutanix, so these VMs are actual VMs. The selected template must \nnot\n have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.\n            \nStorage Container\n - Lets you select the storage container for the images (vhds) that will get uploaded and the resulting virtual disks that will get created from those images. When creating App Layers and OS Layer versions, we are required to mount the storage container as an NFS mount point. This means that the selected storage container MUST have the ELM included in a white list of clients that are allowed to mount the storage container via NFS. The white list configuration must be done through the Nutanix product (either their web console or through their CLI tools). If the ELM is not properly white listed for the selected storage container, then the validation phase will fail, and the error will be indicated with the storage container selection.\n        \n\n\n\nHow Virtual Machines are Organized\n\n\nNutanix does not provide a mechanism for organizing virtual machines. Because of this, it may be difficult to find the virtual machines created by your Unidesk ELM when the total number of virtual machines is large. To help you find these VMs, the following naming conventions are used:\n\n\n            \nPackaging Machines\n (virtual machines created during the process of creating an App Layer or OSVersion)\nThe virtual machine name will start with the layer name that is being created/modified\nThe virtual machine names will end with the following text: (Unidesk Packaging Machine)\n            \nLayered Image Virtual Machines\n (virtual machines created as a result of publishing a Layered Image)\nThe virtual machine name will start with the image name that was published\nThe virtual machine name will end with the following text: (Unidesk Published Image)\n        \n\n\n\nWhen viewing virtual machines through the Nutanix web console, you can search for virtual machines by filtering on:\n\n\n            \n\"Unidesk\" to find all virtual machines created by Unidesk\n            \n\"Unidesk Packaging Machine\" to find all virtual machines created for Layer management jobs.\n            \n\"Unidesk Layered Image\" to find all virtual machines created to publish a Layered Image.\n            \nImage name or Layer name to find virtual machines related to a specific Layered Image publishing job or App or OS creation.\n        \n\n\n\nVirtual Machine Network Connectivity\n\n\nThe virtual network settings of the source template specified in the Nutanix AHV Connector Configuration will be carried over when creating any VMs through the Nutanix Acropolis Hypervisor (AHV) Connector. There is no option in the Connector Configuration UI to override the network settings.\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Acropolis.\n            \nTo select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and container where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nAcropolis Address\n, \nUser Name\n, and \nPassword\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the Acropolis Configuration fields. The Virtual Machine Clone Settings field is then enabled. \n            \nSelect the Virtual Machine Template. \n            \nSelect the Storage Repository and click the \nTEST\nbutton to verify that Unidesk can access the container specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. \n\n\nSome preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in Acropolis.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The Acropolis connector logs will contain the output of the executed script.\n\n\nConfigure a Script (optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed here, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nCommon\n                    \nCommon\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nCommon\n                    \nCommon\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nCommon\n                    \nCommon\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows7 64-bit\n                            \nWindows2008  64-bit\n                            \nWindows2012  64-bit\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe Nutanix AHV (Prism Server) specified in the connector configuraiton.\n                \n                \n                    \nvmId\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe virtual machine UUID (same as vmUuid).\n                \n                \n                    \nvmName\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmNetwork\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe name of the virtual network that the main NIC of the virtual machine is connected to.\n                \n                \n                    \nvmNetworkId\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe UUID of the virtual network that the main NIC of the virtual machine is connected to.\n                \n                \n                    \nvmNetworkMAC\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe MAC address of the main NIC that is connected to the virtual network specified in vmNetwork and vmNetworkId.\n                \n                \n                    \nvmUuid\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe virtual machine UUID (same as vmId).\n                \n            \n        \n\n\n\nDefinition Scope\n\n\nDefines whether the scripts variable is set for all Connector types or whether it is specific to a particular Connector type.\n\n\nValue Source\n\n\nDefines whether the variable value is determined by common code or by Connector-specific code.", 
            "title": "connector_config_fields_ah4"
        }, 
        {
            "location": "/connector_config_fields_ah4/#connector-configuration-optional-script-nutanix-ahv", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A Nutanix AHV Connector Configuration contains the credentials and storage container Unidesk needs to connect to Nutanix Acropolis. You can use this connector for publishing Layered Images to Acropolis, and for packaging App Layers and new versions of your OS Layer using an Acropolis VM.  You can use this connector to:                                Import your OSimage from the Acropolis environment.                                            Publish Layered Images                                            Create a Packaging Machine for a new App Layer or OSLayer Version (for cross-platform deployments where your OS Image was imported from a hypervisor other than Acropolis)", 
            "title": "Connector Configuration ; Optional Script  (Nutanix AHV)"
        }, 
        {
            "location": "/connector_config_fields_ah4/#before-you-start", 
            "text": "You can use your Nutanix Acropolis environment for creating Layers, and publishing Layered Images. Each Connector Configuration accesses a specific storage container in your Nutanix Acropolis environment where you can create your layers or publish layered images.   You may need more than one Nutanix Acropolis Connector Configuration to access the correct container for each purpose. Further, you may want to publish each Layered Image to a container convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see  About Connectors .", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_ah4/#if-this-is-your-first-time-using-unidesk", 
            "text": "When publishing Layered Images to Acropolis, you will need at least one Connector Configuration for each storage container you plan to publish to. You can add  Connector Configurations when creating an Image Template from which you will publish Layered Images. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).", 
            "title": "If this is your first time using Unidesk "
        }, 
        {
            "location": "/connector_config_fields_ah4/#required-information-for-acropolis-connector-configuration-settings", 
            "text": "The Acropolis Connector Configuration wizard let's you define the credentials and container to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object in Acropolis, or the validation will fail.                Connector Name  - A useful name to help identify and keep track of this connector configuration.               Prism Address  - The host name (resolvable via DNS) or IP address of the Prism Web Console. This is the same address you use to access the Nutanix Prism Web Console..                                User Name/Password  - Credentials that will be used when interacting with the Nutanix system. The specified user must have sufficient privileges for the following operations:                                        VM operations: clone delete power on/off attach virtual disks                      Image operations: create update (aka upload) delete                      Virtual disks: create attach to VMs                                            Allow Certificate Errors  - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Nutanix Acropolis. This field is unchecked by default.              Template  - This is a drop down list of existing virtual machines that can be used for cloning. There is no concept of a \"template\" in Nutanix, so these VMs are actual VMs. The selected template must  not  have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.              Storage Container  - Lets you select the storage container for the images (vhds) that will get uploaded and the resulting virtual disks that will get created from those images. When creating App Layers and OS Layer versions, we are required to mount the storage container as an NFS mount point. This means that the selected storage container MUST have the ELM included in a white list of clients that are allowed to mount the storage container via NFS. The white list configuration must be done through the Nutanix product (either their web console or through their CLI tools). If the ELM is not properly white listed for the selected storage container, then the validation phase will fail, and the error will be indicated with the storage container selection.", 
            "title": "Required information for Acropolis Connector Configuration settings"
        }, 
        {
            "location": "/connector_config_fields_ah4/#how-virtual-machines-are-organized", 
            "text": "Nutanix does not provide a mechanism for organizing virtual machines. Because of this, it may be difficult to find the virtual machines created by your Unidesk ELM when the total number of virtual machines is large. To help you find these VMs, the following naming conventions are used:               Packaging Machines  (virtual machines created during the process of creating an App Layer or OSVersion) The virtual machine name will start with the layer name that is being created/modified The virtual machine names will end with the following text: (Unidesk Packaging Machine)              Layered Image Virtual Machines  (virtual machines created as a result of publishing a Layered Image) The virtual machine name will start with the image name that was published The virtual machine name will end with the following text: (Unidesk Published Image)           When viewing virtual machines through the Nutanix web console, you can search for virtual machines by filtering on:               \"Unidesk\" to find all virtual machines created by Unidesk              \"Unidesk Packaging Machine\" to find all virtual machines created for Layer management jobs.              \"Unidesk Layered Image\" to find all virtual machines created to publish a Layered Image.              Image name or Layer name to find virtual machines related to a specific Layered Image publishing job or App or OS creation.", 
            "title": "How Virtual Machines are Organized"
        }, 
        {
            "location": "/connector_config_fields_ah4/#virtual-machine-network-connectivity", 
            "text": "The virtual network settings of the source template specified in the Nutanix AHV Connector Configuration will be carried over when creating any VMs through the Nutanix Acropolis Hypervisor (AHV) Connector. There is no option in the Connector Configuration UI to override the network settings.", 
            "title": "Virtual Machine Network Connectivity"
        }, 
        {
            "location": "/connector_config_fields_ah4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Acropolis.              To select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and container where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  Acropolis Address ,  User Name , and  Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the Acropolis Configuration fields. The Virtual Machine Clone Settings field is then enabled.               Select the Virtual Machine Template.               Select the Storage Repository and click the  TEST button to verify that Unidesk can access the container specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_ah4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image.   Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in Acropolis.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The Acropolis connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_ah4/#configure-a-script-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed here, and click  Save .", 
            "title": "Configure a Script (optional)"
        }, 
        {
            "location": "/connector_config_fields_ah4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_ah4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_ah4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      Common                      Common                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      Common                      Common                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      Common                      Common                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows7 64-bit                              Windows2008  64-bit                              Windows2012  64-bit                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      Common                      Nutanix AHV                      The Nutanix AHV (Prism Server) specified in the connector configuraiton.                                                        vmId                      Common                      Nutanix AHV                      The virtual machine UUID (same as vmUuid).                                                        vmName                      Common                      Nutanix AHV                      The name of the virtual machine that was created.                                                        vmNetwork                      Common                      Nutanix AHV                      The name of the virtual network that the main NIC of the virtual machine is connected to.                                                        vmNetworkId                      Common                      Nutanix AHV                      The UUID of the virtual network that the main NIC of the virtual machine is connected to.                                                        vmNetworkMAC                      Common                      Nutanix AHV                      The MAC address of the main NIC that is connected to the virtual network specified in vmNetwork and vmNetworkId.                                                        vmUuid                      Common                      Nutanix AHV                      The virtual machine UUID (same as vmId).", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_ah4/#definition-scope", 
            "text": "Defines whether the scripts variable is set for all Connector types or whether it is specific to a particular Connector type.", 
            "title": "Definition Scope"
        }, 
        {
            "location": "/connector_config_fields_ah4/#value-source", 
            "text": "Defines whether the variable value is determined by common code or by Connector-specific code.", 
            "title": "Value Source"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/", 
            "text": "Add Connector Configuration\n\n\n\n\nCitrix MCS for Nutanix AHV\n\n\n\n\nConnector Configuration ; Optional Script  (MCS for Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nAn MCS for Nutanix AHV (Acropolis) Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your Nutanix AHV environment. This connector does not support Layer creation.\n\n\nBefore you start\n\n\nYou can use MCS for Nutanix AHV  to publish Layered Images. Each Connector Configuration accesses a specific storage location in your Nutanix AHV environment to which you can publish Layered Images. \n\n\nYou may need more than one Nutanix AHV Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \nAbout Connectors\n. \n\n\nIf this is your first time using Unidesk \n\n\nWhen publishing Layered Images to Nutanix AHV, you will need at least one Connector Configuration for each storage location you plan to publish to. You can add  Connector Configurations when creating an Image Template from which you will publish Layered Images. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).\n\n\nRequired information for Nutanix AHV Connector Configuration settings\n\n\nThe Nutanix AHV Connector Configuration wizard let's you browse for the Nutanix AHV Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object in Nutanix AHV, or the validation will fail. \n\n\n            \nConnector Name\n - A useful name to help identify and keep track of this connector configuration. \n            \nPrism Address\n - The host name (resolvable via DNS) or IP address of the Prism Web Console. This is the same address you use to access the Nutanix Prism Web Console.. \n            \n                \nUser Name/Password\n - Credentials that will be used when interacting with the Nutanix system. The specified user must have sufficient privileges for the following operations: \n                \n                    \nVM operations:\nclone\ndelete\npower on/off\nattach virtual disks\n                    \nImage operations:\ncreate\nupdate (aka upload)\ndelete\n                    \nVirtual disks:\ncreate\nattach to VMs\n                \n            \n            \nAllow Certificate Errors\n - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Nutanix AHV. This field is unchecked by default.\n            \nTemplate\n - This is a drop down list of existing virtual machines that can be used for cloning. There is no concept of a \"template\" in Nutanix, so these VMs are actual VMs. The selected template must \nnot\n have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.\n            \nStorage Container\n - Lets you select the storage container for the images (vhds) that will get uploaded and the resulting virtual disks that will get created from those images. When creating App Layers and OS Layer versions, we are required to mount the storage container as an NFS mount point. This means that the selected storage container MUST have the ELM included in a white list of clients that are allowed to mount the storage container via NFS. The white list configuration must be done through the Nutanix product (either their web console or through their CLI tools). If the ELM is not properly white listed for the selected storage container, then the validation phase will fail, and the error will be indicated with the storage container selection.\n        \n\n\n\nHow Virtual Machines are Organized\n\n\nNutanix does not provide a mechanism for organizing virtual machines. Because of this, it may be difficult to find the virtual machines created by your Unidesk ELM when the total number of virtual machines is large. To help you find these VMs, the following naming conventions are used:\n\n\n            \nPackaging Machines\n (virtual machines created during the process of creating an App Layer or OSVersion)\nThe virtual machine name will start with the layer name that is being created/modified\nThe virtual machine names will end with the following text: (Unidesk Packaging Machine)\n            \nLayered Image Virtual Machines\n (virtual machines created as a result of publishing a Layered Image)\nThe virtual machine name will start with the image name that was published\nThe virtual machine name will end with the following text: (Unidesk Published Image)\n        \n\n\n\nWhen viewing virtual machines through the Nutanix web console, you can search for virtual machines by filtering on:\n\n\n            \n\"Unidesk\" to find all virtual machines created by Unidesk\n            \n\"Unidesk Packaging Machine\" to find all virtual machines created for Layer management jobs.\n            \n\"Unidesk Layered Image\" to find all virtual machines created to publish a Layered Image.\n            \nImage name or Layer name to find virtual machines related to a specific Layered Image publishing job or App or OS creation.\n        \n\n\n\nVirtual Machine Network Connectivity\n\n\nThe virtual network settings of the source template specified in the Nutanix AHV Connector Configuration will be carried over when creating any VMs through the Nutanix Acropolis Hypervisor (AHV) Connector. There is no option in the Connector Configuration UI to override the network settings.\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Nutanix AHV.\n            \nTo select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nNutanix AHV Address\n, \nUser Name\n, and \nPassword\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the Nutanix AHV Configuration fields. The Virtual Machine Clone Settings field is then enabled. \n            \nSelect the Virtual Machine Template. \n            \nSelect the Storage Repository and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. \n\n\nSome preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in Nutanix AHV.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The Nutanix AHV connector logs will contain the output of the executed script.\n\n\nConfigure a Script (optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nCommon\n                    \nCommon\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nCommon\n                    \nCommon\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nCommon\n                    \nCommon\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows7 64-bit\n                            \nWindows2008  64-bit\n                            \nWindows2012  64-bit\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe Nutanix AHV (Prism Server) specified in the connector configuraiton.\n                \n                \n                    \nvmId\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe virtual machine UUID (same as vmUuid).\n                \n                \n                    \nvmName\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmNetwork\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe name of the virtual network that the main NIC of the virtual machine is connected to.\n                \n                \n                    \nvmNetworkId\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe UUID of the virtual network that the main NIC of the virtual machine is connected to.\n                \n                \n                    \nvmNetworkMAC\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe MAC address of the main NIC that is connected to the virtual network specified in vmNetwork and vmNetworkId.\n                \n                \n                    \nvmUuid\n                    \nCommon\n                    \nNutanix AHV\n                    \nThe virtual machine UUID (same as vmId).\n                \n            \n        \n\n\n\nDefinition Scope\n\n\nDefines whether the scripts variable is set for all Connector types or whether it is specific to a particular Connector type.\n\n\nValue Source\n\n\nDefines whether the variable value is determined by common code or by Connector-specific code.", 
            "title": "connector_config_fields_ah_mc4"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#connector-configuration-optional-script-mcs-for-nutanix-ahv", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       An MCS for Nutanix AHV (Acropolis) Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your Nutanix AHV environment. This connector does not support Layer creation.", 
            "title": "Connector Configuration ; Optional Script  (MCS for Nutanix AHV)"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#before-you-start", 
            "text": "You can use MCS for Nutanix AHV  to publish Layered Images. Each Connector Configuration accesses a specific storage location in your Nutanix AHV environment to which you can publish Layered Images.   You may need more than one Nutanix AHV Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see  About Connectors .", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#if-this-is-your-first-time-using-unidesk", 
            "text": "When publishing Layered Images to Nutanix AHV, you will need at least one Connector Configuration for each storage location you plan to publish to. You can add  Connector Configurations when creating an Image Template from which you will publish Layered Images. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).", 
            "title": "If this is your first time using Unidesk "
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#required-information-for-nutanix-ahv-connector-configuration-settings", 
            "text": "The Nutanix AHV Connector Configuration wizard let's you browse for the Nutanix AHV Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object in Nutanix AHV, or the validation will fail.                Connector Name  - A useful name to help identify and keep track of this connector configuration.               Prism Address  - The host name (resolvable via DNS) or IP address of the Prism Web Console. This is the same address you use to access the Nutanix Prism Web Console..                                User Name/Password  - Credentials that will be used when interacting with the Nutanix system. The specified user must have sufficient privileges for the following operations:                                        VM operations: clone delete power on/off attach virtual disks                      Image operations: create update (aka upload) delete                      Virtual disks: create attach to VMs                                            Allow Certificate Errors  - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Nutanix AHV. This field is unchecked by default.              Template  - This is a drop down list of existing virtual machines that can be used for cloning. There is no concept of a \"template\" in Nutanix, so these VMs are actual VMs. The selected template must  not  have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.              Storage Container  - Lets you select the storage container for the images (vhds) that will get uploaded and the resulting virtual disks that will get created from those images. When creating App Layers and OS Layer versions, we are required to mount the storage container as an NFS mount point. This means that the selected storage container MUST have the ELM included in a white list of clients that are allowed to mount the storage container via NFS. The white list configuration must be done through the Nutanix product (either their web console or through their CLI tools). If the ELM is not properly white listed for the selected storage container, then the validation phase will fail, and the error will be indicated with the storage container selection.", 
            "title": "Required information for Nutanix AHV Connector Configuration settings"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#how-virtual-machines-are-organized", 
            "text": "Nutanix does not provide a mechanism for organizing virtual machines. Because of this, it may be difficult to find the virtual machines created by your Unidesk ELM when the total number of virtual machines is large. To help you find these VMs, the following naming conventions are used:               Packaging Machines  (virtual machines created during the process of creating an App Layer or OSVersion) The virtual machine name will start with the layer name that is being created/modified The virtual machine names will end with the following text: (Unidesk Packaging Machine)              Layered Image Virtual Machines  (virtual machines created as a result of publishing a Layered Image) The virtual machine name will start with the image name that was published The virtual machine name will end with the following text: (Unidesk Published Image)           When viewing virtual machines through the Nutanix web console, you can search for virtual machines by filtering on:               \"Unidesk\" to find all virtual machines created by Unidesk              \"Unidesk Packaging Machine\" to find all virtual machines created for Layer management jobs.              \"Unidesk Layered Image\" to find all virtual machines created to publish a Layered Image.              Image name or Layer name to find virtual machines related to a specific Layered Image publishing job or App or OS creation.", 
            "title": "How Virtual Machines are Organized"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#virtual-machine-network-connectivity", 
            "text": "The virtual network settings of the source template specified in the Nutanix AHV Connector Configuration will be carried over when creating any VMs through the Nutanix Acropolis Hypervisor (AHV) Connector. There is no option in the Connector Configuration UI to override the network settings.", 
            "title": "Virtual Machine Network Connectivity"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Nutanix AHV.              To select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  Nutanix AHV Address ,  User Name , and  Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the Nutanix AHV Configuration fields. The Virtual Machine Clone Settings field is then enabled.               Select the Virtual Machine Template.               Select the Storage Repository and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image.   Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in Nutanix AHV.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The Nutanix AHV connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#configure-a-script-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (optional)"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      Common                      Common                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      Common                      Common                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      Common                      Common                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows7 64-bit                              Windows2008  64-bit                              Windows2012  64-bit                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      Common                      Nutanix AHV                      The Nutanix AHV (Prism Server) specified in the connector configuraiton.                                                        vmId                      Common                      Nutanix AHV                      The virtual machine UUID (same as vmUuid).                                                        vmName                      Common                      Nutanix AHV                      The name of the virtual machine that was created.                                                        vmNetwork                      Common                      Nutanix AHV                      The name of the virtual network that the main NIC of the virtual machine is connected to.                                                        vmNetworkId                      Common                      Nutanix AHV                      The UUID of the virtual network that the main NIC of the virtual machine is connected to.                                                        vmNetworkMAC                      Common                      Nutanix AHV                      The MAC address of the main NIC that is connected to the virtual network specified in vmNetwork and vmNetworkId.                                                        vmUuid                      Common                      Nutanix AHV                      The virtual machine UUID (same as vmId).", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#definition-scope", 
            "text": "Defines whether the scripts variable is set for all Connector types or whether it is specific to a particular Connector type.", 
            "title": "Definition Scope"
        }, 
        {
            "location": "/connector_config_fields_ah_mc4/#value-source", 
            "text": "Defines whether the variable value is determined by common code or by Connector-specific code.", 
            "title": "Value Source"
        }, 
        {
            "location": "/connector_config_fields_az4/", 
            "text": "Add Connector Configuration\n\n\n\n\nMS Azure\n\n\n\n\nAzure Connector Configuration\n\n\nThis article contains:\n\n\n When to add a Connector Configuration for Azure\n        \n\n\n Azure information required\n        \n\n\n Add a Connector Configuration\n        \n\n\nA Connector Configuration contains the credentials and location information that Unidesk needs to access a specific location in Azure. For example, your organization may have one Azure account and several storage locations, and you will need a Connector Configuration so Unidesk can access each storage locations. For more about Connectors and Connector Configurations, see \nConnectors and Connector Configurations\n.\n\n\nWhen to add a Connector Configuration for Azure\n\n\nWhen you create your first Layers, and later when you publish Layered Images for the first time you will add a Connector Configuration for each task, as described below.\n\n\nAzure information required\n\n\nYour organization may have several Azure subscriptions. For Unidesk to access your Azure RDSession Host account, whether it's to download an OSImage or to publish a Layered Image, you must run this tool for each Azure subscription that you want to connect to via Unidesk. You can use the Unidesk Credentials Setup Tool to set up credentials for the Unidesk ELM, and later retrieve, the credentials you set up. \n\n\n            \nName\n - A name you enter for a new Connector Configuration. \n            \nSubscription ID\n - In order to deploy Azure virtual machines, your organization must have an account and credentials, including a subscription ID. \n            \nTenant ID\n - This is a GUID that identifies your organization's dedicated instance of Azure AD. \n            \nClient ID\n - The identifier for one of potentially many Azure accounts that your organization has.\n            \nClient Secret\n - The password you want to use for the Client ID specified. If you already have a forgotten it, you can create a new one.\n            \n                \nStorage Account Name\n - The Azure storage account you want to use when storing Azure virtual machine disks. This name must adhere to Azure storage account naming restrictions. For example, the storage account name cannot contain uppercase characters. \n                \nYou must either create a storage account through the portal or use an existing storage account that fits the following criteria. The account:\n                \n                    \nCannot be a \nclassic\n storage account.\n                    \nShould be a separate storage account from the one used for the Unidesk ELM. This new storage account will be used during Layer creation and Layered Image publishing.\n                    \nMust be in the Azure location where you will deploy VMs.\n                    \nMust be one of the following types: \nStandard\n Locally Redundant storage (LRS)\nStandard\n Geo-Redundant storage (GRS)\nStandard\n Read-Access Geo-Redundant storage (RAGRS)\n                    \nCan be located in any resource group, as long as the resource group's location is the same as the account's location.\n                \n            \n        \n\n\n\nTool for retrieving information from Azure\n\n\nThe Azure Credentials  Tool is a PowerShell script that grants the Unidesk appliance restricted access to your Azure subscription so that Unidesk can retrieve the information required to create a new Azure Connector Configuration. When you run the tool, it prompts you for your Azure Login credentials, then sets up the credentials required for Unidesk to gain restricted access to your Azure subscription. \n\n\nRequirements for running the Azure Credentials Tool\n\n\n            \nA system with access to Azure and running the following software:\n Windows Server 2008, or later\nWindows Powershell 2.0, or later (This ships with Windows Server 2008 and later.)\nStorage Account in Azure\n            \n                \nLogin credentials for a \nGlobal Admin\n or \nService Admin\n in the Azure Active Directory Tenant associated with your subscription. In Azure, you can manage Active Directory \nhere\n.\n                \nAn Azure AD tenant can be associated with many subscriptions, but each subscription can only have one tenant. If you are not sure which tenant is associated with which subscription, you can find out by clicking \nSubscriptions\n on the top of the old portal, and filtering by the directories listed until your subscription is listed as a check box under \nFilter by Subscriptions\n. \n            \n        \n\n\n\nCreate a new storage account in Azure, if you don't have one for this purpose\n\n\n            \nIn a web browser, navigate to the \nMicrosoft Azure portal\n and log in.\n            \nOn the sidebar, select \nStorage accounts\n or \nBrowser > Storage accounts\n. Do \nnot\n select Storage accounts (classic). \n            \nSelect \nAdd\n in the top-left corner of the window that opens. \n            \nIn the form that appears, select the options you need, making sure that the new storage location fits the same criteria for using any existing storage account.\n        \n\n\n\nRetrieve information for a new Azure Connector Configuration\n\n\nHere's how to set up your Azure credentials in the Connector Configuration wizard. It explains how to run the Azure for each Azure subscription that you want Unidesk to access.\n\n\n            \nOn a Windows Server 2008 (or later version) machine, download and run the Unidesk Azure Credentials Tool from the \nUnidesk 4 Downloads\n page.\n            \nFollow the directions in the command prompt to select a subscription and choose a Client Secret.\n            \nWhen the tool is complete, it will display the fields below. These should be entered into the configuration. \n            \nEnter the Client Secret that you chose while running the tool.\n            \nIf you did not enter a Client Secret, it has already been set up using this tool and you should use the one that was entered previously.\n        \n\n\n\nNote: you will have to enter a new Client Secret each time you use a new subscription that has a new Tenant ID. This is because client secrets are logically associated with Azure tenants.\n\n\nRetrieve information for an \nexisting\n Azure Connector Configuration\n\n\nIf you have already run the Azure Credentials Tool to set up a subscription, you do not need to run the tool again. You can simply reuse the Name, Subscription ID, Tenant ID, Client ID, and Client Secret that you obtained. \n\n\nWhat to do if your Azure Client Secret is lost\n\n\nOnce Unidesk creates the Client Secret for a Connector Configuration, the secret will always be hidden from view. If you forget and lose the Client Secret for a Configuration, you can reset it by using the following procedure:\n\n\nNote: You may have to be the primary Administrator of your Azure subscription to complete this procedure. Other Azure users may not have the access required.\n\n\n            \nLog in to the \nClassic\n Azure Portal at: \nhttps://manage.windowsazure.com/\n.\n            \nIn the left sidebar, select \nActive Directory\n.\n            \nFrom the list of Active Directories, select the entry corresponding to your Unidesk installation.\n            \nFrom the top menu, select \nApplications\n.\n            \nIn the Show field, select \nApplications my company owns\n.\n            \nIn the Search box, enter \nUnidesk\n and click the check mark to perform the search.\n            \nIn the search results, locate an entry named \"Unidesk ELM Access for \nyour-subscription-name\n\" and delete it. If you do not see such an entry, look for it in your other Active Directories.\n            \nRun the Unidesk Azure Credentials Tool again to create a new Client Secret.\n        \n\n\n\nAdd a Connector Configuration\n\n\nTo add a new Connector Configuration:\n\n\n            \nIn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nComplete the fields on the Connector Configuration page. For guidance, see the above field definitions.\n            \nClick the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector tab.", 
            "title": "connector_config_fields_az4"
        }, 
        {
            "location": "/connector_config_fields_az4/#azure-connector-configuration", 
            "text": "This article contains:   When to add a Connector Configuration for Azure            Azure information required            Add a Connector Configuration           A Connector Configuration contains the credentials and location information that Unidesk needs to access a specific location in Azure. For example, your organization may have one Azure account and several storage locations, and you will need a Connector Configuration so Unidesk can access each storage locations. For more about Connectors and Connector Configurations, see  Connectors and Connector Configurations .", 
            "title": "Azure Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_az4/#when-to-add-a-connector-configuration-for-azure", 
            "text": "When you create your first Layers, and later when you publish Layered Images for the first time you will add a Connector Configuration for each task, as described below.", 
            "title": "When to add a Connector Configuration for Azure"
        }, 
        {
            "location": "/connector_config_fields_az4/#azure-information-required", 
            "text": "Your organization may have several Azure subscriptions. For Unidesk to access your Azure RDSession Host account, whether it's to download an OSImage or to publish a Layered Image, you must run this tool for each Azure subscription that you want to connect to via Unidesk. You can use the Unidesk Credentials Setup Tool to set up credentials for the Unidesk ELM, and later retrieve, the credentials you set up.                Name  - A name you enter for a new Connector Configuration.               Subscription ID  - In order to deploy Azure virtual machines, your organization must have an account and credentials, including a subscription ID.               Tenant ID  - This is a GUID that identifies your organization's dedicated instance of Azure AD.               Client ID  - The identifier for one of potentially many Azure accounts that your organization has.              Client Secret  - The password you want to use for the Client ID specified. If you already have a forgotten it, you can create a new one.                               Storage Account Name  - The Azure storage account you want to use when storing Azure virtual machine disks. This name must adhere to Azure storage account naming restrictions. For example, the storage account name cannot contain uppercase characters.                   You must either create a storage account through the portal or use an existing storage account that fits the following criteria. The account:                                       Cannot be a  classic  storage account.                      Should be a separate storage account from the one used for the Unidesk ELM. This new storage account will be used during Layer creation and Layered Image publishing.                      Must be in the Azure location where you will deploy VMs.                      Must be one of the following types:  Standard  Locally Redundant storage (LRS) Standard  Geo-Redundant storage (GRS) Standard  Read-Access Geo-Redundant storage (RAGRS)                      Can be located in any resource group, as long as the resource group's location is the same as the account's location.", 
            "title": "Azure information required"
        }, 
        {
            "location": "/connector_config_fields_az4/#tool-for-retrieving-information-from-azure", 
            "text": "The Azure Credentials  Tool is a PowerShell script that grants the Unidesk appliance restricted access to your Azure subscription so that Unidesk can retrieve the information required to create a new Azure Connector Configuration. When you run the tool, it prompts you for your Azure Login credentials, then sets up the credentials required for Unidesk to gain restricted access to your Azure subscription.", 
            "title": "Tool for retrieving information from Azure"
        }, 
        {
            "location": "/connector_config_fields_az4/#requirements-for-running-the-azure-credentials-tool", 
            "text": "A system with access to Azure and running the following software:  Windows Server 2008, or later Windows Powershell 2.0, or later (This ships with Windows Server 2008 and later.) Storage Account in Azure                               Login credentials for a  Global Admin  or  Service Admin  in the Azure Active Directory Tenant associated with your subscription. In Azure, you can manage Active Directory  here .                  An Azure AD tenant can be associated with many subscriptions, but each subscription can only have one tenant. If you are not sure which tenant is associated with which subscription, you can find out by clicking  Subscriptions  on the top of the old portal, and filtering by the directories listed until your subscription is listed as a check box under  Filter by Subscriptions .", 
            "title": "Requirements for running the Azure Credentials Tool"
        }, 
        {
            "location": "/connector_config_fields_az4/#create-a-new-storage-account-in-azure-if-you-dont-have-one-for-this-purpose", 
            "text": "In a web browser, navigate to the  Microsoft Azure portal  and log in.              On the sidebar, select  Storage accounts  or  Browser > Storage accounts . Do  not  select Storage accounts (classic).               Select  Add  in the top-left corner of the window that opens.               In the form that appears, select the options you need, making sure that the new storage location fits the same criteria for using any existing storage account.", 
            "title": "Create a new storage account in Azure, if you don't have one for this purpose"
        }, 
        {
            "location": "/connector_config_fields_az4/#retrieve-information-for-a-new-azure-connector-configuration", 
            "text": "Here's how to set up your Azure credentials in the Connector Configuration wizard. It explains how to run the Azure for each Azure subscription that you want Unidesk to access.               On a Windows Server 2008 (or later version) machine, download and run the Unidesk Azure Credentials Tool from the  Unidesk 4 Downloads  page.              Follow the directions in the command prompt to select a subscription and choose a Client Secret.              When the tool is complete, it will display the fields below. These should be entered into the configuration.               Enter the Client Secret that you chose while running the tool.              If you did not enter a Client Secret, it has already been set up using this tool and you should use the one that was entered previously.           Note: you will have to enter a new Client Secret each time you use a new subscription that has a new Tenant ID. This is because client secrets are logically associated with Azure tenants.", 
            "title": "Retrieve information for a new Azure Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_az4/#what-to-do-if-your-azure-client-secret-is-lost", 
            "text": "Once Unidesk creates the Client Secret for a Connector Configuration, the secret will always be hidden from view. If you forget and lose the Client Secret for a Configuration, you can reset it by using the following procedure:  Note: You may have to be the primary Administrator of your Azure subscription to complete this procedure. Other Azure users may not have the access required.               Log in to the  Classic  Azure Portal at:  https://manage.windowsazure.com/ .              In the left sidebar, select  Active Directory .              From the list of Active Directories, select the entry corresponding to your Unidesk installation.              From the top menu, select  Applications .              In the Show field, select  Applications my company owns .              In the Search box, enter  Unidesk  and click the check mark to perform the search.              In the search results, locate an entry named \"Unidesk ELM Access for  your-subscription-name \" and delete it. If you do not see such an entry, look for it in your other Active Directories.              Run the Unidesk Azure Credentials Tool again to create a new Client Secret.", 
            "title": "What to do if your Azure Client Secret is lost"
        }, 
        {
            "location": "/connector_config_fields_az4/#add-a-connector-configuration", 
            "text": "To add a new Connector Configuration:               In the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Complete the fields on the Connector Configuration page. For guidance, see the above field definitions.              Click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector tab.", 
            "title": "Add a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_fs4/", 
            "text": "Add Connector Configuration\n\n\n\n\nNetwork file share\n\n\n\n\nUsing the Network File Share Connector Configuration\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Network File Share location\n                        \n                        \n When to select the Network File Share as your Connector Configuration \n                        \n                    \n                \n            \n        \n\n\n\nWhen the Unidesk Enterprise Layer Manager is installed, you set up a network file share that you can then use as a Connector Configuration when creating layers and publishing Layered Images. This Connector Configuration contains the ELM's Network File Share credentials and location so you can deploy a Packaging Machine to the File Share when creating layers, or publishing Layered Images. \n\n\nEach Connector Configuration is set up to access a storage location via a specific account. For more about Connectors and Connector Configurations, see \nAbout Connectors and Connector Configurations\n. \n\n\nNetwork File Share location\n\n\nThe name of the Network File Share Connector Configuration includes its location. Look for the Unidesk folder at the top level of the Network File Share. For details, see \n Set up a network file share\n.\n\n\nWhen to select the Network File Share as your Connector Configuration \n\n\nWhen you publish Layered Images to a provisioning service for which we do not yet have a Connector, you can select the Network File Share Connector Configuration. You can then copy the Layered Image from the network file share to the correct location for provisioning servers.", 
            "title": "connector_config_fields_fs4"
        }, 
        {
            "location": "/connector_config_fields_fs4/#using-the-network-file-share-connector-configuration", 
            "text": "In this article:                                                                                            Network File Share location                                                    When to select the Network File Share as your Connector Configuration                                                                                        When the Unidesk Enterprise Layer Manager is installed, you set up a network file share that you can then use as a Connector Configuration when creating layers and publishing Layered Images. This Connector Configuration contains the ELM's Network File Share credentials and location so you can deploy a Packaging Machine to the File Share when creating layers, or publishing Layered Images.   Each Connector Configuration is set up to access a storage location via a specific account. For more about Connectors and Connector Configurations, see  About Connectors and Connector Configurations .", 
            "title": "Using the Network File Share Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_fs4/#network-file-share-location", 
            "text": "The name of the Network File Share Connector Configuration includes its location. Look for the Unidesk folder at the top level of the Network File Share. For details, see   Set up a network file share .", 
            "title": "Network File Share location"
        }, 
        {
            "location": "/connector_config_fields_fs4/#when-to-select-the-network-file-share-as-your-connector-configuration", 
            "text": "When you publish Layered Images to a provisioning service for which we do not yet have a Connector, you can select the Network File Share Connector Configuration. You can then copy the Layered Image from the network file share to the correct location for provisioning servers.", 
            "title": "When to select the Network File Share as your Connector Configuration "
        }, 
        {
            "location": "/connector_config_fields_pv4/", 
            "text": "Add Connector Configuration\n\n\n\n\nCitrix PVS\n\n\n\n\nConnector Configuration ; Optional Script (PVS) \n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a new Connector Configuration for PVS\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA PVS Connector Configuration contains the credentials and storage location Unidesk needs to connect to PVS, and it identifies the properties to be associated with the vDisk. \n\n\nEach Connector Configuration is set up to access a storage location via a specific account. For more about Connectors and Connector Configurations, see \nAbout Connectors and Connector Configurations\n. \n\n\nBefore you start\n\n\nThe first time you create an Image Template for publishing Layered Images to your PVS environment, add a PVS Connector Configuration for that PVS location.\n\n\nPVS###requirements\n\n\nPVS####services must be running as a domain account\n\n\nFor Unidesk to work correctly with PVS, the PVS services must be running as a domain account. This is because domain accounts have permissions to access the PVS store and the local system account does not. \n\n\nIf your PVSserver is configured to use the local system account, which is the default setting, you can change the account by running the PVSconfiguration tool. This tool gives you an option to run as local system or use a domain account.  Choose a domain account. \n\n\nPVS\n####server and account information \n\n\nFor Unidesk to access the location in your PVS environment where you want to publish a Layered Image, you need to supply the credentials and location in a PVS Connector Configuration.\n\n\nThe information you need for the PVS Connector Configuration includes. \n\n\n            \nName\n - A useful name to help identify and keep track of this connector configuration. \n            \nConsole\n - The name of the PVSserver on which the Undesk agent is deployed. This is the server to which the vDisk will be published.\n            \nDomain User\n - User name of a domain account that has permission to manage PVS.  This account will be used by the agent to run PVS Powershell commands. This account \nmust\n have \nRead/Write\n access to the PVS store for writing the published vDisk.\n            \nPassword\n - Password for the domain user account. \n            \nSite Name\n - Name of the Site this vDisk is to be a member of. \n            \nStore Name\n - Name of the Store that this vDisk is a member of. \n            \nWrite Cache\n - When a new Disk is being created, this value sets the Write Cache type of the new Disk. Possible values include:\nCache on Server\nCache on Server, Persistent\nCache in Device RAM\nCache in Device RAM with Overflow on Hard Disk\nCache on Device Hard Drive\nWhen choosing a \nWrite Cache\n option, consult your \nPVS documentation\n to ensure that the PVS Servers and target devices that use this vDisk are properly configured for the type you select. \n            \nLicense Mode\n - Sets the Windows License Mode to: \nKMS - Key Management Service\nMAK - Multiple Activation Keys\nNone\n            \nEnable Active Directory machine account password management\n - Enables Active Directory (AD) password management. The default value is \nEnabled\n.\n            \nEnable Load Balancing\n - Enables load balancing. for the streaming of the vDisk\n            \nEnable Printer Management\n - When enabled, invalid printers will be deleted from the Device. \n        \n\n\n\nCreate a new Connector Configuration for PVS\n\n\nIf you don't yet have a Connector Configuration that includes the PVSserver information and credentials for the server where the Layered Image will be published, add one now.\n\n\nTo add a new Connector Configuration:\n\n\n            \nIn the Publish Layered Image wizard, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are publishing the Layered Image. Then click \nNew\n to open the Connector Configuration page. \n            \nComplete the fields on the Connector Configuration page. For guidance, see the above field definitions.\n            \nClick the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSAVE\n. The new Connector Configuration should now be listed on the Connector tab.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent\u2014the same agent used on the PVS server. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in PVS.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The PVS connector logs will contain the output of the executed script.\n\n\nConfigure a Script (Remember, this is optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \ndiskLocatorId\n                    \nAll\n                    \nPVS\n                    \nThe internal id for the vDisk.\n                \n            \n        \n\n\n\nUser Impersonation\n\n\nThe Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.\n\n\nScript Execution Policy\n\n\nScript execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "connector_config_fields_pv4"
        }, 
        {
            "location": "/connector_config_fields_pv4/#connector-configuration-optional-script-pvs", 
            "text": "In this article:                                                                                            Before you start                                                    Create a new Connector Configuration for PVS                                                    Script Configuration (Optional, Advanced feature)                                                                                       A PVS Connector Configuration contains the credentials and storage location Unidesk needs to connect to PVS, and it identifies the properties to be associated with the vDisk.   Each Connector Configuration is set up to access a storage location via a specific account. For more about Connectors and Connector Configurations, see  About Connectors and Connector Configurations .", 
            "title": "Connector Configuration ; Optional Script (PVS) "
        }, 
        {
            "location": "/connector_config_fields_pv4/#before-you-start", 
            "text": "The first time you create an Image Template for publishing Layered Images to your PVS environment, add a PVS Connector Configuration for that PVS location.", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_pv4/#pvsrequirements", 
            "text": "", 
            "title": "PVS###requirements"
        }, 
        {
            "location": "/connector_config_fields_pv4/#pvsservices-must-be-running-as-a-domain-account", 
            "text": "For Unidesk to work correctly with PVS, the PVS services must be running as a domain account. This is because domain accounts have permissions to access the PVS store and the local system account does not.   If your PVSserver is configured to use the local system account, which is the default setting, you can change the account by running the PVSconfiguration tool. This tool gives you an option to run as local system or use a domain account.  Choose a domain account.", 
            "title": "PVS####services must be running as a domain account"
        }, 
        {
            "location": "/connector_config_fields_pv4/#create-a-new-connector-configuration-for-pvs", 
            "text": "If you don't yet have a Connector Configuration that includes the PVSserver information and credentials for the server where the Layered Image will be published, add one now.  To add a new Connector Configuration:               In the Publish Layered Image wizard, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are publishing the Layered Image. Then click  New  to open the Connector Configuration page.               Complete the fields on the Connector Configuration page. For guidance, see the above field definitions.              Click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  SAVE . The new Connector Configuration should now be listed on the Connector tab.", 
            "title": "Create a new Connector Configuration for PVS"
        }, 
        {
            "location": "/connector_config_fields_pv4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent\u2014the same agent used on the PVS server. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in PVS.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The PVS connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_pv4/#configure-a-script-remember-this-is-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (Remember, this is optional)"
        }, 
        {
            "location": "/connector_config_fields_pv4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_pv4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_pv4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      diskLocatorId                      All                      PVS                      The internal id for the vDisk.", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_pv4/#user-impersonation", 
            "text": "The Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.", 
            "title": "User Impersonation"
        }, 
        {
            "location": "/connector_config_fields_pv4/#script-execution-policy", 
            "text": "Script execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "Script Execution Policy"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/", 
            "text": "Add Connector Configuration\n\n\n\n\nCitrix MCS for vSphere\n\n\n\n\nConnector Configuration ; Optional Script  (Citrix MCS for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA Citrix MCS for vSphere Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your vSphere environment. \n\n\nYou can publish Layered Images to MCS running in a vSphere environment using a Citrix MCSfor vSphere Connector Configuration. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.\n\n\nEach Connector Configuration is set to publish Layered Images to a specific storage location in your MCSenvironment, so you may need more than one MCS Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \n Connector essentials\n. \n\n\nNotes:\n\n\n            \nThis Connector Configuration is for publishing Layered Images. You cannot package Layers in the MCSenvironment. \n            \nPersonal vDisks are \nnot\n supported for Citrix MCS. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.\n        \n\n\n\nBefore you start\n\n\nThe first time you create an Image Template for publishing Layered Images to a location in your MCS environment, you will create a Connector Configuration for that location. \n\n\nRequired information for this Connector Configuration\n\n\nThe Citrix MCS for vSphere Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object your environment, or the validation will fail. \n\n\n            \nName\n - A useful name to help identify and keep track of this connector configuration. \n            \nvCenter Server\n - The name of the vSphere server with which the Unidesk ELM will integrate. \n            \nvCenter User Name\n - The user name of the account that the Unidesk ELM will use to connect to vSphere. \n            \nvCenter Password\n - The password of the account that the Unidesk ELM will use to connect to vSphere. \n            \nDataCenter Name\n - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.\n            \nVirtual Machine Template (recommended)\n - The virtual machine  to use as a template for cloning. Use the template to create a VM with the settings  for your MCS catalog, including memory, CPUs and video settings. You can specify the host, datastore and network for configuring the resulting VMs. The VM must \nnot\n have any connected disks.\n            \nDataStore Name\n - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.\n            \nESXHost Name\n - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines. \n            \nNetwork Name\n - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines. \n            \nVirtual Machine Folder Name\n - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines. \n        \n\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually:Click to put the cursor in the field and type the value.\n            \nTo select a value from a drop-down list: Click once to put the cursor in the field, and a second time to choose from a list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nvCenter Server\n, \nvCenter User Name\n, and \nvCenter Password\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available. \n            \nSelect the DataCenter, and the remaining dropdowns will be enabled. \n            \n(Recommended) Select a virtual machine to use as the template. Although a VMTemplate is optional, it is strongly recommended. .\n            \nComplete the remaining fields and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.\n\n\nConfigure a Script (Remember, this is optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows8\n                            \nWindows864\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nAll\n                    \nvSphere connector code\n                    \nThe vCenter server specified in the connector configuration.\n                \n                \n                    \nvmName\n                    \nAll\n                    \nvSphere connector code\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmId\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")\n                \n                \n                    \nvmUuid\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine UUID as set by the underlying highbrd.\n                \n            \n        \n\n\n\nUser Impersonation\n\n\nThe Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.\n\n\nScript Execution Policy\n\n\nScript execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "connector_config_fields_vs_mc4"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#connector-configuration-optional-script-citrix-mcs-for-vsphere", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A Citrix MCS for vSphere Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your vSphere environment.   You can publish Layered Images to MCS running in a vSphere environment using a Citrix MCSfor vSphere Connector Configuration. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.  Each Connector Configuration is set to publish Layered Images to a specific storage location in your MCSenvironment, so you may need more than one MCS Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see   Connector essentials .   Notes:               This Connector Configuration is for publishing Layered Images. You cannot package Layers in the MCSenvironment.               Personal vDisks are  not  supported for Citrix MCS. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.", 
            "title": "Connector Configuration ; Optional Script  (Citrix MCS for vSphere)"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#before-you-start", 
            "text": "The first time you create an Image Template for publishing Layered Images to a location in your MCS environment, you will create a Connector Configuration for that location.", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#required-information-for-this-connector-configuration", 
            "text": "The Citrix MCS for vSphere Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object your environment, or the validation will fail.                Name  - A useful name to help identify and keep track of this connector configuration.               vCenter Server  - The name of the vSphere server with which the Unidesk ELM will integrate.               vCenter User Name  - The user name of the account that the Unidesk ELM will use to connect to vSphere.               vCenter Password  - The password of the account that the Unidesk ELM will use to connect to vSphere.               DataCenter Name  - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.              Virtual Machine Template (recommended)  - The virtual machine  to use as a template for cloning. Use the template to create a VM with the settings  for your MCS catalog, including memory, CPUs and video settings. You can specify the host, datastore and network for configuring the resulting VMs. The VM must  not  have any connected disks.              DataStore Name  - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.              ESXHost Name  - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines.               Network Name  - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines.               Virtual Machine Folder Name  - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines.", 
            "title": "Required information for this Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually:Click to put the cursor in the field and type the value.              To select a value from a drop-down list: Click once to put the cursor in the field, and a second time to choose from a list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  vCenter Server ,  vCenter User Name , and  vCenter Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available.               Select the DataCenter, and the remaining dropdowns will be enabled.               (Recommended) Select a virtual machine to use as the template. Although a VMTemplate is optional, it is strongly recommended. .              Complete the remaining fields and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#configure-a-script-remember-this-is-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (Remember, this is optional)"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows8                              Windows864                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      All                      vSphere connector code                      The vCenter server specified in the connector configuration.                                                        vmName                      All                      vSphere connector code                      The name of the virtual machine that was created.                                                        vmId                      All                      vSphere connector code                      The virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")                                                        vmUuid                      All                      vSphere connector code                      The virtual machine UUID as set by the underlying highbrd.", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#user-impersonation", 
            "text": "The Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.", 
            "title": "User Impersonation"
        }, 
        {
            "location": "/connector_config_fields_vs_mc4/#script-execution-policy", 
            "text": "Script execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "Script Execution Policy"
        }, 
        {
            "location": "/connector_config_fields_vw4/", 
            "text": "Add Connector Configuration\n\n\n\n\nVMware Horizon View\n\n\n\n\nConnector Configuration ; Optional Script  (VMware Horizon View for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA VMware Horizon for vSphere Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to VMware Horizon View in your vSphere environment. \n\n\nYou can publish Layered Images to be used in any of the following pools:\n\n\n            \nA Horizon View Composer \nLinked Clone Desktop Pool\n.\n            \nA Horizon View \nInstant Clone Desktop Pool\n.\n        \n\n\n\nIn the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications. For example, if you are publishing a Layered Image to a Linked Clone Desktop Pool, the Layered Image becomes a 'Parent VM' that you can select for your Linked Clones pool.\n\n\nEach Connector Configuration is set to publish Layered Images to a specific storage location in your vSphere environment, so you may need more than one VMware Horizon Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \n Connector essentials\n. \n\n\nNotes:\n\n\n            \nThis Connector Configuration is for publishing Layered Images only. (You cannot package Layers using this connector.)\n            \nPersonal vDisks are \nnot\n supported for View. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.\n            \n                \nWhen installing the Horizon Agent on the VM, select the custom setup option as follows:\n                \n                    \nSelect the \nVMware Horizon View Composer Agent\n option when deploying View Composer \nlinked-clone desktops\n.\n                    \nSelect the \nVMware Horizon Instant Clone Agent\n option when deploying \ninstant-clone desktops\n.\n                \n            \n        \n\n\n\nBefore you start\n\n\nThe first time you create an Image Template for publishing Layered Images to a location in your Horizon environment, you will create a Connector Configuration for that location. \n\n\nRequired information for this Connector Configuration\n\n\nThe Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object your environment, or the validation will fail. \n\n\n            \nName\n - A useful name to help identify and keep track of this connector configuration. \n            \nvCenter Server\n - The name of the vSphere server with which the Unidesk ELM will integrate. \n            \nvCenter User Name\n - The user name of the account that the Unidesk ELM will use to connect to vSphere. \n            \nvCenter Password\n - The password of the account that the Unidesk ELM will use to connect to vSphere. \n            \nDataCenter Name\n - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.\n            \nVirtual Machine Template (recommended)\n - The VM  to use as a template for cloning. Use the template to create a VM with the hardware settings  for View, including memory, CPUs and video settings. You can specify the host, datastore and network for configuring the resulting VMs. The VM must \nnot\n have any connected disks.\n            \nDataStore Name\n - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.\n            \nESXHost Name\n - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines. \n            \nNetwork Name\n - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines. \n            \nVirtual Machine Folder Name\n - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines. \n        \n\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually:Click to put the cursor in the field and type the value.\n            \nTo select a value from a drop-down list: Click once to put the cursor in the field, and a second time to choose from a list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nvCenter Server\n, \nvCenter User Name\n, and \nvCenter Password\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available. \n            \nSelect the DataCenter, and the remaining dropdowns will be enabled. \n            \n(Recommended) Select a virtual machine to use as the template. Although a VMTemplate is optional, it is strongly recommended. \n            \nComplete the remaining fields and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.\n\n\nConfigure a Script (Remember, this is optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nAll\n                    \nvSphere connector code\n                    \nThe vCenter server specified in the connector configuration.\n                \n                \n                    \nvmName\n                    \nAll\n                    \nvSphere connector code\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmId\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")\n                \n                \n                    \nvmUuid\n                    \nAll\n                    \nvSphere connector code\n                    \nThe virtual machine UUID as set by the underlying highbrd.\n                \n            \n        \n\n\n\nUser Impersonation\n\n\nThe Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.\n\n\nScript Execution Policy\n\n\nScript execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "connector_config_fields_vw4"
        }, 
        {
            "location": "/connector_config_fields_vw4/#connector-configuration-optional-script-vmware-horizon-view-for-vsphere", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A VMware Horizon for vSphere Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to VMware Horizon View in your vSphere environment.   You can publish Layered Images to be used in any of the following pools:               A Horizon View Composer  Linked Clone Desktop Pool .              A Horizon View  Instant Clone Desktop Pool .           In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications. For example, if you are publishing a Layered Image to a Linked Clone Desktop Pool, the Layered Image becomes a 'Parent VM' that you can select for your Linked Clones pool.  Each Connector Configuration is set to publish Layered Images to a specific storage location in your vSphere environment, so you may need more than one VMware Horizon Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the systems you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see   Connector essentials .   Notes:               This Connector Configuration is for publishing Layered Images only. (You cannot package Layers using this connector.)              Personal vDisks are  not  supported for View. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.                               When installing the Horizon Agent on the VM, select the custom setup option as follows:                                       Select the  VMware Horizon View Composer Agent  option when deploying View Composer  linked-clone desktops .                      Select the  VMware Horizon Instant Clone Agent  option when deploying  instant-clone desktops .", 
            "title": "Connector Configuration ; Optional Script  (VMware Horizon View for vSphere)"
        }, 
        {
            "location": "/connector_config_fields_vw4/#before-you-start", 
            "text": "The first time you create an Image Template for publishing Layered Images to a location in your Horizon environment, you will create a Connector Configuration for that location.", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_vw4/#required-information-for-this-connector-configuration", 
            "text": "The Connector Configuration wizard let's you browse for the vCenter Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object your environment, or the validation will fail.                Name  - A useful name to help identify and keep track of this connector configuration.               vCenter Server  - The name of the vSphere server with which the Unidesk ELM will integrate.               vCenter User Name  - The user name of the account that the Unidesk ELM will use to connect to vSphere.               vCenter Password  - The password of the account that the Unidesk ELM will use to connect to vSphere.               DataCenter Name  - The name of the vSphere DataCenter in which the Unidesk ELM will create and retrieve virtual machines.              Virtual Machine Template (recommended)  - The VM  to use as a template for cloning. Use the template to create a VM with the hardware settings  for View, including memory, CPUs and video settings. You can specify the host, datastore and network for configuring the resulting VMs. The VM must  not  have any connected disks.              DataStore Name  - The name of the vSphere DataStore in which the Unidesk ELM will create and retrieve virtual machines.              ESXHost Name  - The name of the vSphere ESX Host on which the Unidesk ELM will create and retrieve virtual machines.               Network Name  - The name of the vSphere Network in which the Unidesk ELM will create and retrieve virtual machines.               Virtual Machine Folder Name  - The name of the vSphere Folder in which the Unidesk ELM will create and retrieve virtual machines.", 
            "title": "Required information for this Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_vw4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three vCenter fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually:Click to put the cursor in the field and type the value.              To select a value from a drop-down list: Click once to put the cursor in the field, and a second time to choose from a list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  vCenter Server ,  vCenter User Name , and  vCenter Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the vCenter fields. The DataCenter field is then enabled with a list of DataCenters available.               Select the DataCenter, and the remaining dropdowns will be enabled.               (Recommended) Select a virtual machine to use as the template. Although a VMTemplate is optional, it is strongly recommended.               Complete the remaining fields and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_vw4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published layered image in vSphere.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The vSphere connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_vw4/#configure-a-script-remember-this-is-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (Remember, this is optional)"
        }, 
        {
            "location": "/connector_config_fields_vw4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_vw4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_vw4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      All                      vSphere connector code                      The vCenter server specified in the connector configuration.                                                        vmName                      All                      vSphere connector code                      The name of the virtual machine that was created.                                                        vmId                      All                      vSphere connector code                      The virtual machine ID taken from the mobref of the vm (i.e. \"vm-12345\")                                                        vmUuid                      All                      vSphere connector code                      The virtual machine UUID as set by the underlying highbrd.", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_vw4/#user-impersonation", 
            "text": "The Unidesk Agent, which runs as a service on a Windows machine, runs under either the local system account or the network account. Either of these accounts may have some special privileges, but they often are restricted when it comes to executing specific commands or seeing files in the file system. Therefore, Unidesk gives you the option of adding a domain user and password that can be used to \"impersonate\" a user. This means that the script can be executed as if that user had logged onto the system so that any commands or data will be accessible subject to those user rights and permissions. If no user name or password is entered, the script executes using the account under which the service is configured to run.", 
            "title": "User Impersonation"
        }, 
        {
            "location": "/connector_config_fields_vw4/#script-execution-policy", 
            "text": "Script execution policy requirements are generally up to you. If you intend to run unsigned scripts, you must configure the execution policy to one of the more lenient policies. However, if you sign your own scripts accordingly, you can choose to use a more restrictive execution policy.", 
            "title": "Script Execution Policy"
        }, 
        {
            "location": "/connector_config_fields_xs4/", 
            "text": "Add Connector Configuration\n\n\n\n\nCitrix XenServer\n\n\n\n\nConnector Configuration ; Optional Script  (Citrix XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA Citrix XenServer Connector Configuration contains the credentials and storage location Unidesk needs to connect to Citrix XenServer. \n\n\nBefore you start\n\n\nYou can use your XenServer environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location in your XenServer environment. You may need more than one XenServer Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \nAbout Connectors\n. \n\n\nSince XenServer  uses a pod-like architecture where you, the administrator, interact with individual servers or clusters of servers, rather than with a central management server, you manage these pods via command line access or GUI management software like XenCenter which you install directly on your desktop and connect individually to each standalone host or to clusters of hosts. \n\n\nIf this is your first time using Unidesk \n\n\nIf this is your first time using Unidesk and you want to create Unidesk Layers using a XenServer VM, you will need a XenServer Connector within Unidesk. When publishing Layered Images to XenServer, you will need a Connector Configuration for each of your publishing locations as well. \n\n\nThe Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).\n\n\nRequired information for XenServer Connector Configuration settings\n\n\nThe XenServer Connector Configuration wizard let's you browse for the XenCenter Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object in XenServer, or the validation will fail. \n\n\n            \nConfiguration Name\n - A useful name to help identify and keep track of this connector configuration. \n            \nXenServer Address\n - The name of the XenServer host with which the Unidesk ELM will integrate. \n            \nUser Name/Password\n - The credentials for the account that the Unidesk ELM will use to connect to XenServer. \n            \nUse Secured Protocol\n - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Citrix XenServer. This field is checked by default.\n            \nAllow Certificate Errors\n - Enables certificate errors to be ignored. By default, this setting is disabled. \n            \nTemplate\n - VM Template that can be used for cloning. The list of choices will only contain custom VM templates, rather than actual VMs or any of the built-in templates. The selected template must \nnot\n have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.\n            \nStorage Repository\n - The storage repository for the disk that will get uploaded. The list will be filtered to only show repositories that can contain VHDs (ISO repositories are filtered out). \n            \nUse HTTPS for File Transfers\n - Encrypts the image file transfers. HTTPS is checked by default for more secure uploads and downloads, but can be unchecked for increased performance. \n        \n\n\n\nVirtual Machine organization\n\n\nXenServer allows for VMs to be organized either by folder or by tag. These organizational tools are optional when creating and managing VMs through XenCenter or other tools. Although XenServer Connector Configurations do not allow the administrator to specify folders or tags, the VMs created by the XenServer Connector, both Packaging Machines and published Layered Images, can utilize both organizational tools.\n\n\nTags\n\n\nIf the template specified in the XenServer connector configuration has any tags, then those tags will be carried over to any VM cloned from that template. Therefore all packaging VMs or published layered images will be tagged with the same tags that the template has. Additionally, the XenServer connector will add three tags.\n\n\n            \nUnidesk\n - All VMs created by the XenServer connector can be found by this tag regardless of their purpose or image.\n            \nPurpose Tag\n - All packaging machines will be tagged with \"Unidesk Packaging Machine\" while all published layered image VMs will be tagged with \"Unidesk Published Images\".\n            \nImage/Layer Name\n - All packaging machines will be tagged with the layer name for the layer which they are generated, while all published layered images will be tagged with the template image name.\n        \n\n\n\nIf you are using XenCenter, you can view your VMs by tag by selecting the \"Organization Views\" and then select \"By Tag\".\n\n\nFolder\n\n\nBy default VMs created by the XenServer Connector will not be placed in a folder. However, if the template specified in the XenServer Connector Configuration resides in a folder, then any VM that the Connector creates from that template will also reside in the same folder. All packaging VMs and published Layered Images will be placed in that same folder. There will not be separate subfolders for packaging VMs or published Layered Iimages.\n\n\nMachine network connectivity\n\n\nThe virtual network settings of the source template specified in the XenServer Connector Configuration will be carried over when creating any VMs through the XenServer Connector. There is no option in the Connector Configuration UI to override the network settings.\n\n\nXenServer Clusters\n\n\nThe XenServer Connector does not yet work correctly with XenServer clusters. If the host specified in the configuration is part of a cluster, then it must be the master host in the cluster for the connector to work. However, this means that any time the master XenServer host goes down and a new master is elected, the XenServer configuration must be updated.\n\n\nScripts\n\n\nThe XenServer Connector supports script execution after publishing layered images just as the vSphere connectors do. The following script variables will be set:\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Xen.\n            \nTo select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nXenServer Address\n, \nUser Name\n, and \nPassword\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the XenServer Configuration fields. The Virtual Machine Clone Settings field is then enabled. \n            \nSelect the Virtual Machine Template. \n            \nSelect the Storage Repository and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. \n\n\nSome preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in XenServer.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The XenServer connector logs will contain the output of the executed script.\n\n\nConfigure a Script (optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nAll\n                    \nXenServer connector code\n                    \nThe XenServer host specified in the connector configuration.\n                \n                \n                    \nvmName\n                    \nAll\n                    \nXenServer connector code\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmId\n                    \nAll\n                    \nXenServer connector code\n                    \nThe virtual machine UUID (same as vmUuid)\n                \n                \n                    \nvmUuid\n                    \nAll\n                    \nXenServer connector code\n                    \nThe virtual machine UUID  (same as vmId)\n                \n            \n        \n\n\n\nDefinition Scope\n\n\nWhether the scripts variable is set for all platform connector types or whether it is specific to a particular connector type.\n\n\nValue Source\n\n\nWhether the variable value is determined by common code or by platform connector specific code.", 
            "title": "connector_config_fields_xs4"
        }, 
        {
            "location": "/connector_config_fields_xs4/#connector-configuration-optional-script-citrix-xenserver", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A Citrix XenServer Connector Configuration contains the credentials and storage location Unidesk needs to connect to Citrix XenServer.", 
            "title": "Connector Configuration ; Optional Script  (Citrix XenServer)"
        }, 
        {
            "location": "/connector_config_fields_xs4/#before-you-start", 
            "text": "You can use your XenServer environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location in your XenServer environment. You may need more than one XenServer Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see  About Connectors .   Since XenServer  uses a pod-like architecture where you, the administrator, interact with individual servers or clusters of servers, rather than with a central management server, you manage these pods via command line access or GUI management software like XenCenter which you install directly on your desktop and connect individually to each standalone host or to clusters of hosts.", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_xs4/#if-this-is-your-first-time-using-unidesk", 
            "text": "If this is your first time using Unidesk and you want to create Unidesk Layers using a XenServer VM, you will need a XenServer Connector within Unidesk. When publishing Layered Images to XenServer, you will need a Connector Configuration for each of your publishing locations as well.   The Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (see details below).", 
            "title": "If this is your first time using Unidesk "
        }, 
        {
            "location": "/connector_config_fields_xs4/#required-information-for-xenserver-connector-configuration-settings", 
            "text": "The XenServer Connector Configuration wizard let's you browse for the XenCenter Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object in XenServer, or the validation will fail.                Configuration Name  - A useful name to help identify and keep track of this connector configuration.               XenServer Address  - The name of the XenServer host with which the Unidesk ELM will integrate.               User Name/Password  - The credentials for the account that the Unidesk ELM will use to connect to XenServer.               Use Secured Protocol  - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Citrix XenServer. This field is checked by default.              Allow Certificate Errors  - Enables certificate errors to be ignored. By default, this setting is disabled.               Template  - VM Template that can be used for cloning. The list of choices will only contain custom VM templates, rather than actual VMs or any of the built-in templates. The selected template must  not  have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.              Storage Repository  - The storage repository for the disk that will get uploaded. The list will be filtered to only show repositories that can contain VHDs (ISO repositories are filtered out).               Use HTTPS for File Transfers  - Encrypts the image file transfers. HTTPS is checked by default for more secure uploads and downloads, but can be unchecked for increased performance.", 
            "title": "Required information for XenServer Connector Configuration settings"
        }, 
        {
            "location": "/connector_config_fields_xs4/#virtual-machine-organization", 
            "text": "XenServer allows for VMs to be organized either by folder or by tag. These organizational tools are optional when creating and managing VMs through XenCenter or other tools. Although XenServer Connector Configurations do not allow the administrator to specify folders or tags, the VMs created by the XenServer Connector, both Packaging Machines and published Layered Images, can utilize both organizational tools.", 
            "title": "Virtual Machine organization"
        }, 
        {
            "location": "/connector_config_fields_xs4/#tags", 
            "text": "If the template specified in the XenServer connector configuration has any tags, then those tags will be carried over to any VM cloned from that template. Therefore all packaging VMs or published layered images will be tagged with the same tags that the template has. Additionally, the XenServer connector will add three tags.               Unidesk  - All VMs created by the XenServer connector can be found by this tag regardless of their purpose or image.              Purpose Tag  - All packaging machines will be tagged with \"Unidesk Packaging Machine\" while all published layered image VMs will be tagged with \"Unidesk Published Images\".              Image/Layer Name  - All packaging machines will be tagged with the layer name for the layer which they are generated, while all published layered images will be tagged with the template image name.           If you are using XenCenter, you can view your VMs by tag by selecting the \"Organization Views\" and then select \"By Tag\".", 
            "title": "Tags"
        }, 
        {
            "location": "/connector_config_fields_xs4/#folder", 
            "text": "By default VMs created by the XenServer Connector will not be placed in a folder. However, if the template specified in the XenServer Connector Configuration resides in a folder, then any VM that the Connector creates from that template will also reside in the same folder. All packaging VMs and published Layered Images will be placed in that same folder. There will not be separate subfolders for packaging VMs or published Layered Iimages.", 
            "title": "Folder"
        }, 
        {
            "location": "/connector_config_fields_xs4/#machine-network-connectivity", 
            "text": "The virtual network settings of the source template specified in the XenServer Connector Configuration will be carried over when creating any VMs through the XenServer Connector. There is no option in the Connector Configuration UI to override the network settings.", 
            "title": "Machine network connectivity"
        }, 
        {
            "location": "/connector_config_fields_xs4/#xenserver-clusters", 
            "text": "The XenServer Connector does not yet work correctly with XenServer clusters. If the host specified in the configuration is part of a cluster, then it must be the master host in the cluster for the connector to work. However, this means that any time the master XenServer host goes down and a new master is elected, the XenServer configuration must be updated.", 
            "title": "XenServer Clusters"
        }, 
        {
            "location": "/connector_config_fields_xs4/#scripts", 
            "text": "The XenServer Connector supports script execution after publishing layered images just as the vSphere connectors do. The following script variables will be set:", 
            "title": "Scripts"
        }, 
        {
            "location": "/connector_config_fields_xs4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Xen.              To select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  XenServer Address ,  User Name , and  Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the XenServer Configuration fields. The Virtual Machine Clone Settings field is then enabled.               Select the Virtual Machine Template.               Select the Storage Repository and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_xs4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image.   Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in XenServer.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The XenServer connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_xs4/#configure-a-script-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (optional)"
        }, 
        {
            "location": "/connector_config_fields_xs4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_xs4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_xs4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      All                      XenServer connector code                      The XenServer host specified in the connector configuration.                                                        vmName                      All                      XenServer connector code                      The name of the virtual machine that was created.                                                        vmId                      All                      XenServer connector code                      The virtual machine UUID (same as vmUuid)                                                        vmUuid                      All                      XenServer connector code                      The virtual machine UUID  (same as vmId)", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_xs4/#definition-scope", 
            "text": "Whether the scripts variable is set for all platform connector types or whether it is specific to a particular connector type.", 
            "title": "Definition Scope"
        }, 
        {
            "location": "/connector_config_fields_xs4/#value-source", 
            "text": "Whether the variable value is determined by common code or by platform connector specific code.", 
            "title": "Value Source"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/", 
            "text": "Add Connector Configuration\n\n\n\n\nCitrix MCS for XenServer\n\n\n\n\nConnector Configuration ; Optional Script  (MCS for XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nAn MCS for XenServer Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your XenServer environment. \n\n\nYou can publish Layered Images to MCS running in a XenServer environment using an MCSfor XenServer Connector Configuration. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.\n\n\nEach Connector Configuration is set to publish Layered Images to a specific storage location in your environment, so you may need more than one MCS Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \n Connector essentials\n. \n\n\nNotes:\n\n\n            \nThis Connector Configuration is for publishing Layered Images. You cannot package Layers in the MCSenvironment. For packaging Layers, use a XenServer Connector Configuration.\n            \nPersonal vDisks are \nnot\n supported for MCS. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.\n        \n\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create a Connector Configuration\n                        \n                        \n Script Configuration (Optional, Advanced feature)\n                        \n                    \n                \n            \n        \n\n\n\nA Citrix XenServer Connector Configuration contains the credentials and storage location Unidesk needs to connect to Citrix XenServer. \n\n\nBefore you start\n\n\nYou can use your XenServer environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location in your XenServer environment. You may need more than one XenServer Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see \nAbout Connectors\n. \n\n\nSince XenServer  uses a pod-like architecture where you, the administrator, interact with individual servers or clusters of servers, rather than with a central management server, you manage these pods via command line access or GUI management software like XenCenter, which you install directly on your desktop and connect individually to each standalone host or to clusters of hosts. \n\n\nIf this is your first time using Unidesk \n\n\nIf this is your first time using Unidesk and you want to create Unidesk Layers using a XenServer VM, you will need a XenServer Connector within Unidesk. When publishing Layered Images to XenServer, you will need a Connector Configuration for each of your publishing locations as well. \n\n\nThe Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (details below).\n\n\nRequired information for XenServer Connector Configuration settings\n\n\nThe XenServer Connector Configuration wizard let's you browse for the XenCenter Server, Data Store, and Host to use for a new configuration. \n\n\nImportant: The fields are case sensitive, so any values that you enter manually must match the case of the object in XenServer, or the validation will fail. \n\n\n            \nConfiguration Name\n - A useful name to help identify and keep track of this connector configuration. \n            \nXenServer Address\n - The name of the XenServer host with which the Unidesk ELM will integrate. \n            \nUser Name/Password\n - The credentials for the account that the Unidesk ELM will use to connect to XenServer. \n            \nUse Secured Protocol\n - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Citrix XenServer. This field is checked by default.\n            \nAllow Certificate Errors\n - Enables certificate errors to be ignored. By default, this setting is disabled. \n            \nTemplate\n - VM Template that can be used for cloning. The list of choices will only contain custom VM templates, rather than actual VMs or any of the built-in templates. The selected template must \nnot\n have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.\n            \nStorage Repository\n - The storage repository for the disk that will get uploaded. The list will be filtered to only show repositories that can contain VHDs (ISO repositories are filtered out). \n            \nUse HTTPS for File Transfers\n - Encrypts the image file transfers. HTTPS is checked by default for more secure uploads and downloads, but can be unchecked for increased performance. \n        \n\n\n\nVirtual Machine organization\n\n\nXenServer allows for VMs to be organized either by folder or by tag. These organizational tools are optional when creating and managing VMs through XenCenter or other tools. Although XenServer Connector Configurations do not allow the administrator to specify folders or tags, the VMs created by the XenServer Connector, both Packaging Machines and published Layered Images, can utilize both organizational tools.\n\n\nTags\n\n\nIf the template specified in the XenServer connector configuration has any tags, then those tags will be carried over to any VM cloned from that template. Therefore all packaging VMs or published layered images will be tagged with the same tags that the template has. Additionally, the XenServer connector will add three tags.\n\n\n            \nUnidesk\n - All VMs created by the XenServer connector can be found by this tag regardless of their purpose or image.\n            \nPurpose Tag\n - All packaging machines will be tagged with \"Unidesk Packaging Machine\" while all published layered image VMs will be tagged with \"Unidesk Published Images\".\n            \nImage/Layer Name\n - All packaging machines will be tagged with the layer name for the layer which they are generated, while all published layered images will be tagged with the template image name.\n        \n\n\n\nIf you are using XenCenter, you can view your VMs by tag by selecting the \"Organization Views\" and then select \"By Tag\".\n\n\nFolder\n\n\nBy default VMs created by the XenServer Connector will not be placed in a folder. However, if the template specified in the XenServer Connector Configuration resides in a folder, then any VM that the Connector creates from that template will also reside in the same folder. All packaging VMs and published Layered Images will be placed in that same folder. There will not be separate subfolders for packaging VMs or published Layered Iimages.\n\n\nMachine network connectivity\n\n\nThe virtual network settings of the source template specified in the XenServer Connector Configuration will be carried over when creating any VMs through the XenServer Connector. There is no option in the Connector Configuration UI to override the network settings.\n\n\nXenServer Clusters\n\n\nThe XenServer Connector does not yet work correctly with XenServer clusters. If the host specified in the configuration is part of a cluster, then it must be the master host in the cluster for the connector to work. However, this means that any time the master XenServer host goes down and a new master is elected, the XenServer configuration must be updated.\n\n\nCreate a Connector Configuration\n\n\nTo enter values:\n\n\n            \nThe first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.\n            \nTo enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Xen.\n            \nTo select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.\n        \n\n\n\nTo add a new Connector Configuration:\n\n\n            \nOn the wizard for creating a Layer or for adding a Layer Version, click the \nConnector\n tab. \n            \nBelow the list of Connector Configurations, click the \nNew\n button. This opens a small dialog box.\n            \nSelect the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click \nNew\n to open the Connector Configuration page.  \n            \nEnter the configuration \nName\n, and the \nXenServer Address\n, \nUser Name\n, and \nPassword\n). For guidance, see the above field definitions.\n            \nClick the \nCHECKCREDENTIALS\n button below the XenServer Configuration fields. The Virtual Machine Clone Settings field is then enabled. \n            \nSelect the Virtual Machine Template. \n            \nSelect the Storage Repository and click the \nTEST\nbutton to verify that Unidesk can access the location specified using the credentials supplied.\n            \nClick \nSave\n. The new Connector Configuration should now be listed on the Connector page.\n        \n\n\n\nScript Configuration (Optional, Advanced feature)\n\n\nWhen creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image. \n\n\nSome preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in XenServer.\n\n\nExecution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The XenServer connector logs will contain the output of the executed script.\n\n\nConfigure a Script (optional)\n\n\nIf you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.\n\n\n            \n                \nComplete and save the Connector Configuration as described above.\n                \nNote:\n Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings, \n            \n            \n                \nIf the Navigation menu on the left is not open, select it and click \nScript Configuration\n to open the Script Path page.\n            \n            \n                \nComplete the required fields using the values detailed herein, and click \nSave\n.\n            \n        \n\n\n\nScript Configuration fields\n\n\n            \nEnable script\n - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.\n            \nScript Agent\n - The agent machine where the scripts will be located and executed from.\n            \nUsername (optional)\n - The username to \nimpersonate\n when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.\n            \nPassword (optional)\n - The password for the specified username.\n            \nPath\n - A full path and filename on the agent machine where the script file resides.\n        \n\n\n\nOther Script Configuration values\n\n\nPowershell variables\n\n\nWhen the script is executed the following variables will be set and can be used in the powershell script:\n\n\n            \n            \n            \n            \n            \n                \n                    \nValue\n                    \nApplies to connector types:\n                    \nValue determined by which code:\n                    \nDescription\n                \n            \n            \n                \n                    \nconnectorCfgName\n                    \nAll \n                    \nCommon code\n                    \nThis is the name of the connector configuration that the script configuration is associated with.\n                \n                \n                    \nimageName\n                    \nAll\n                    \nCommon code\n                    \nThis is the name of the layered image template that was used to build/publish the layered image.\n                \n                \n                    \nosType\n                    \nAll\n                    \nCommon code\n                    \n                        \nThis is the OS type of the layered image that was published. It can be one of the following values:\n                        \n                            \nWindows7\n                            \nWindows764\n                            \nWindows200864\n                            \nWindows201264\n                            \nWindows10\n                            \nWindows1064\n                        \n                    \n                \n                \n                    \nvirtualInfrastructureServer\n                    \nAll\n                    \nXenServer connector code\n                    \nThe XenServer host specified in the connector configuration.\n                \n                \n                    \nvmName\n                    \nAll\n                    \nXenServer connector code\n                    \nThe name of the virtual machine that was created.\n                \n                \n                    \nvmId\n                    \nAll\n                    \nXenServer connector code\n                    \nThe virtual machine UUID (same as vmUuid)\n                \n                \n                    \nvmUuid\n                    \nAll\n                    \nXenServer connector code\n                    \nThe virtual machine UUID  (same as vmId)\n                \n            \n        \n\n\n\nDefinition Scope\n\n\nWhether the scripts variable is set for all platform connector types or whether it is specific to a particular connector type.\n\n\nValue Source\n\n\nWhether the variable value is determined by common code or by platform connector specific code.", 
            "title": "connector_config_fields_xs_mc4"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#connector-configuration-optional-script-mcs-for-xenserver", 
            "text": "In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       An MCS for XenServer Connector Configuration contains the credentials and storage location Unidesk needs to publish Layered Images to MCS in your XenServer environment.   You can publish Layered Images to MCS running in a XenServer environment using an MCSfor XenServer Connector Configuration. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.  Each Connector Configuration is set to publish Layered Images to a specific storage location in your environment, so you may need more than one MCS Connector Configuration if publishing to multiple locations. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see   Connector essentials .   Notes:               This Connector Configuration is for publishing Layered Images. You cannot package Layers in the MCSenvironment. For packaging Layers, use a XenServer Connector Configuration.              Personal vDisks are  not  supported for MCS. The published desktop images will be non-persistent. Currently, vDisks can only be used when publishing to Citrix PVS.           In this article:                                                                                            Before you start                                                    Create a Connector Configuration                                                    Script Configuration (Optional, Advanced feature)                                                                                       A Citrix XenServer Connector Configuration contains the credentials and storage location Unidesk needs to connect to Citrix XenServer.", 
            "title": "Connector Configuration ; Optional Script  (MCS for XenServer)"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#before-you-start", 
            "text": "You can use your XenServer environment for creating Layers, and for publishing Layered Images. Each Connector Configuration accesses a specific storage location in your XenServer environment. You may need more than one XenServer Connector Configuration to access the correct location for each purpose. Further, you may want to publish each Layered Image to a location convenient to the system you will be provisioning with the published image. For more about Connectors, and Connector Configurations, see  About Connectors .   Since XenServer  uses a pod-like architecture where you, the administrator, interact with individual servers or clusters of servers, rather than with a central management server, you manage these pods via command line access or GUI management software like XenCenter, which you install directly on your desktop and connect individually to each standalone host or to clusters of hosts.", 
            "title": "Before you start"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#if-this-is-your-first-time-using-unidesk", 
            "text": "If this is your first time using Unidesk and you want to create Unidesk Layers using a XenServer VM, you will need a XenServer Connector within Unidesk. When publishing Layered Images to XenServer, you will need a Connector Configuration for each of your publishing locations as well.   The Create Layer and Publish Layered Image wizards each ask you to select a Connector Configuration. If you don't yet have the right Connector Configuration for the task, you can create one by clicking New on the Connector wizard tab (details below).", 
            "title": "If this is your first time using Unidesk "
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#required-information-for-xenserver-connector-configuration-settings", 
            "text": "The XenServer Connector Configuration wizard let's you browse for the XenCenter Server, Data Store, and Host to use for a new configuration.   Important: The fields are case sensitive, so any values that you enter manually must match the case of the object in XenServer, or the validation will fail.                Configuration Name  - A useful name to help identify and keep track of this connector configuration.               XenServer Address  - The name of the XenServer host with which the Unidesk ELM will integrate.               User Name/Password  - The credentials for the account that the Unidesk ELM will use to connect to XenServer.               Use Secured Protocol  - Lets you use SSL encryption for the API connection traffic between the Unidesk Connector and Citrix XenServer. This field is checked by default.              Allow Certificate Errors  - Enables certificate errors to be ignored. By default, this setting is disabled.               Template  - VM Template that can be used for cloning. The list of choices will only contain custom VM templates, rather than actual VMs or any of the built-in templates. The selected template must  not  have any disks attached, and must have at least one network card attached. If it does not, you will see an error when trying to validate or save the configuration.              Storage Repository  - The storage repository for the disk that will get uploaded. The list will be filtered to only show repositories that can contain VHDs (ISO repositories are filtered out).               Use HTTPS for File Transfers  - Encrypts the image file transfers. HTTPS is checked by default for more secure uploads and downloads, but can be unchecked for increased performance.", 
            "title": "Required information for XenServer Connector Configuration settings"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#virtual-machine-organization", 
            "text": "XenServer allows for VMs to be organized either by folder or by tag. These organizational tools are optional when creating and managing VMs through XenCenter or other tools. Although XenServer Connector Configurations do not allow the administrator to specify folders or tags, the VMs created by the XenServer Connector, both Packaging Machines and published Layered Images, can utilize both organizational tools.", 
            "title": "Virtual Machine organization"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#tags", 
            "text": "If the template specified in the XenServer connector configuration has any tags, then those tags will be carried over to any VM cloned from that template. Therefore all packaging VMs or published layered images will be tagged with the same tags that the template has. Additionally, the XenServer connector will add three tags.               Unidesk  - All VMs created by the XenServer connector can be found by this tag regardless of their purpose or image.              Purpose Tag  - All packaging machines will be tagged with \"Unidesk Packaging Machine\" while all published layered image VMs will be tagged with \"Unidesk Published Images\".              Image/Layer Name  - All packaging machines will be tagged with the layer name for the layer which they are generated, while all published layered images will be tagged with the template image name.           If you are using XenCenter, you can view your VMs by tag by selecting the \"Organization Views\" and then select \"By Tag\".", 
            "title": "Tags"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#folder", 
            "text": "By default VMs created by the XenServer Connector will not be placed in a folder. However, if the template specified in the XenServer Connector Configuration resides in a folder, then any VM that the Connector creates from that template will also reside in the same folder. All packaging VMs and published Layered Images will be placed in that same folder. There will not be separate subfolders for packaging VMs or published Layered Iimages.", 
            "title": "Folder"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#machine-network-connectivity", 
            "text": "The virtual network settings of the source template specified in the XenServer Connector Configuration will be carried over when creating any VMs through the XenServer Connector. There is no option in the Connector Configuration UI to override the network settings.", 
            "title": "Machine network connectivity"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#xenserver-clusters", 
            "text": "The XenServer Connector does not yet work correctly with XenServer clusters. If the host specified in the configuration is part of a cluster, then it must be the master host in the cluster for the connector to work. However, this means that any time the master XenServer host goes down and a new master is elected, the XenServer configuration must be updated.", 
            "title": "XenServer Clusters"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#create-a-connector-configuration", 
            "text": "To enter values:               The first three Connector fields must be entered manually. Once the credentials in those fields are validated, you can select values for the remaining fields from drop-down menus.              To enter values manually, click to put the cursor in the field and type the value, making sure that the case matches the value in Xen.              To select a value from a drop-down list, click once to put the cursor in the field, and a second time to display the list of possible values.           To add a new Connector Configuration:               On the wizard for creating a Layer or for adding a Layer Version, click the  Connector  tab.               Below the list of Connector Configurations, click the  New  button. This opens a small dialog box.              Select the Connector Type for the platform and location where you are creating the Layer or publishing the image. Then click  New  to open the Connector Configuration page.                Enter the configuration  Name , and the  XenServer Address ,  User Name , and  Password ). For guidance, see the above field definitions.              Click the  CHECKCREDENTIALS  button below the XenServer Configuration fields. The Virtual Machine Clone Settings field is then enabled.               Select the Virtual Machine Template.               Select the Storage Repository and click the  TEST button to verify that Unidesk can access the location specified using the credentials supplied.              Click  Save . The new Connector Configuration should now be listed on the Connector page.", 
            "title": "Create a Connector Configuration"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#script-configuration-optional-advanced-feature", 
            "text": "When creating a new Connector Configuration, you can configure an optional Powershell script to run on any Windows machine running a Unidesk Agent. These scripts must be stored on the same machine that the Unidesk Agent is installed on, and will only be executed after a successful deployment of a Layered Image.   Some preset variables are available to enable scripts to be reusable with different template images and different connector configurations. These variables will also contain information needed to identify the virtual machine created as part of the published Layered Image in XenServer.  Execution of these scripts will not affect the outcome of the publish job, and progress of commands executed in the script will not be visible. The XenServer connector logs will contain the output of the executed script.", 
            "title": "Script Configuration (Optional, Advanced feature)"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#configure-a-script-optional", 
            "text": "If you want a script to run each time a Layered Image is published, complete these steps using the values described in the sections that follow.                                Complete and save the Connector Configuration as described above.                  Note:  Before selecting Script Configuration page, you must save (or discard) any edits to the Connector Configuration settings,                                             If the Navigation menu on the left is not open, select it and click  Script Configuration  to open the Script Path page.                                            Complete the required fields using the values detailed herein, and click  Save .", 
            "title": "Configure a Script (optional)"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#script-configuration-fields", 
            "text": "Enable script  - Select this check box to enable the remaining fields. This allows you to enter a script that will be executed each time a Layered Image is published.              Script Agent  - The agent machine where the scripts will be located and executed from.              Username (optional)  - The username to  impersonate  when running the script. This can be used to ensure the script runs in the context of a user that has the needed rights/permissions to perform the operations in the script.              Password (optional)  - The password for the specified username.              Path  - A full path and filename on the agent machine where the script file resides.", 
            "title": "Script Configuration fields"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#other-script-configuration-values", 
            "text": "", 
            "title": "Other Script Configuration values"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#powershell-variables", 
            "text": "When the script is executed the following variables will be set and can be used in the powershell script:                                                                                                         Value                      Applies to connector types:                      Value determined by which code:                      Description                                                                                  connectorCfgName                      All                       Common code                      This is the name of the connector configuration that the script configuration is associated with.                                                        imageName                      All                      Common code                      This is the name of the layered image template that was used to build/publish the layered image.                                                        osType                      All                      Common code                                               This is the OS type of the layered image that was published. It can be one of the following values:                                                       Windows7                              Windows764                              Windows200864                              Windows201264                              Windows10                              Windows1064                                                                                                      virtualInfrastructureServer                      All                      XenServer connector code                      The XenServer host specified in the connector configuration.                                                        vmName                      All                      XenServer connector code                      The name of the virtual machine that was created.                                                        vmId                      All                      XenServer connector code                      The virtual machine UUID (same as vmUuid)                                                        vmUuid                      All                      XenServer connector code                      The virtual machine UUID  (same as vmId)", 
            "title": "Powershell variables"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#definition-scope", 
            "text": "Whether the scripts variable is set for all platform connector types or whether it is specific to a particular connector type.", 
            "title": "Definition Scope"
        }, 
        {
            "location": "/connector_config_fields_xs_mc4/#value-source", 
            "text": "Whether the variable value is determined by common code or by platform connector specific code.", 
            "title": "Value Source"
        }, 
        {
            "location": "/get_started_deploy_release_notes_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Unidesk Release Notes and Platform Support\n\n\nUnidesk Release Notes and Platform Support\n\n\nFind out what's new, what to watch out for, and what platforms are supported in this release.\n\n\nUnidesk Release Notes\n            \n\n\nSupported platforms", 
            "title": "get_started_deploy_release_notes_co4"
        }, 
        {
            "location": "/get_started_deploy_release_notes_co4/#unidesk-release-notes-and-platform-support", 
            "text": "Find out what's new, what to watch out for, and what platforms are supported in this release.  Unidesk Release Notes               Supported platforms", 
            "title": "Unidesk Release Notes and Platform Support"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the ELM (Acropolis)\n\n\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Deploy the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)\n                        \n                        \n Change the administrator password\n                        \n                        \n Configure advanced settings\n                        \n                        \n Expand locally attached storage, if needed\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nBefore you start\n\n\nTo get started with Unidesk, you will need:\n\n\n            \nA Unidesk account\n            \nA supported version of Nutanix AHV\n            \n            \nA virtual network in Nutanix AHV\n            \nStorage requirements and Nutanix AHV requirements listed \nhere\n.\n        \n\n\n\nDeploy the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)\n\n\nUsing this procedure, you will do a basic Unidesk ELM installation on your Nutanix AHV Server. Using this process you will create the new VM for the Unidesk ELM, and has 8 GB of memory and 1 VCPU with 4 cores. \n\n\nOnce you complete these steps, use the remaining sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP. \n\n\n            \n                \nDownload the Unidesk installation package, Unidesk_install_pkg_4.x.x, from the Unidesk download site. This zip file contains two unidesk_elm_4.x.x.x.vhd files. \n            \n            \n                \nUnzip the Unidesk installation package, and place the two .vhd files on a file share that the Nutanix server can access. \n            \n            \n                \nLog into the Nutanix Prism console, where you will upload the Unidesk VHD disks, and then create a VM for the Unidesk ELM. \n            \n            \n                \nSelect the \nTools\n menu in the top right corner of the UI, and choose \nImage Configuration\n.\n            \n            \n                \nClick the \nUpload Image\n button, and name the disk.\n            \n            \n                \nSelect the \nDisk Image Type\n.\n            \n            \n                \nSelect the \nUpload a File\n option, browse to your file share, and choose the ELM Boot Disk. Wait for the upload to complete.\n            \n            \n                \nRepeat steps 2 - 7 for the ELM Local Storage Disk.\n            \n            \n                \nSelect \nTasks\n and make sure that for each of the disks, \nboth\n the Image Create and Image Update tasks are complete. Once this is done, you can create the VM.\n            \n            \n                \nSelect the \nVM\n tab on the top left dropdown menu, and click the \nCreate VM\n button.\n            \n            \n                \nComplete the \nName\n and \nDescription\n of the new VM.\n            \n            \n                \nSet VCPU(S) to \n1\n.\n            \n            \n                \nSet Number of Cores per VCPU to \n4\n.\n            \n            \n                \nSet Memory to \n8\n GB.\n            \n            \n                \nTo add the Disks to the VM, click \nAdd new disk\n and choose type \nDisk\n.\n            \n            \n                \nIn the Operation drop-down, choose \nClone from Image Service\n.\n            \n            \n                \nIn the \nBus Type\n drop-down select \nIDE\n.\n            \n            \n                \nIn the Image Box select the Boot disk that you uploaded, and click \nAdd\n.\n            \n            \n                \nRepeat the above steps for the following disks:\n                \nBoot Disk:\n  unidesk_nutanix-system.img\n                \nRepository Disk:\n unidesk_nutanix-repository.img\n            \n            \n                \nAdd NIC by clicking on \nAdd new NIC\n.\n            \n            \n                \nClick \nSave\n to complete dialog and create VM.\n            \n            \n                \nPower on the VM.\n            \n        \n\n\n\nIf you receive the error: \"Cannot create UUID from string \"undefined\"\"\n\n\nEnsure that you have waited for both tasks for each disk to be completed before attempting to create the VM.\n\n\nChange the administrator password\n\n\n            \nLog in\n to the ELM's Appliance Configuration utility, as described above.\n            \nAt the Appliance Configuration utility's Action prompt, enter \nP\n (for \nPassword change\n), and press \nReturn\n.\n            \nWhen prompted, enter the new password, and then confirm the password. A message confirms that the \n** Password changed successfully\n. \n            \nPress the \nEnter\n key to continue.\n            \nAt the Action prompt, enter \nQ\n to quit.\n        \n\n\n\nConfigure advanced settings\n\n\n            \nConfigure advanced \nnetwork options\n, such as Static IP,  NTP servers and Time Zone.\n        \n\n\n\nThe Unidesk Appliance Configuration utility lets you configure these settings. For details, click \n Manage the Unidesk ELM (virtual appliance) \n.\n\n\nExpand locally attached storage, if needed\n\n\nIf you need to expand the ELM's local storage, see \n Manage system storage\n. \n\n\nNext Step\n\n\nOnce you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console (UMC), and begin creating your layers.\n\n\n            \nLog into the Unidesk Management Console (UMC)", 
            "title": "get_started_deploy_unidesk_elm_ah4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#install-the-unidesk-enterprise-layer-manager-elm-nutanix-ahv", 
            "text": "In this article:                                                                                            Before you start                                                    Deploy the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)                                                    Change the administrator password                                                    Configure advanced settings                                                    Expand locally attached storage, if needed                                                    Next Step", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#before-you-start", 
            "text": "To get started with Unidesk, you will need:               A Unidesk account              A supported version of Nutanix AHV                           A virtual network in Nutanix AHV              Storage requirements and Nutanix AHV requirements listed  here .", 
            "title": "Before you start"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#deploy-the-unidesk-enterprise-layer-manager-elm-nutanix-ahv", 
            "text": "Using this procedure, you will do a basic Unidesk ELM installation on your Nutanix AHV Server. Using this process you will create the new VM for the Unidesk ELM, and has 8 GB of memory and 1 VCPU with 4 cores.   Once you complete these steps, use the remaining sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP.                                 Download the Unidesk installation package, Unidesk_install_pkg_4.x.x, from the Unidesk download site. This zip file contains two unidesk_elm_4.x.x.x.vhd files.                                             Unzip the Unidesk installation package, and place the two .vhd files on a file share that the Nutanix server can access.                                             Log into the Nutanix Prism console, where you will upload the Unidesk VHD disks, and then create a VM for the Unidesk ELM.                                             Select the  Tools  menu in the top right corner of the UI, and choose  Image Configuration .                                            Click the  Upload Image  button, and name the disk.                                            Select the  Disk Image Type .                                            Select the  Upload a File  option, browse to your file share, and choose the ELM Boot Disk. Wait for the upload to complete.                                            Repeat steps 2 - 7 for the ELM Local Storage Disk.                                            Select  Tasks  and make sure that for each of the disks,  both  the Image Create and Image Update tasks are complete. Once this is done, you can create the VM.                                            Select the  VM  tab on the top left dropdown menu, and click the  Create VM  button.                                            Complete the  Name  and  Description  of the new VM.                                            Set VCPU(S) to  1 .                                            Set Number of Cores per VCPU to  4 .                                            Set Memory to  8  GB.                                            To add the Disks to the VM, click  Add new disk  and choose type  Disk .                                            In the Operation drop-down, choose  Clone from Image Service .                                            In the  Bus Type  drop-down select  IDE .                                            In the Image Box select the Boot disk that you uploaded, and click  Add .                                            Repeat the above steps for the following disks:                  Boot Disk:   unidesk_nutanix-system.img                  Repository Disk:  unidesk_nutanix-repository.img                                            Add NIC by clicking on  Add new NIC .                                            Click  Save  to complete dialog and create VM.                                            Power on the VM.", 
            "title": "Deploy the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#if-you-receive-the-error-cannot-create-uuid-from-string-undefined", 
            "text": "Ensure that you have waited for both tasks for each disk to be completed before attempting to create the VM.", 
            "title": "If you receive the error: \"Cannot create UUID from string \"undefined\"\""
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#change-the-administrator-password", 
            "text": "Log in  to the ELM's Appliance Configuration utility, as described above.              At the Appliance Configuration utility's Action prompt, enter  P  (for  Password change ), and press  Return .              When prompted, enter the new password, and then confirm the password. A message confirms that the  ** Password changed successfully .               Press the  Enter  key to continue.              At the Action prompt, enter  Q  to quit.", 
            "title": "Change the administrator password"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#configure-advanced-settings", 
            "text": "Configure advanced  network options , such as Static IP,  NTP servers and Time Zone.           The Unidesk Appliance Configuration utility lets you configure these settings. For details, click   Manage the Unidesk ELM (virtual appliance)  .", 
            "title": "Configure advanced settings"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#expand-locally-attached-storage-if-needed", 
            "text": "If you need to expand the ELM's local storage, see   Manage system storage .", 
            "title": "Expand locally attached storage, if needed"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_ah4/#next-step", 
            "text": "Once you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console (UMC), and begin creating your layers.               Log into the Unidesk Management Console (UMC)", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the ELM\n\n\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM) with local storage (Azure)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Deploy the Unidesk ELM from the Azure Marketplace\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nBefore you start\n\n\nTo get started with Unidesk in Azure, you will need:\n\n\n            \nAn Azure subscription\n            \nA Virtual Network in Azure. Your Unidesk deployment in Azure can operate in a point-to-site or site-to-site Virtual Network.\n            \nNote:\n If you have not already set up a connection to an Azure Virtual Network, see \nhttps://azure.microsoft.com/en-us/documentation/articles/?service=vpn-gateway\n for more information.\n            \nThe storage and Azure requirements listed \nhere\n        \n\n\n\nDeploy the Unidesk ELM from the Azure Marketplace\n\n\nTo deploy Unidesk for Azure, create a Virtual Machine in the Azure Marketplace using the Unidesk offering. This installs the Unidesk ELM with local storage for Unidesk Layers, Templates, and temporary files.\n\n\nUsing this procedure, you will do a basic Unidesk ELM installation in Azure. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP. \n\n\n            \n                \nOpen a web browser, navigate to the \nMicrosoft Azure portal\n, sign in with your Azure credentials, and click \nNew\n.\n            \n            \nIn the search field in the New panel, type \nUnidesk\n and press \nEnter\n. The window displays Unidesk for Azure as a Publisher. Select it and click \nCreate\n.\n            \n                \nFill out the Basics, Size, and Settings options for creating a new VM. \n            \n            \nNotes:\n            \n            \n                \nIMPORTANT: Record the User name and Password that you specify for the Azure VM for later use, as this becomes the User name and Password for the Administrator account of your Unidesk ELM. There is no root password on the ELM and if you lose the ELM credentials you will have to reinstall the ELM. You may also be asked to furnish the ELM credentials when you contact Unidesk Support. Note that the User name and Password for the ELM (which runs on Linux) is different from the User name and Password of the Unidesk Management Console (which runs on Windows).\n                \nIMPORTANT: Be sure to note the Resource group location you select now as you will require this information later. For more information about resource groups, refer to \nUsing the Azure Portal to manage your Azure resources\n.\n                \nWhen selecting a virtual machine size, Unidesk recommends creating an D3 Standard machine.\n                \nThe name you specify for the new virtual machine must comply with Azure naming conventions.\n                \nSelect a Virtual Network in which HTTP port: 80 is accessible (Public IP can be disabled).\n                \nOn the Monitoring Diagnostics entry, select \nDisabled\n.\n            \n        \n\n\n\nTo complete the process, view the Summary of the options you selected and, when you are satisfied with your selections, click OK, and click Purchase.\n\n\nNote: If you experience a failed deployment of a Virtual Machine in Azure, you can obtain more detail regarding the nature of the failure by browsing to the relevant resource group and clicking the related \"(Failed)\" link.\n\n\n\n\nConfigure advanced settings\n\n\nOnce you've completed the ELMinstallation, you should immediately log into the ELM and:\n\n\n            \nModify the administrator password.\n            \n(Optional) Configure advanced network options, such as Static IP, as needed.\n            \nMake any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.\n        \n\n\n\nThe Unidesk Appliance Configuration utility lets you configure these settings. For details, click \n Manage the Unidesk ELM (virtual appliance) \n.\n\n\nExpand locally attached storage, if needed\n\n\nIf you need to expand the ELM's local storage, see \n Manage system storage\n. \n\n\nNext Step\n\n\nOnce you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.\n\n\nLog into the Unidesk Management Console (UMC)", 
            "title": "get_started_deploy_unidesk_elm_az4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#install-the-unidesk-enterprise-layer-manager-elm-with-local-storage-azure", 
            "text": "In this article:                                                                                            Before you start                                                    Deploy the Unidesk ELM from the Azure Marketplace                                                    Next Step", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM) with local storage (Azure)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#before-you-start", 
            "text": "To get started with Unidesk in Azure, you will need:               An Azure subscription              A Virtual Network in Azure. Your Unidesk deployment in Azure can operate in a point-to-site or site-to-site Virtual Network.              Note:  If you have not already set up a connection to an Azure Virtual Network, see  https://azure.microsoft.com/en-us/documentation/articles/?service=vpn-gateway  for more information.              The storage and Azure requirements listed  here", 
            "title": "Before you start"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#deploy-the-unidesk-elm-from-the-azure-marketplace", 
            "text": "To deploy Unidesk for Azure, create a Virtual Machine in the Azure Marketplace using the Unidesk offering. This installs the Unidesk ELM with local storage for Unidesk Layers, Templates, and temporary files.  Using this procedure, you will do a basic Unidesk ELM installation in Azure. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP.                                 Open a web browser, navigate to the  Microsoft Azure portal , sign in with your Azure credentials, and click  New .                           In the search field in the New panel, type  Unidesk  and press  Enter . The window displays Unidesk for Azure as a Publisher. Select it and click  Create .                               Fill out the Basics, Size, and Settings options for creating a new VM.                            Notes:                                            IMPORTANT: Record the User name and Password that you specify for the Azure VM for later use, as this becomes the User name and Password for the Administrator account of your Unidesk ELM. There is no root password on the ELM and if you lose the ELM credentials you will have to reinstall the ELM. You may also be asked to furnish the ELM credentials when you contact Unidesk Support. Note that the User name and Password for the ELM (which runs on Linux) is different from the User name and Password of the Unidesk Management Console (which runs on Windows).                  IMPORTANT: Be sure to note the Resource group location you select now as you will require this information later. For more information about resource groups, refer to  Using the Azure Portal to manage your Azure resources .                  When selecting a virtual machine size, Unidesk recommends creating an D3 Standard machine.                  The name you specify for the new virtual machine must comply with Azure naming conventions.                  Select a Virtual Network in which HTTP port: 80 is accessible (Public IP can be disabled).                  On the Monitoring Diagnostics entry, select  Disabled .                        To complete the process, view the Summary of the options you selected and, when you are satisfied with your selections, click OK, and click Purchase.  Note: If you experience a failed deployment of a Virtual Machine in Azure, you can obtain more detail regarding the nature of the failure by browsing to the relevant resource group and clicking the related \"(Failed)\" link.", 
            "title": "Deploy the Unidesk ELM from the Azure Marketplace"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#configure-advanced-settings", 
            "text": "Once you've completed the ELMinstallation, you should immediately log into the ELM and:               Modify the administrator password.              (Optional) Configure advanced network options, such as Static IP, as needed.              Make any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.           The Unidesk Appliance Configuration utility lets you configure these settings. For details, click   Manage the Unidesk ELM (virtual appliance)  .", 
            "title": "Configure advanced settings"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#expand-locally-attached-storage-if-needed", 
            "text": "If you need to expand the ELM's local storage, see   Manage system storage .", 
            "title": "Expand locally attached storage, if needed"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_az4/#next-step", 
            "text": "Once you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.  Log into the Unidesk Management Console (UMC)", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Install the Unidesk Enterprise Layer Manager (ELM)\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM)\n\n\nWhere are you installing the Unidesk ELM?\n\n\nCitrix XenServer\n            \n\n\nMS Azure\n            \n\n\nMS Hyper-V\n            \n\n\nNutanix Acropolis\n            \n\n\nVMware vSphere", 
            "title": "get_started_deploy_unidesk_elm_co4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_co4/#install-the-unidesk-enterprise-layer-manager-elm", 
            "text": "Where are you installing the Unidesk ELM?  Citrix XenServer               MS Azure               MS Hyper-V               Nutanix Acropolis               VMware vSphere", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the ELM\n\n\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM) (Hyper-V)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Deploy the Unidesk Enterprise Layer Manager (ELM) \n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nBefore you start\n\n\nPrerequisites\n\n\nTo install the Unidesk ELM in Hyper-V environment you need:\n\n\n            \nA Unidesk account.\n            \nThe Storage and Hyper-V requirements listed \nhere\n.\n        \n\n\n\nVirtual appliance details\n\n\n            \n            \n            \n                \n                    \nName\n                    \nValue\n                \n            \n            \n                \n                    \nVirtual Machine Name\n                    \nUnidesk Enterprise Layer Manager\n                \n                \n                    \nVIrtual Machine Generation\n                    \nGeneration 1\n                \n                \n                    \nMemory\n                    \n8192 MB\n                \n                \n                    \nCPUs\n                    \n4\n                \n                \n                    \nDisk 1\n                    \nunidesk_hyperv-system.vhdx\n                \n                \n                    \nDisk 2\n                    \nunidesk_hyperv-repository.vhdx\n                \n            \n        \n\n\n\nDeploy the Unidesk Enterprise Layer Manager (ELM) \n\n\nUsing this procedure, you will do a basic Unidesk ELM installation on your Hyper-V Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP. \n\n\n            \n                \nDownload the Unidesk Hyper-V  installation package from the \nUnidesk 4 Downloads\n page to a file system on a Windows Server 2012 R2 Hyper-V-enabled system.\n            \n            \n                \nExtract the Hyper-V zip package containing two disks, and copy the disks to a storage location that Hyper-V can access. \n            \n            \n                \nOpen the Hyper-V Manager, right-click the Hyper-V server where you want to deploy the Unidesk ELM, and select \nNew Virtual Machine\n. \n                \n                \n                \nThis opens the New Virtual Machine Wizard.\n            \n            \n                \nOn the first wizard tab, click Next to begin configuring the virtual machine:\n                \n                \n            \n            \n                \nOn the Specify Name and Location tab, set the \nName\n and \nLocation\n of the new VM. Ideally, use the location where you extracted the disks in step 2:\n                \n                \n            \n            \n                \nOn the Specify Generation tab, ensure that \nGeneration 1 VM\u2019s\n is selected, as Unidesk currently only supports Generation 1.\n            \n            \n                \nOn the Assign Memory tab, set the VM to use 8 GB of RAM. Make sure the \nUse Dynamic Memory for this virtual machine\n check box is \nnot\n selected.\n            \n            \n                \nOn the Configure Networking tab, specify the NIC for the network adapter  to use to connect to the network.\n            \n            \n                \nOn the Connect Virtual Hard Disk tab, attach the system disk (\nunidesk_hyperv-system.vhdx\n), one of the disks that you extracted in step 2.\n            \n            \n                \nOn the Summary tab, verify your choices and click \nFinish\n.\n            \n            \n                \nBack in the Hyper-V Manager, select the VM and click \nSettings\n from the VM panel.\n            \n            \n                \nSelect \nHardware > Processor\n, and set the Number of Virtual Processors to 4.\n                \n                \n            \n            \n                \nSelect \nIDEController 0 > Hard Drive\n, click \nAdd\n.\n            \n            \n                \nSelect the \nVirtual Disk\n radio button, click \nBrowse\n, and select the \nrepository\n disk (\nunidesk_hyperv-repository.vhdx\n) extracted in step 2.\n            \n            \nPower on the VM.\n        \n\n\n\nConfigure advanced settings\n\n\nOnce you've completed the ELMinstallation, you should immediately log into the ELM and:\n\n\n            \nChange the \nadministrator password\n.\n            \n(Optional) Configure \nadvanced network\n options, such as Static IP, as needed.\n            \nMake any changes required to the existing settings, for example, the \nNTP servers\n you use or the \nTime Zone\n.\n        \n\n\n\nThe Unidesk \nAppliance Configuration utility\n lets you configure these settings. \n\n\nExpand locally attached storage, if needed\n\n\nIf you need to expand the ELM's local storage, see \n Manage system storage\n. \n\n\nNext Step\n\n\nOnce you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.\n\n\nLog into the Unidesk Management Console (UMC)", 
            "title": "get_started_deploy_unidesk_elm_hv4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#install-the-unidesk-enterprise-layer-manager-elm-hyper-v", 
            "text": "In this article:                                                                                            Before you start                                                    Deploy the Unidesk Enterprise Layer Manager (ELM)                                                     Next Step", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM) (Hyper-V)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#prerequisites", 
            "text": "To install the Unidesk ELM in Hyper-V environment you need:               A Unidesk account.              The Storage and Hyper-V requirements listed  here .", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#virtual-appliance-details", 
            "text": "Name                      Value                                                                                  Virtual Machine Name                      Unidesk Enterprise Layer Manager                                                        VIrtual Machine Generation                      Generation 1                                                        Memory                      8192 MB                                                        CPUs                      4                                                        Disk 1                      unidesk_hyperv-system.vhdx                                                        Disk 2                      unidesk_hyperv-repository.vhdx", 
            "title": "Virtual appliance details"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#deploy-the-unidesk-enterprise-layer-manager-elm", 
            "text": "Using this procedure, you will do a basic Unidesk ELM installation on your Hyper-V Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP.                                 Download the Unidesk Hyper-V  installation package from the  Unidesk 4 Downloads  page to a file system on a Windows Server 2012 R2 Hyper-V-enabled system.                                            Extract the Hyper-V zip package containing two disks, and copy the disks to a storage location that Hyper-V can access.                                             Open the Hyper-V Manager, right-click the Hyper-V server where you want to deploy the Unidesk ELM, and select  New Virtual Machine .                                                     This opens the New Virtual Machine Wizard.                                            On the first wizard tab, click Next to begin configuring the virtual machine:                                                                              On the Specify Name and Location tab, set the  Name  and  Location  of the new VM. Ideally, use the location where you extracted the disks in step 2:                                                                              On the Specify Generation tab, ensure that  Generation 1 VM\u2019s  is selected, as Unidesk currently only supports Generation 1.                                            On the Assign Memory tab, set the VM to use 8 GB of RAM. Make sure the  Use Dynamic Memory for this virtual machine  check box is  not  selected.                                            On the Configure Networking tab, specify the NIC for the network adapter  to use to connect to the network.                                            On the Connect Virtual Hard Disk tab, attach the system disk ( unidesk_hyperv-system.vhdx ), one of the disks that you extracted in step 2.                                            On the Summary tab, verify your choices and click  Finish .                                            Back in the Hyper-V Manager, select the VM and click  Settings  from the VM panel.                                            Select  Hardware > Processor , and set the Number of Virtual Processors to 4.                                                                              Select  IDEController 0 > Hard Drive , click  Add .                                            Select the  Virtual Disk  radio button, click  Browse , and select the  repository  disk ( unidesk_hyperv-repository.vhdx ) extracted in step 2.                           Power on the VM.", 
            "title": "Deploy the Unidesk Enterprise Layer Manager (ELM) "
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#configure-advanced-settings", 
            "text": "Once you've completed the ELMinstallation, you should immediately log into the ELM and:               Change the  administrator password .              (Optional) Configure  advanced network  options, such as Static IP, as needed.              Make any changes required to the existing settings, for example, the  NTP servers  you use or the  Time Zone .           The Unidesk  Appliance Configuration utility  lets you configure these settings.", 
            "title": "Configure advanced settings"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#expand-locally-attached-storage-if-needed", 
            "text": "If you need to expand the ELM's local storage, see   Manage system storage .", 
            "title": "Expand locally attached storage, if needed"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_hv4/#next-step", 
            "text": "Once you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.  Log into the Unidesk Management Console (UMC)", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the ELM\n\n\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM) (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Deploy the Unidesk Enterprise Layer Manager (ELM) \n                        \n                        \n Expand locally attached storage, if needed\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nBefore you start\n\n\nTo get started with Unidesk, you will need:\n\n\n            \nA Unidesk account\n            \nA supported version of VMware vSphere\n            \n            \nA Virtual Network in vSphere\n            \nStorage requirements and vSphere requirements listed \nhere\n.\n        \n\n\n\nDeploy the Unidesk Enterprise Layer Manager (ELM) \n\n\nUsing this procedure, you will do a basic Unidesk ELM installation on your vSphere Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP. \n\n\n            \n                \nDownload the Unidesk Tools installation package, Unidesk_install_pkg_4.x.x, from the Unidesk download site. This zip file contains the unidesk_elm_4.x.x.x.ova file and other files. \n            \n            \n                \nExtract the Unidesk_ELM.ova file to a folder on your local drive. \n            \n            \n                \nIn the vSphere Web Client you are using, navigate to the \nVMs and Templates\n page. \n            \n            \n                \nRight-click the folder in vSphere where you want to deploy the template and select \nDeploy OVF Template\n. The Deploy OVF Template wizard appears.\n            \n            \n                \nIn the Deploy OVF Template wizard, do the following:\n                \n                    \n                        \nOn the \nSelect source\n page, select the \nLocal file\n option, and browse to the \nUnidesk_ELM.ova\n file to select it.\n                    \n                    \n                        \nOn the \nSelect name and folder\n page, designate a name and location for the deployed OVF template.\n                    \n                    \n                        \nOn the \nSelect a resource\n page, select a location to run the deployed OVF template.\n                    \n                    \n                        \nOn the \nSelect storage\n page, select the \nThick Provision Lazy Zeroed\n setting of the \nSelect virtual disk format\n option, select a storage policy, and specify a storage location.\n                    \n                    \n                        \nOn the \nSetup networks\n page, select your vSphere virtual network in the \nDestination\n column and select the \nIPv4\n setting of the \nIP protocol\n option. \n                    \n                    \n                        \nOn the \nReady to complete\n page, review the template settings and click \nFinish\n when you are satisfied with the settings.\n                    \n                \n            \n        \n\n\n\nThe new VM created from the Unidesk_ELM.ova file has 8 GB of memory and 4 CPUs. \n\n\nConfigure advanced settings\n\n\nOnce you've completed the ELMinstallation, you should immediately log into the ELM and:\n\n\n            \nModify the administrator password.\n            \n(Optional) Configure advanced network options, such as Static IP, as needed.\n            \nMake any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.\n        \n\n\n\nThe Unidesk Appliance Configuration utility lets you configure these settings. For details, click \n Manage the Unidesk ELM (virtual appliance) \n.\n\n\nExpand locally attached storage, if needed\n\n\nIf you need to expand the ELM's local storage, see \n Manage system storage\n. \n\n\nNext Step\n\n\nOnce you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.\n\n\nLog into the Unidesk Management Console (UMC)", 
            "title": "get_started_deploy_unidesk_elm_vs4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#install-the-unidesk-enterprise-layer-manager-elm-vsphere", 
            "text": "In this article:                                                                                            Before you start                                                    Deploy the Unidesk Enterprise Layer Manager (ELM)                                                     Expand locally attached storage, if needed                                                    Next Step", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM) (vSphere)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#before-you-start", 
            "text": "To get started with Unidesk, you will need:               A Unidesk account              A supported version of VMware vSphere                           A Virtual Network in vSphere              Storage requirements and vSphere requirements listed  here .", 
            "title": "Before you start"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#deploy-the-unidesk-enterprise-layer-manager-elm", 
            "text": "Using this procedure, you will do a basic Unidesk ELM installation on your vSphere Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP.                                 Download the Unidesk Tools installation package, Unidesk_install_pkg_4.x.x, from the Unidesk download site. This zip file contains the unidesk_elm_4.x.x.x.ova file and other files.                                             Extract the Unidesk_ELM.ova file to a folder on your local drive.                                             In the vSphere Web Client you are using, navigate to the  VMs and Templates  page.                                             Right-click the folder in vSphere where you want to deploy the template and select  Deploy OVF Template . The Deploy OVF Template wizard appears.                                            In the Deploy OVF Template wizard, do the following:                                                                On the  Select source  page, select the  Local file  option, and browse to the  Unidesk_ELM.ova  file to select it.                                                                    On the  Select name and folder  page, designate a name and location for the deployed OVF template.                                                                    On the  Select a resource  page, select a location to run the deployed OVF template.                                                                    On the  Select storage  page, select the  Thick Provision Lazy Zeroed  setting of the  Select virtual disk format  option, select a storage policy, and specify a storage location.                                                                    On the  Setup networks  page, select your vSphere virtual network in the  Destination  column and select the  IPv4  setting of the  IP protocol  option.                                                                     On the  Ready to complete  page, review the template settings and click  Finish  when you are satisfied with the settings.                                                              The new VM created from the Unidesk_ELM.ova file has 8 GB of memory and 4 CPUs.", 
            "title": "Deploy the Unidesk Enterprise Layer Manager (ELM) "
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#configure-advanced-settings", 
            "text": "Once you've completed the ELMinstallation, you should immediately log into the ELM and:               Modify the administrator password.              (Optional) Configure advanced network options, such as Static IP, as needed.              Make any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.           The Unidesk Appliance Configuration utility lets you configure these settings. For details, click   Manage the Unidesk ELM (virtual appliance)  .", 
            "title": "Configure advanced settings"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#expand-locally-attached-storage-if-needed", 
            "text": "If you need to expand the ELM's local storage, see   Manage system storage .", 
            "title": "Expand locally attached storage, if needed"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_vs4/#next-step", 
            "text": "Once you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.  Log into the Unidesk Management Console (UMC)", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the ELM\n\n\n\n\nInstall the Unidesk Enterprise Layer Manager (ELM) (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Deploy the Unidesk Enterprise Layer Manager (ELM) \n                        \n                        \n Expand locally attached storage, if needed\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nBefore you start\n\n\nTo get started with Unidesk, you will need:\n\n\n            \nA Unidesk account.\n            \nA supported version of Citrix XenServer\n.\n            \nA Virtual Network in XenServer.\n            \nStorage requirements and XenServer requirements listed \nhere\n.\n            \nA XenCenter Client.\n        \n\n\n\nDeploy the Unidesk Enterprise Layer Manager (ELM) \n\n\nUsing this procedure, you will do a basic Unidesk ELM installation on your XenServer Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP. \n\n\n            \n                \nDownload the Unidesk installation package, Unidesk_install_xenserver_pkg_4.x.x, from the Unidesk download site. This zip file contains the xenserver_elm_4.x.x.x.ova  and other files. \n            \n            \n                \nExtract the xenserver_elm_4.x.x.x.ova file to a folder on your local drive. \n            \n            \n                \nIn your XenCenter Client, select \nFile > Import\n.\n            \n            \nIn the wizard that opens, select the following values:\nImport Source\n - Browse to \nyour\n unique location.\nLocation\n - Choose the XenServer where you want to deploy the ELM.\nStorage\n - Use the default value to put the Unidesk disks on the Local XenServer Storage.\nNetworking\n - Select the correct network for your XenServer configuration.\nSecurity\n - This tab should be grayed out. Click \nNext\n to continue.\nOSFixup Settings\n - Select \nDon't use Operating System Fixup\n. \nTransfer VMSettings\n - Choose the correct network , and choose \nDHCP\n.\nFinish\n - Review your settings and select \nFinish\n.\n            \n                \nSwitch to \nNotification view\n and wait for deployment to complete. This takes about 20-35 minutes.\n            \n            \nSwitch to \nInfrastructure view\n.\n            \n                \nRename your new appliance:\n                \n                    \nSelect your new appliance, which will be named \nCentOS-7_x86_64_build_template_xenserver\n.\n                    \nClick \nProperties\n, and enter a good name and description for your new ELM.\n                \n            \n        \n\n\n\nThe new VM created from the Unidesk_ELM.ova file has 8 GB of memory and 4 CPUs. \n\n\nConfigure advanced settings\n\n\nOnce you've completed the ELMinstallation, you should immediately log into the ELM and:\n\n\n            \nModify the administrator password.\n            \n(Optional) Configure advanced network options, such as Static IP, as needed.\n            \nMake any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.\n        \n\n\n\nThe Unidesk Appliance Configuration utility lets you configure these settings. For details, click \n Manage the Unidesk ELM (virtual appliance) \n.\n\n\nExpand locally attached storage, if needed\n\n\nIf you need to expand the ELM's local storage, see \n Manage system storage\n. \n\n\nNext Step\n\n\nOnce you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.\n\n\nLog into the Unidesk Management Console (UMC)", 
            "title": "get_started_deploy_unidesk_elm_xs4"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#install-the-unidesk-enterprise-layer-manager-elm-xenserver", 
            "text": "In this article:                                                                                            Before you start                                                    Deploy the Unidesk Enterprise Layer Manager (ELM)                                                     Expand locally attached storage, if needed                                                    Next Step", 
            "title": "Install the Unidesk Enterprise Layer Manager (ELM) (XenServer)"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#before-you-start", 
            "text": "To get started with Unidesk, you will need:               A Unidesk account.              A supported version of Citrix XenServer .              A Virtual Network in XenServer.              Storage requirements and XenServer requirements listed  here .              A XenCenter Client.", 
            "title": "Before you start"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#deploy-the-unidesk-enterprise-layer-manager-elm", 
            "text": "Using this procedure, you will do a basic Unidesk ELM installation on your XenServer Server. Once you complete these steps, use the following sections to change the administrator password (strongly recommended), and configure more advanced options, such as Static IP.                                 Download the Unidesk installation package, Unidesk_install_xenserver_pkg_4.x.x, from the Unidesk download site. This zip file contains the xenserver_elm_4.x.x.x.ova  and other files.                                             Extract the xenserver_elm_4.x.x.x.ova file to a folder on your local drive.                                             In your XenCenter Client, select  File > Import .                           In the wizard that opens, select the following values: Import Source  - Browse to  your  unique location. Location  - Choose the XenServer where you want to deploy the ELM. Storage  - Use the default value to put the Unidesk disks on the Local XenServer Storage. Networking  - Select the correct network for your XenServer configuration. Security  - This tab should be grayed out. Click  Next  to continue. OSFixup Settings  - Select  Don't use Operating System Fixup .  Transfer VMSettings  - Choose the correct network , and choose  DHCP . Finish  - Review your settings and select  Finish .                               Switch to  Notification view  and wait for deployment to complete. This takes about 20-35 minutes.                           Switch to  Infrastructure view .                               Rename your new appliance:                                       Select your new appliance, which will be named  CentOS-7_x86_64_build_template_xenserver .                      Click  Properties , and enter a good name and description for your new ELM.                                         The new VM created from the Unidesk_ELM.ova file has 8 GB of memory and 4 CPUs.", 
            "title": "Deploy the Unidesk Enterprise Layer Manager (ELM) "
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#configure-advanced-settings", 
            "text": "Once you've completed the ELMinstallation, you should immediately log into the ELM and:               Modify the administrator password.              (Optional) Configure advanced network options, such as Static IP, as needed.              Make any changes required to the existing settings, for example, the NTP servers you use or the Time Zone.           The Unidesk Appliance Configuration utility lets you configure these settings. For details, click   Manage the Unidesk ELM (virtual appliance)  .", 
            "title": "Configure advanced settings"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#expand-locally-attached-storage-if-needed", 
            "text": "If you need to expand the ELM's local storage, see   Manage system storage .", 
            "title": "Expand locally attached storage, if needed"
        }, 
        {
            "location": "/get_started_deploy_unidesk_elm_xs4/#next-step", 
            "text": "Once you're satisfied that the ELM is correctly configured and has the required storage space, you can log into the Unidesk Management Console, and begin creating your layers.  Log into the Unidesk Management Console (UMC)", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_install_agent_pv4/", 
            "text": "Set up Unidesk\n\n\n\n\nInstall the Unidesk Agent (if using PVS or Connector Scripts)\n\n\n\n\nInstall the Unidesk Agent (required for PVS and Connector Scripts)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n About installing the Unidesk Agent \n                        \n                        \n Prerequisites\n                        \n                        \n Install the Unidesk Agent\n                        \n                        \n Register with the Unidesk ELM manually\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nAbout installing the Unidesk Agent \n\n\nThe Unidesk Agent enables the Unidesk Enterprise Layer Manager (ELM) or a Unidesk Packaging Machine VM to run PowerShell commands locally. If you supply  the proper credentials, the agent can run PowerShell commands as a specific user. \n\n\nThe Unidesk Agent is required in cases where one of your Connector Configurations  launches a PowerShell script. This includes Connector Configurations you use to:\n\n\n            \nPublish Layered Images to a provisioning system. \n            \nPackage Layers in your hypervisor environment.\n        \n\n\n\nThe Unidesk Agent installer prompts you to register the agent with a Unidesk ELM. If you do not register the agent during installation, you can manually register it later. However, keep in mind that the PowerShell scripts will not run until the agent is registered with the ELM. \n\n\nPrerequisites\n\n\nBefore you install the Unidesk Agent, you must have the following requirements on the system where you are installing the Unidesk Agent:\n\n\n            \n                \nAn account with administrator privileges \n            \n            \n                \n.NET 4.5\n            \n            \n                \nPowerShell 3.0 or greater\n            \n            \n                \nPowerShell Snap-in\n                \nBefore using the Unidesk Agent on a PVS server you must ensure the PowerShell Snap-in is installed. This is a manual step. \n                \n                    \n                        \nFor PVS 7.7 and later, you must install the Powershell Snap-in \nCitrix.PVS.Snapin.dll\n. \n                    \n                    \n                        \nFor PVS 7.6 and PVS 7.1, you must install \nMcliPSSnapIn.dll\n. Use the \ninstallutil.exe\n to install the Snap-in.\n                        \nExample (7.6): \n                        \n                            \n                                \nFrom a command prompt, go to:\n                                \nc:\\program files\\citrix\\provisioning services console\n                                \n                            \n                            \n                                \nRun this command:\n\"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\InstallUtil.exe\" McliPSSnapIn.dll\n                            \n                        \n                        \nExample (7.7):\n                        \n                            \n                                \nFrom a command prompt, go to:\n                                \nc:\\program files\\citrix\\provisioning services console\n                                \n                            \n                            \n                                \nRun this command:\n\"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\InstallUtil.exe\" Citrix.PVS.snapin.dll\n                            \n                        \n                    \n                \n                \nOn Windows 2008 R2, you must also enable PowerShell remote commands. For background information, see this Microsoft article:\n                \nhttps://technet.microsoft.com/en-us/library/hh849694.aspx\n                \nIf your 2008 R2 OS does not have PowerShell remoting enabled, run the following PowerShell command on the PVS server:   \nEnable-PSRemoting\n            \n        \n\n\n\nInstall the Unidesk Agent\n\n\n            \n                \nLog in as an administrator on the system where you are installing the agent. \n            \n            \n                \nDownload the Unidesk Agent from the Unidesk Download page. \n            \n            \n                \nCopy the \nUnidesk_agent_installer.exe\n file from the Unidesk Agent folder to a convenient location on the PVS server.\n            \n            \n                \nRun the \nUnidesk_agent_installer.exe\n as Administrator, and when prompted, enter the path to the directory where you want to install the Unidesk Agent. The default location is \nC:\\\\Program Files (x86)\\Unidesk\\Agent\n.\n                \nThe Unidesk Agent installer checks to see if all \n Prerequisites\n are present. If any prerequisites are missing, the installer reports this and exits without installing. \n            \n            \n                \nThe installer prompts you for an Agent Port number. You can accept the default port number (8016) or specify a different one if the default port is already in use.\n            \n            \n                \nThe installer prompts you for the credentials (\naddress\n, \nusername\n, and \npassword\n) for your Unidesk ELM. Register the Unidesk Agent with the ELM by entering the IP address and login credentials for a Unidesk Management Console (UMC) user on the ELM with Administrator privileges, (for example, the credentials you use to log into the UMC). \n                \nNote:\n If the Unidesk ELM is not available yet or you choose not to register with it now, you can manually register at a later time using the procedure described in \n Register with the Unidesk ELM manually\n. \n            \n            \n                \nClick \nFinish\n to exit the wizard.\n            \n        \n\n\n\nThe Unidesk Agent registration appears in the Audit log for the Management Service in the Unidesk Management Console.\n\n\nRegister with the Unidesk ELM manually\n\n\nIf the Unidesk Agent was not registered with a Unidesk ELMduring installation, you can register it later by using the following procedure.\n\n\nTo manually register the Unidesk Agent with the ELM:\n\n\n            \n                \nAs an \nadministrator\n, log in to the server where you installed the Unidesk Agent.\n            \n            \n                \nOpen a command window (cmd.exe) as administrator and navigate to the directory where the Unidesk Agent is installed. (The default location is \nC:\\\\Program Files (x86)\\Unidesk\\Agent\n.)\n            \n            \n                \nRun the following command, using the IP address of the ELM where indicated: \n                \nUnidesk.Agent.Service.exe register /i /e:\nIP_address_of_ELM\n /u:Administrator\n \n            \n            \n                \nWhen prompted, enter the password for a user who has Administrator privileges in the Unidesk Management Console (UMC) on the ELM. \n            \n            \n                \nWhen the registration process completes, a message appears informing you of the successful outcome. The Unidesk Agent registration appears in the Audit log for the Management Service in the UMC.\n            \n        \n\n\n\nIf the process does not succeed, examine the \n\\Unidesk\\Agent\\Logs\\unidesk.agent.log\n\n\nfile in the Unidesk Agent installation directory. You can also view Help for the Unidesk Agent command line options by running the following command: Unidesk.Agent.Service.exe /?.\n\n\nNext step\n\n\n Connect to a Directory Service", 
            "title": "get_started_install_agent_pv4"
        }, 
        {
            "location": "/get_started_install_agent_pv4/#install-the-unidesk-agent-required-for-pvs-and-connector-scripts", 
            "text": "In this article:                                                                                            About installing the Unidesk Agent                                                     Prerequisites                                                    Install the Unidesk Agent                                                    Register with the Unidesk ELM manually                                                    Next step", 
            "title": "Install the Unidesk Agent (required for PVS and Connector Scripts)"
        }, 
        {
            "location": "/get_started_install_agent_pv4/#about-installing-the-unidesk-agent", 
            "text": "The Unidesk Agent enables the Unidesk Enterprise Layer Manager (ELM) or a Unidesk Packaging Machine VM to run PowerShell commands locally. If you supply  the proper credentials, the agent can run PowerShell commands as a specific user.   The Unidesk Agent is required in cases where one of your Connector Configurations  launches a PowerShell script. This includes Connector Configurations you use to:               Publish Layered Images to a provisioning system.               Package Layers in your hypervisor environment.           The Unidesk Agent installer prompts you to register the agent with a Unidesk ELM. If you do not register the agent during installation, you can manually register it later. However, keep in mind that the PowerShell scripts will not run until the agent is registered with the ELM.", 
            "title": "About installing the Unidesk Agent "
        }, 
        {
            "location": "/get_started_install_agent_pv4/#prerequisites", 
            "text": "Before you install the Unidesk Agent, you must have the following requirements on the system where you are installing the Unidesk Agent:                                An account with administrator privileges                                             .NET 4.5                                            PowerShell 3.0 or greater                                            PowerShell Snap-in                  Before using the Unidesk Agent on a PVS server you must ensure the PowerShell Snap-in is installed. This is a manual step.                                                                 For PVS 7.7 and later, you must install the Powershell Snap-in  Citrix.PVS.Snapin.dll .                                                                     For PVS 7.6 and PVS 7.1, you must install  McliPSSnapIn.dll . Use the  installutil.exe  to install the Snap-in.                          Example (7.6):                                                                                         From a command prompt, go to:                                  c:\\program files\\citrix\\provisioning services console                                                                                                                             Run this command: \"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\InstallUtil.exe\" McliPSSnapIn.dll                                                                                Example (7.7):                                                                                        From a command prompt, go to:                                  c:\\program files\\citrix\\provisioning services console                                                                                                                             Run this command: \"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\InstallUtil.exe\" Citrix.PVS.snapin.dll                                                                                                              On Windows 2008 R2, you must also enable PowerShell remote commands. For background information, see this Microsoft article:                  https://technet.microsoft.com/en-us/library/hh849694.aspx                  If your 2008 R2 OS does not have PowerShell remoting enabled, run the following PowerShell command on the PVS server:    Enable-PSRemoting", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/get_started_install_agent_pv4/#install-the-unidesk-agent", 
            "text": "Log in as an administrator on the system where you are installing the agent.                                             Download the Unidesk Agent from the Unidesk Download page.                                             Copy the  Unidesk_agent_installer.exe  file from the Unidesk Agent folder to a convenient location on the PVS server.                                            Run the  Unidesk_agent_installer.exe  as Administrator, and when prompted, enter the path to the directory where you want to install the Unidesk Agent. The default location is  C:\\\\Program Files (x86)\\Unidesk\\Agent .                  The Unidesk Agent installer checks to see if all   Prerequisites  are present. If any prerequisites are missing, the installer reports this and exits without installing.                                             The installer prompts you for an Agent Port number. You can accept the default port number (8016) or specify a different one if the default port is already in use.                                            The installer prompts you for the credentials ( address ,  username , and  password ) for your Unidesk ELM. Register the Unidesk Agent with the ELM by entering the IP address and login credentials for a Unidesk Management Console (UMC) user on the ELM with Administrator privileges, (for example, the credentials you use to log into the UMC).                   Note:  If the Unidesk ELM is not available yet or you choose not to register with it now, you can manually register at a later time using the procedure described in   Register with the Unidesk ELM manually .                                             Click  Finish  to exit the wizard.                        The Unidesk Agent registration appears in the Audit log for the Management Service in the Unidesk Management Console.", 
            "title": "Install the Unidesk Agent"
        }, 
        {
            "location": "/get_started_install_agent_pv4/#register-with-the-unidesk-elm-manually", 
            "text": "If the Unidesk Agent was not registered with a Unidesk ELMduring installation, you can register it later by using the following procedure.  To manually register the Unidesk Agent with the ELM:                                As an  administrator , log in to the server where you installed the Unidesk Agent.                                            Open a command window (cmd.exe) as administrator and navigate to the directory where the Unidesk Agent is installed. (The default location is  C:\\\\Program Files (x86)\\Unidesk\\Agent .)                                            Run the following command, using the IP address of the ELM where indicated:                   Unidesk.Agent.Service.exe register /i /e: IP_address_of_ELM  /u:Administrator                                              When prompted, enter the password for a user who has Administrator privileges in the Unidesk Management Console (UMC) on the ELM.                                             When the registration process completes, a message appears informing you of the successful outcome. The Unidesk Agent registration appears in the Audit log for the Management Service in the UMC.                        If the process does not succeed, examine the  \\Unidesk\\Agent\\Logs\\unidesk.agent.log  file in the Unidesk Agent installation directory. You can also view Help for the Unidesk Agent command line options by running the following command: Unidesk.Agent.Service.exe /?.", 
            "title": "Register with the Unidesk ELM manually"
        }, 
        {
            "location": "/get_started_install_agent_pv4/#next-step", 
            "text": "Connect to a Directory Service", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_license_co4/", 
            "text": "Set up Unidesk\n\n\n\n\nObtain a Unidesk License\n\n\n\n\nObtain a Unidesk license\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Register with Unidesk and log in\n                        \n                        \n Download the license\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nTo acquire a Unidesk license, you must be logged in to Unidesk. If you have not already done so, register on the Unidesk website to obtain a User Name and Password.\n\n\nRegister with Unidesk and log in\n\n\nTo register on the Unidesk website:\n\n\n            \nIn a web browser, navigate to \nthe Unidesk website\n and click \nLogin\n.\n            \nIn the Register section of the login page, enter your email address and click \nRegister.\nUnidesk sends a confirmation email message to the address you provided.\n            \nOpen the confirmation email message from Unidesk, which contains the Subject line \"Confirming your registration at www.unidesk.com\", and click the link it contains or paste the link into a web browser.           \n            \nTo finish registering, fill out the fields in the \"Email address confirmed\" page and click the \nComplete registration\n button. \n        \n\n\n\nDownload the license\n\n\nOnce you are registered on the Unidesk site, you can obtain a Unidesk license by downloading a license.xml file. To obtain a license:\n\n\n            \nIn the Unidesk Management Console, click \nAbout\n. \n            \nIn the About Unidesk box, click the License tab.\n            \nOn the License tab, click \nManage License\n.\n            \nIn the Update License box, click \nDownload your license now by entering your credentials for the www.unidesk.com website\n option and enter your Unidesk \nUser Name\n and \nPassword\n and click the Next icon \n to access the Confirm Your License Update tab. \n            \nIn the Confirm Your License Update tab, click \nFinish\n.\n        \n\n\n\nNext step\n\n\n Change the Administrator password", 
            "title": "get_started_license_co4"
        }, 
        {
            "location": "/get_started_license_co4/#obtain-a-unidesk-license", 
            "text": "In this article:                                                                                            Register with Unidesk and log in                                                    Download the license                                                    Next step                                                                                       To acquire a Unidesk license, you must be logged in to Unidesk. If you have not already done so, register on the Unidesk website to obtain a User Name and Password.", 
            "title": "Obtain a Unidesk license"
        }, 
        {
            "location": "/get_started_license_co4/#register-with-unidesk-and-log-in", 
            "text": "To register on the Unidesk website:               In a web browser, navigate to  the Unidesk website  and click  Login .              In the Register section of the login page, enter your email address and click  Register. Unidesk sends a confirmation email message to the address you provided.              Open the confirmation email message from Unidesk, which contains the Subject line \"Confirming your registration at www.unidesk.com\", and click the link it contains or paste the link into a web browser.                         To finish registering, fill out the fields in the \"Email address confirmed\" page and click the  Complete registration  button.", 
            "title": "Register with Unidesk and log in"
        }, 
        {
            "location": "/get_started_license_co4/#download-the-license", 
            "text": "Once you are registered on the Unidesk site, you can obtain a Unidesk license by downloading a license.xml file. To obtain a license:               In the Unidesk Management Console, click  About .               In the About Unidesk box, click the License tab.              On the License tab, click  Manage License .              In the Update License box, click  Download your license now by entering your credentials for the www.unidesk.com website  option and enter your Unidesk  User Name  and  Password  and click the Next icon   to access the Confirm Your License Update tab.               In the Confirm Your License Update tab, click  Finish .", 
            "title": "Download the license"
        }, 
        {
            "location": "/get_started_license_co4/#next-step", 
            "text": "Change the Administrator password", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_login_ah4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nLog into the UMC\n\n\n\n\nLog into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Log into the UMC\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the IP address for the ELM, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.            \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_ah4"
        }, 
        {
            "location": "/get_started_login_ah4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:                                                                                            Log into the UMC                                                    Next step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_ah4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the IP address for the ELM, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                          Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_ah4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_login_az4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nLog into the UMC\n\n\n\n\nLog into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n Log into the UMC\n        \n\n\n Next step\n        \n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the IP address for the ELM, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.            \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_az4"
        }, 
        {
            "location": "/get_started_login_az4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:   Log into the UMC            Next step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_az4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the IP address for the ELM, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                          Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_az4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_login_co4/", 
            "text": "Log into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n Log into the UMC\n        \n\n\n Next Step\n        \n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the this IP address, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.           \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext Step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_co4"
        }, 
        {
            "location": "/get_started_login_co4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:   Log into the UMC            Next Step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_co4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the this IP address, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                         Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_co4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next Step"
        }, 
        {
            "location": "/get_started_login_hv4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nLog into the UMC\n\n\n\n\nLog into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Log into the UMC\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the IP address for the ELM, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.            \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_hv4"
        }, 
        {
            "location": "/get_started_login_hv4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:                                                                                            Log into the UMC                                                    Next step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_hv4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the IP address for the ELM, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                          Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_hv4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_login_vs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nLog into the UMC\n\n\n\n\nLog into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Log into the UMC\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the IP address for the ELM, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.            \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_vs4"
        }, 
        {
            "location": "/get_started_login_vs4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:                                                                                            Log into the UMC                                                    Next step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_vs4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the IP address for the ELM, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                          Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_vs4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_login_xs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nLog into the UMC\n\n\n\n\nLog into the Unidesk Management Console (UMC)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Log into the UMC\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nLog into the UMC\n\n\nOnce you have \nset up the Unidesk ELM\n, you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.\n\n\nThe following steps explain how to log into the UMC using the default User Name and Password.  \n\n\n            \n                \nLocate the VM you created for the Unidesk ELM and determine the IP address for this VM. \n            \n            \n                \nUsing the IP address for the ELM, enter the following URL in a compatible web browser:\n                \nhttp://\n/udmc\n                \nThis displays the Login page for the Unidesk Management Console.            \n                \n                \n            \n            \n                \nEnter \nAdministrator\n in the User Name field and \nUnidesk1\n in the Password field to log in to the Unidesk Management Console for the first time.\n            \n        \n\n\n\nNext step\n\n\nObtain a Unidesk license", 
            "title": "get_started_login_xs4"
        }, 
        {
            "location": "/get_started_login_xs4/#log-into-the-unidesk-management-console-umc", 
            "text": "In this article:                                                                                            Log into the UMC                                                    Next step", 
            "title": "Log into the Unidesk Management Console (UMC)"
        }, 
        {
            "location": "/get_started_login_xs4/#log-into-the-umc", 
            "text": "Once you have  set up the Unidesk ELM , you can log into the Unidesk Management Console, which is the user interface for creating and managing Unidesk Layers and Layered Images.  The following steps explain how to log into the UMC using the default User Name and Password.                                  Locate the VM you created for the Unidesk ELM and determine the IP address for this VM.                                             Using the IP address for the ELM, enter the following URL in a compatible web browser:                  http:// /udmc                  This displays the Login page for the Unidesk Management Console.                                                                                          Enter  Administrator  in the User Name field and  Unidesk1  in the Password field to log in to the Unidesk Management Console for the first time.", 
            "title": "Log into the UMC"
        }, 
        {
            "location": "/get_started_login_xs4/#next-step", 
            "text": "Obtain a Unidesk license", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_prerequisites_ah4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nPrerequisites (Acropolis)\n\n\n\n\nUnidesk Prerequisites (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \nOS requirements\n                        \n                        \n Storage requirements \n                        \n                        \nNutanix Acropolis requirements\n                        \n                    \n                \n            \n        \n\n\n\nOperating System requirement \n\n\n            \n                \nOS for Layered Images\n                \n                \nYou need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n            \n        \n\n\n\nStorage requirements \n\n\n            \n                \n350-500 GB Storage Space\n                \n                \nThe Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.\n            \n            \n                \n40-100 GB network file share  (SMB/NFS)\n                \n                \nThe file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed. \n            \n        \n\n\n\nNutanix Acropolis requirements for installing the Unidesk ELM\n\n\nIf you are installing the Unidesk ELM and building your Layers on Acropolis VMs, or you are publishing Layered Images that will be used in a Acropolis environment, you need:\n\n\n            \n                \nAcropolis account and privileges\n                \n                \n                    \nAn existing or new Acropolis account to use for Unidesk.\n                    \nThe account must have Acropolis privileges to: \nCreate and remove virtual disks.\nCopy and delete layers on virtual disks using Acropolis file APIs.\n                \n            \n            \n                \nNutanix Acropolis software and settings\n                \nAccess to the Acropolis Tools to install on the layer.\n            \n            \n                \nAcropolis resource information\n                \nThe Acropolisinfo listed in \nAcropolis Connector Configuration\n.", 
            "title": "get_started_prerequisites_ah4"
        }, 
        {
            "location": "/get_started_prerequisites_ah4/#unidesk-prerequisites-nutanix-ahv", 
            "text": "In this article:                                                                                           OS requirements                                                    Storage requirements                                                    Nutanix Acropolis requirements", 
            "title": "Unidesk Prerequisites (Nutanix AHV)"
        }, 
        {
            "location": "/get_started_prerequisites_ah4/#operating-system-requirement", 
            "text": "OS for Layered Images                                   You need a Unidesk-supported  operating system  to import into an OSLayer. This OSwill be used to build your Layered Images.", 
            "title": "Operating System requirement "
        }, 
        {
            "location": "/get_started_prerequisites_ah4/#storage-requirements", 
            "text": "350-500 GB Storage Space                                   The Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.                                            40-100 GB network file share  (SMB/NFS)                                   The file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed.", 
            "title": "Storage requirements "
        }, 
        {
            "location": "/get_started_prerequisites_ah4/#nutanix-acropolis-requirements-for-installing-the-unidesk-elm", 
            "text": "If you are installing the Unidesk ELM and building your Layers on Acropolis VMs, or you are publishing Layered Images that will be used in a Acropolis environment, you need:                                Acropolis account and privileges                                                        An existing or new Acropolis account to use for Unidesk.                      The account must have Acropolis privileges to:  Create and remove virtual disks. Copy and delete layers on virtual disks using Acropolis file APIs.                                                             Nutanix Acropolis software and settings                  Access to the Acropolis Tools to install on the layer.                                            Acropolis resource information                  The Acropolisinfo listed in  Acropolis Connector Configuration .", 
            "title": "Nutanix Acropolis requirements for installing the Unidesk ELM"
        }, 
        {
            "location": "/get_started_prerequisites_az4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nPrerequisites\n\n\n\n\nUnidesk Prerequisites (Azure)\n\n\nIn this article: \n\n\n            \n            \n                \n                    \n                        \n Unidesk Prerequisites (Azure)\n                        \n                        \nStorage requirements\n                        \n                        \nAzure-specific requirements\n                        \n                    \n                \n            \n        \n\n\n\nOperating System requirement \n\n\n            \n                \nOS for Layered Images\n                \n                \nYou need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n            \n        \n\n\n\nStorage requirements\n\n\n            \n                \n350-500 GB Storage Space\n                \n                \nThe Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.\n            \n            \n                \n40-100 GB network file share  (SMB/NFS)\n                \n                \nThe file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed. \n            \n        \n\n\n\nAzure prerequisites\n\n\nBefore installing the Unidesk ELM in Azure, be sure to meet the following prerequisites.\n\n\n            \n                \nNetwork File Share (Azure specifics)\n                \n                \nA file share server in Azure will perform significantly better than an on-premise file share. Even though the \nAzure\n file share feature is not supported, you can use an existing network file share or create a new file share in the Azure environment. \n                \n                    \nUsing \nPremium Storage\n is strongly recommended.\n                    \nOnly fixed VHD disks will deploy successfully.\n                \n            \n            \n                \nAzure account and subscription\n                \n                \nTo deploy and configure the Unidesk Enterprise Layer Manager, you will need the credentials for an account that has administrative access to your Azure subscription. For more information, refer to the \nMicrosoft Azure Sign in page\n.\n            \n        \n\n\n\n            \n                \nAzure Resource Manager\n                \n                \nUnidesk is designed to work with Azure\u2019s new Resource Management (ARM) model.  It does not support Azure\u2019s Classic deployment model.  All resources such as virtual network, file shares and OS machines that Unidesk will work with must be created with Azure Resource Manager. For more information, refer to the \nAzure Resource Manager overview page\n.\n            \n            \n                \nAzure network topology\n                \n                \nBefore deploying the Unidesk Enterprise Layer Manager (ELM), you must define and create your Azure network topology.  The ELM and its Network File Share must have network connectivity.  However, the ELM does not require network connectivity to the Session Hosts that are created.  Unidesk recommends utilizing a site-to-site connection between your corporate and Azure networks to access the Unidesk Management Console on the ELM. For more information, refer to the \nMicrosoft Azure Virtual Network page\n.", 
            "title": "get_started_prerequisites_az4"
        }, 
        {
            "location": "/get_started_prerequisites_az4/#unidesk-prerequisites-azure", 
            "text": "In this article:                                                                                             Unidesk Prerequisites (Azure)                                                   Storage requirements                                                   Azure-specific requirements", 
            "title": "Unidesk Prerequisites (Azure)"
        }, 
        {
            "location": "/get_started_prerequisites_az4/#operating-system-requirement", 
            "text": "OS for Layered Images                                   You need a Unidesk-supported  operating system  to import into an OSLayer. This OSwill be used to build your Layered Images.", 
            "title": "Operating System requirement "
        }, 
        {
            "location": "/get_started_prerequisites_az4/#storage-requirements", 
            "text": "350-500 GB Storage Space                                   The Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.                                            40-100 GB network file share  (SMB/NFS)                                   The file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed.", 
            "title": "Storage requirements"
        }, 
        {
            "location": "/get_started_prerequisites_az4/#azure-prerequisites", 
            "text": "Before installing the Unidesk ELM in Azure, be sure to meet the following prerequisites.                                Network File Share (Azure specifics)                                   A file share server in Azure will perform significantly better than an on-premise file share. Even though the  Azure  file share feature is not supported, you can use an existing network file share or create a new file share in the Azure environment.                                        Using  Premium Storage  is strongly recommended.                      Only fixed VHD disks will deploy successfully.                                                             Azure account and subscription                                   To deploy and configure the Unidesk Enterprise Layer Manager, you will need the credentials for an account that has administrative access to your Azure subscription. For more information, refer to the  Microsoft Azure Sign in page .                                                      Azure Resource Manager                                   Unidesk is designed to work with Azure\u2019s new Resource Management (ARM) model.  It does not support Azure\u2019s Classic deployment model.  All resources such as virtual network, file shares and OS machines that Unidesk will work with must be created with Azure Resource Manager. For more information, refer to the  Azure Resource Manager overview page .                                            Azure network topology                                   Before deploying the Unidesk Enterprise Layer Manager (ELM), you must define and create your Azure network topology.  The ELM and its Network File Share must have network connectivity.  However, the ELM does not require network connectivity to the Session Hosts that are created.  Unidesk recommends utilizing a site-to-site connection between your corporate and Azure networks to access the Unidesk Management Console on the ELM. For more information, refer to the  Microsoft Azure Virtual Network page .", 
            "title": "Azure prerequisites"
        }, 
        {
            "location": "/get_started_prerequisites_hv4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nPrerequisites\n\n\n\n\nUnidesk Prerequisites (Hyper-V)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n \n                        \n                        \nStorage requirements\n                        \n                        \nHyper-V-specific requirements\n                        \n                    \n                \n            \n        \n\n\n\nOperating System requirement \n\n\n            \n                \nOS for Layered Images\n                \n                \nYou need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n            \n        \n\n\n\nStorage requirements\n\n\n            \n                \n350-500 GB Storage Space\n                \n                \nThe Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.\n            \n            \n                \n40-100 GB network file share  (SMB/NFS)\n                \n                \nThe file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed. \n            \n        \n\n\n\nHyper-V prerequisites\n\n\nBe sure the Hyper-V VMwhere you are installing the ELM meets the following prerequisites.\n\n\n            \nA Windows Hyper-V 2012 R2 server\n            \nA Virtual Network in Hyper-V", 
            "title": "get_started_prerequisites_hv4"
        }, 
        {
            "location": "/get_started_prerequisites_hv4/#unidesk-prerequisites-hyper-v", 
            "text": "In this article:                                                                                                                                               Storage requirements                                                   Hyper-V-specific requirements", 
            "title": "Unidesk Prerequisites (Hyper-V)"
        }, 
        {
            "location": "/get_started_prerequisites_hv4/#operating-system-requirement", 
            "text": "OS for Layered Images                                   You need a Unidesk-supported  operating system  to import into an OSLayer. This OSwill be used to build your Layered Images.", 
            "title": "Operating System requirement "
        }, 
        {
            "location": "/get_started_prerequisites_hv4/#storage-requirements", 
            "text": "350-500 GB Storage Space                                   The Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.                                            40-100 GB network file share  (SMB/NFS)                                   The file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed.", 
            "title": "Storage requirements"
        }, 
        {
            "location": "/get_started_prerequisites_hv4/#hyper-v-prerequisites", 
            "text": "Be sure the Hyper-V VMwhere you are installing the ELM meets the following prerequisites.               A Windows Hyper-V 2012 R2 server              A Virtual Network in Hyper-V", 
            "title": "Hyper-V prerequisites"
        }, 
        {
            "location": "/get_started_prerequisites_vs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nPrerequisites\n\n\n\n\nUnidesk Prerequisites (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n \n                        \n                        \nStorage requirements\n                        \n                        \nvSphere requirements\n                        \n                    \n                \n            \n        \n\n\n\nOperating System requirement \n\n\n            \n                \nOS for Layered Images\n                \n                \nYou need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n            \n        \n\n\n\nStorage requirements\n\n\n            \n                \n350-500 GB Storage Space\n                \n                \nThe Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.\n            \n            \n                \n40-100 GB network file share  (SMB/NFS)\n                \n                \nThe file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed. \n            \n        \n\n\n\nvSphere prerequisites\n\n\nIf you are installing the Unidesk ELM in vSphere and building your layers on vSphere VMs or publishing Layered Images to vSphere, you need:\n\n\n            \n                \nNetwork access to Unidesk Tools download\n                \n                \nYou need access from the Packaging Machine VM in vSphere to the Unidesk Tools download (available on the Unidesk Download page).\n            \n            \n                \nvCenter account and privileges\n                \n                \n                    \nAn existing or new vCenter account to use for Unidesk.\n                    \nThe account must have vCenter privileges to: Create and remove VMDKs, and to copy and delete layers on VMDKs using vSphere file APIs (see detailed list of vCenter permissions below).\n                \n            \n            \n                \nDedicated vCenter role for Unidesk (optional)\n                \n                \nTo set up a new role:\n                \n                    \nIn the vSphere Client, navigate to \nHome > Administration>Roles\n.\n                    \nClick \nAdd Role\n. \n                    \nEnter a name. Example: \nUDAdmin\n.\n                    \nSet the privileges for this account.\n                \n            \n            \n                \nPrivileges set for the vCenter role you are using for Unidesk\n                \n                \nAdd the required vCenter permissions (detailed permissions list below).\n                \n                    \nOpen the \nAssign Permissions\n window.\n                    \nIn the vSphere Client, navigate to \nHome > Inventory > Hosts and Clusters\n.\n                    \nSelect your \nvCenter\n, right-click, and select \nAdd permission\n.\n                    \nIn the Assign Permissions window, under Assigned Role, expand All Privileges.\n                    \nSelect the permissions listed below, make sure that the \nPropogate to Child Objects\n check box is selected, and click \nOK\n. displayed.\n                \n            \n            \n                \nThe \nUnidesk\n role associated with the administrator account\n                \nAssociate the Unidesk role with the administrator account:\n                \n                    \nAdd the administrator account and assign the Unidesk role to it.\n                    \n                        \nAllow the permissions to propagate to the entire Datacenter.\n                        \nNote:\n If you want to restrict this use from accessing specific folders in the Datacenter, grant the user more restrictive permissions for those folders.\n                    \n                \n            \n            \n                \nvCenter permissions\n                \n                \nUnidesk needs vCenter-level privileges to request information about the execution status of tasks. Without those privileges, Unidesk would consider the tasks failed.\n                \n                    \n                    \n                    \n                        \n                            \nExpand \nAll Privileges\n, and each of the following...\n                            \nThen select...\n                        \n                    \n                    \n                        \n                            \nDatastore\n                            \n                                \n                                    \n Allocate space\n                                    \nBrowse datastore\n                                    \nLow level file operations\n                                \n                            \n                        \n                        \n                            \nFolder\n                            \n                                \n                                    \nCreate folder\n                                    \nDelete folder\n                                \n                            \n                        \n                        \n                            \nGlobal\n                            \n                                \n                                    \nCancel task\n                                \n                            \n                        \n                        \n                            \nHost > Configuration\n                            \n                                \n                                    \nSystem Management\n                                \n                            \n                        \n                        \n                            \nNetwork\n                            \n                                \n                                    \nAssign network\n                                \n                            \n                        \n                        \n                            \nResource\n                            \n                                \n                                    \nAssign virtual machine to resource pool\n                                \n                            \n                        \n                        \n                            \nvApp\n                            \n                                \n                                    \nExport\n                                    \nImport\n                                    \nvApp application configuration\n                                \n                            \n                        \n                        \n                            \nVirtual machine > Configuration\n                            \n                                \n                                    \nAdd existing disk\n                                    \nAdd new disk\n                                    \nAdd or remove device\n                                    \nAdvanced\n                                    \nChange CPU count\n                                    \nChange resource\n                                    \nConfigure managedBy\n                                    \nDisk change tracking\n                                    \nMemory\n                                    \nModify device settings\n                                    \nRemove disk\n                                    \nRename\n                                    \nReset guest information\n                                    \nSet annotation\n                                    \nSettings\n                                    \nSwapfile placement\n                                    \nUpgrade virtual hardware\n                                \n                            \n                        \n                        \n                            \nVirtual machine > Interaction\n                            \n                                \n                                    \nAnswer question\n                                    \nConfigure CD media\n                                    \nConsole interaction\n                                    \nDevice connection\n                                    \nPower off\n                                    \nPower on\n                                    \nReset\n                                    \nSuspend\n                                \n                            \n                        \n                        \n                            \nVirtual machine > Inventory\n                            \n                                \n                                    \nCreate from existing\n                                    \nCreate new\n                                    \nRegister\n                                    \nRemove\n                                    \nUnregister\n                                \n                            \n                        \n                        \n                            \nVirtual machine > Provisioning\n                            \n                                \n                                    \nClone template (optional, but required to use a vSphere template as the source VM)\n                                    \nClone virtual machine\n                                    \nCustomize\n                                    \nDeploy template\n                                    \nMark as template\n                                \n                            \n                        \n                        \n                            \nVirtual machine > Snapshot management\n                            \n                                \n                                    \nCreatesnapshot\n                                    \nRemove Snapshot", 
            "title": "get_started_prerequisites_vs4"
        }, 
        {
            "location": "/get_started_prerequisites_vs4/#unidesk-prerequisites-vsphere", 
            "text": "In this article:                                                                                                                                               Storage requirements                                                   vSphere requirements", 
            "title": "Unidesk Prerequisites (vSphere)"
        }, 
        {
            "location": "/get_started_prerequisites_vs4/#operating-system-requirement", 
            "text": "OS for Layered Images                                   You need a Unidesk-supported  operating system  to import into an OSLayer. This OSwill be used to build your Layered Images.", 
            "title": "Operating System requirement "
        }, 
        {
            "location": "/get_started_prerequisites_vs4/#storage-requirements", 
            "text": "350-500 GB Storage Space                                   The Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.                                            40-100 GB network file share  (SMB/NFS)                                   The file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed.", 
            "title": "Storage requirements"
        }, 
        {
            "location": "/get_started_prerequisites_vs4/#vsphere-prerequisites", 
            "text": "If you are installing the Unidesk ELM in vSphere and building your layers on vSphere VMs or publishing Layered Images to vSphere, you need:                                Network access to Unidesk Tools download                                   You need access from the Packaging Machine VM in vSphere to the Unidesk Tools download (available on the Unidesk Download page).                                            vCenter account and privileges                                                        An existing or new vCenter account to use for Unidesk.                      The account must have vCenter privileges to: Create and remove VMDKs, and to copy and delete layers on VMDKs using vSphere file APIs (see detailed list of vCenter permissions below).                                                             Dedicated vCenter role for Unidesk (optional)                                   To set up a new role:                                       In the vSphere Client, navigate to  Home > Administration>Roles .                      Click  Add Role .                       Enter a name. Example:  UDAdmin .                      Set the privileges for this account.                                                             Privileges set for the vCenter role you are using for Unidesk                                   Add the required vCenter permissions (detailed permissions list below).                                       Open the  Assign Permissions  window.                      In the vSphere Client, navigate to  Home > Inventory > Hosts and Clusters .                      Select your  vCenter , right-click, and select  Add permission .                      In the Assign Permissions window, under Assigned Role, expand All Privileges.                      Select the permissions listed below, make sure that the  Propogate to Child Objects  check box is selected, and click  OK . displayed.                                                             The  Unidesk  role associated with the administrator account                  Associate the Unidesk role with the administrator account:                                       Add the administrator account and assign the Unidesk role to it.                                               Allow the permissions to propagate to the entire Datacenter.                          Note:  If you want to restrict this use from accessing specific folders in the Datacenter, grant the user more restrictive permissions for those folders.                                                                                  vCenter permissions                                   Unidesk needs vCenter-level privileges to request information about the execution status of tasks. Without those privileges, Unidesk would consider the tasks failed.                                                                                                                                       Expand  All Privileges , and each of the following...                              Then select...                                                                                                                          Datastore                                                                                                     Allocate space                                      Browse datastore                                      Low level file operations                                                                                                                                              Folder                                                                                                    Create folder                                      Delete folder                                                                                                                                              Global                                                                                                    Cancel task                                                                                                                                              Host > Configuration                                                                                                    System Management                                                                                                                                              Network                                                                                                    Assign network                                                                                                                                              Resource                                                                                                    Assign virtual machine to resource pool                                                                                                                                              vApp                                                                                                    Export                                      Import                                      vApp application configuration                                                                                                                                              Virtual machine > Configuration                                                                                                    Add existing disk                                      Add new disk                                      Add or remove device                                      Advanced                                      Change CPU count                                      Change resource                                      Configure managedBy                                      Disk change tracking                                      Memory                                      Modify device settings                                      Remove disk                                      Rename                                      Reset guest information                                      Set annotation                                      Settings                                      Swapfile placement                                      Upgrade virtual hardware                                                                                                                                              Virtual machine > Interaction                                                                                                    Answer question                                      Configure CD media                                      Console interaction                                      Device connection                                      Power off                                      Power on                                      Reset                                      Suspend                                                                                                                                              Virtual machine > Inventory                                                                                                    Create from existing                                      Create new                                      Register                                      Remove                                      Unregister                                                                                                                                              Virtual machine > Provisioning                                                                                                    Clone template (optional, but required to use a vSphere template as the source VM)                                      Clone virtual machine                                      Customize                                      Deploy template                                      Mark as template                                                                                                                                              Virtual machine > Snapshot management                                                                                                    Createsnapshot                                      Remove Snapshot", 
            "title": "vSphere prerequisites"
        }, 
        {
            "location": "/get_started_prerequisites_xs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nPrerequisites\n\n\n\n\nUnidesk Prerequisites (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n                        \n                        \nStorage requirements\n                        \n                        \nXenServer requirements\n                        \n                    \n                \n            \n        \n\n\n\nOperating System requirement \n\n\n            \n                \nOS for Layered Images\n                \n                \nYou need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n            \n        \n\n\n\nStorage requirements\n\n\n            \n                \n350-500 GB Storage Space\n                \n                \nThe Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.\n            \n            \n                \n40-100 GB network file share  (SMB/NFS)\n                \n                \nThe file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed. \n            \n        \n\n\n\nCitrix XenServer prerequisites\n\n\n            \n                \nXenServer account and privileges\n                \n                \n                    \nA XenServer account (new or existing) to use for Unidesk.\n                    \nThe account must have XenServer privileges to: \nCreate and remove virtual disks.\nCopy and delete layers on virtual disks using XenServer file APIs. \n                \n            \n            \n                \nCitrix XenServer software and settings\n                \nAccess to the XenServer Tools to install on the layer. \n            \n            \n                \nXenServer resource information\n                \nThe XenServerinfo listed in \nCitrix XenServer Connector Configuration\n. \n            \n            \n                \n \nNetwork access to Unidesk OSMachine Tools\n                \nWhen you create  Layer or add a Version to it,  the Unidesk Management Console (UMC) uses a Connector Configuration to create a VM called a Packaging Machine for the Layer you are building. The Packaging Machine \nmust\n have access to the Unidesk OSMachine Tools download, which is available on the Unidesk Download page.", 
            "title": "get_started_prerequisites_xs4"
        }, 
        {
            "location": "/get_started_prerequisites_xs4/#unidesk-prerequisites-xenserver", 
            "text": "In this article:                                                                                                                                             Storage requirements                                                   XenServer requirements", 
            "title": "Unidesk Prerequisites (XenServer)"
        }, 
        {
            "location": "/get_started_prerequisites_xs4/#operating-system-requirement", 
            "text": "OS for Layered Images                                   You need a Unidesk-supported  operating system  to import into an OSLayer. This OSwill be used to build your Layered Images.", 
            "title": "Operating System requirement "
        }, 
        {
            "location": "/get_started_prerequisites_xs4/#storage-requirements", 
            "text": "350-500 GB Storage Space                                   The Unidesk ELM uses local storage for temporary files and finalized layers. The more layers you create, the more space you need. However, if you run low on space, you can expand the size of the current disk, or add other disks to the ELM when needed.                                            40-100 GB network file share  (SMB/NFS)                                   The file share connected to the ELM is used for upgrades, Elastic Layers, and cross-platform publishing. This space is easy to expand, if needed.", 
            "title": "Storage requirements"
        }, 
        {
            "location": "/get_started_prerequisites_xs4/#citrix-xenserver-prerequisites", 
            "text": "XenServer account and privileges                                                        A XenServer account (new or existing) to use for Unidesk.                      The account must have XenServer privileges to:  Create and remove virtual disks. Copy and delete layers on virtual disks using XenServer file APIs.                                                              Citrix XenServer software and settings                  Access to the XenServer Tools to install on the layer.                                             XenServer resource information                  The XenServerinfo listed in  Citrix XenServer Connector Configuration .                                               Network access to Unidesk OSMachine Tools                  When you create  Layer or add a Version to it,  the Unidesk Management Console (UMC) uses a Connector Configuration to create a VM called a Packaging Machine for the Layer you are building. The Packaging Machine  must  have access to the Unidesk OSMachine Tools download, which is available on the Unidesk Download page.", 
            "title": "Citrix XenServer prerequisites"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/", 
            "text": "Set up Unidesk\n\n\n\n\nSet up a network file share\n\n\n\n\nSet up a network file share\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Network file share requirements and recommendations\n                        \n                        \n Create the network file share\n                        \n                        \n Configure Unidesk to access the file share\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk ELM must be connected to a network file share. \n\n\nNetwork file share requirements and recommendations\n\n\nRequirements\n\n\nWhen setting up the ELM's file share:\n\n\n            \n                \nThe file share must be configured using SMB or NFStechnology. However, if you plan to use Elastic Layer assignments, you must use SMB protocol, as NFS technology is \nnot\n supported when using Elastic Layers.\n            \n            \n                \nThe user credentials for the file share must have full permissions for that share. \n            \n            \n                \nThe share must be set up by the admin to be \nreadonly\n for all users except for the one configured in the ELM. This secures the Layers and other files stored on the share.\n            \n            \n                \nEnsure that you have the minimum storage space requirement of 40-100GB for your file share. \n                \nNote:\n Storage space is expandable, as you can add space to a disk, or other disks to the ELM. \n            \n        \n\n\n\nRecommendations\n\n\n            \n                \nFor convenience, set up a Network File Share hosted in your hypervisor. \n            \n            \n                \nFor Azure:\n Currently, the Unidesk ELMdoes not support the \nAzure File Share feature\n. For best performance, it is best to create a file share server in Azure using a fast system with a Premium Disk, for example, a DS class machine. \n            \n        \n\n\n\nCreate the network file share\n\n\nDepending on your environment, configure a file share that uses either Network File System (NFS) or Server Message Block (SMB) protocol. \n\n\n            \n                \nFollow the vendor's instructions for setting up a file share using the protocol supported in your environment. \n            \n            \n                \nIf you are planning to deploy Elastic Layers, the share \nmust be configured using SMB technology\n. When using Elastic Layer assignments, \nNFS technology is not supported\n for the file share.\n            \n        \n\n\n\nConfigure Unidesk to access the file share\n\n\nOnce you have created a file share, configure the Unidesk Enterprise Layer Manager (ELM) to attach to it. You can configure the ELMvia the Unidesk Management Console (UMC).\n\n\n            \n                \nIn the Unidesk Management Console, select  \nSystem > Settings and Configuration\n, then scroll down to the network file shares setting and click \nEdit\n.\n            \n            \n                \nSpecify a Type, Path, User name, and Password for the file share.\n            \n            \n                \nClick \nTest Network File Share\n to see if you can connect to the file share. The test returns a message stating either \nSuccess\n or \nFailed to mount network file share path\n.\n            \n            \n                \nOnce the test returns a \nSuccess\n message, click \nSave\n.\n            \n        \n\n\n\nNext step\n\n\nOpen ports in your firewall for Unidesk", 
            "title": "get_started_setup_fileshare_co4"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#set-up-a-network-file-share", 
            "text": "In this article:                                                                                            Network file share requirements and recommendations                                                    Create the network file share                                                    Configure Unidesk to access the file share                                                    Next step                                                                                       The Unidesk ELM must be connected to a network file share.", 
            "title": "Set up a network file share"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#network-file-share-requirements-and-recommendations", 
            "text": "", 
            "title": "Network file share requirements and recommendations"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#requirements", 
            "text": "When setting up the ELM's file share:                                The file share must be configured using SMB or NFStechnology. However, if you plan to use Elastic Layer assignments, you must use SMB protocol, as NFS technology is  not  supported when using Elastic Layers.                                            The user credentials for the file share must have full permissions for that share.                                             The share must be set up by the admin to be  readonly  for all users except for the one configured in the ELM. This secures the Layers and other files stored on the share.                                            Ensure that you have the minimum storage space requirement of 40-100GB for your file share.                   Note:  Storage space is expandable, as you can add space to a disk, or other disks to the ELM.", 
            "title": "Requirements"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#recommendations", 
            "text": "For convenience, set up a Network File Share hosted in your hypervisor.                                             For Azure:  Currently, the Unidesk ELMdoes not support the  Azure File Share feature . For best performance, it is best to create a file share server in Azure using a fast system with a Premium Disk, for example, a DS class machine.", 
            "title": "Recommendations"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#create-the-network-file-share", 
            "text": "Depending on your environment, configure a file share that uses either Network File System (NFS) or Server Message Block (SMB) protocol.                                 Follow the vendor's instructions for setting up a file share using the protocol supported in your environment.                                             If you are planning to deploy Elastic Layers, the share  must be configured using SMB technology . When using Elastic Layer assignments,  NFS technology is not supported  for the file share.", 
            "title": "Create the network file share"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#configure-unidesk-to-access-the-file-share", 
            "text": "Once you have created a file share, configure the Unidesk Enterprise Layer Manager (ELM) to attach to it. You can configure the ELMvia the Unidesk Management Console (UMC).                                In the Unidesk Management Console, select   System > Settings and Configuration , then scroll down to the network file shares setting and click  Edit .                                            Specify a Type, Path, User name, and Password for the file share.                                            Click  Test Network File Share  to see if you can connect to the file share. The test returns a message stating either  Success  or  Failed to mount network file share path .                                            Once the test returns a  Success  message, click  Save .", 
            "title": "Configure Unidesk to access the file share"
        }, 
        {
            "location": "/get_started_setup_fileshare_co4/#next-step", 
            "text": "Open ports in your firewall for Unidesk", 
            "title": "Next step"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/", 
            "text": "Upgrade Unidesk\n\n\n\n\nUpgrade the Unidesk ELM and Unidesk Agent\n\n\n\n\nUpgrade the Unidesk ELM and Agent\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Download the upgrade media to the Network File Share\n                        \n                        \n Load the Unidesk upgrade\n                        \n                        \nUpgrade the Unidesk Agent (PVSServers only)\n                    \n                \n            \n        \n\n\n\nPrerequisites\n\n\nVerify that a \n Set up a network file share\n has been configured. You can confirm that this has been done by logging into the Unidesk Management Appliance (UMC), selecting \nSystem \n Settings and Configuration, and finding the Network File Share setting. If the file share has been configured, you can upgrade the ELM. If not, click \n Set up a network file share\n to configure a file share. \n\n\nDownload Packages\n\n\n            \n            \n            \n            \n                \n                    \nPlatform\n                    \nPackage\n                    \nFiles included\n                \n            \n            \n                \n                    \nCitrix XenServer\n                    \nunidesk_upgrade_xenserver_pkg_4.x.x.zip\n                    \nupgrade_xenserver_elm_4.x.x.xx.vhd\n                \n                \n                    \nMS Azure\n                    \nunidesk_upgrade_azure_pkg_4.x.x.zip\n                    \nupgrade_azure_elm_4.x.x.xx.vhd\n                \n                \n                    \nMSHyper-V\n                    \n                        \nunidesk_upgrade_hyperv_pkg_4.x.x.zip\n                    \n                    \nupgrade_hyperv_elm_4.x.x.xx.vhd\n                \n                \n                    \nVMware vSphere\n                    \nunidesk_upgrade_pkg_4.x.x.zip\n                    \n                        \nupgrade_vmware_elm_4.x.x.xx.vhd\n                        \nunidesk_agent_installer.exe\n                        \nNote:\n A Unidesk Agent upgrade is only required if you've  installed the agent for your implementation, for example, if you are using PVS, or Connector Scripts.\n                    \n                \n            \n        \n\n\n\nBack up the Unidesk ELM\n\n\n            \nTake a snapshot or checkpoint of the Unidesk ELM.\n        \n\n\n\nDownload the upgrade media to the Network File Share\n\n\nThe Unidesk 4 upgrade files to download include the ELM upgrade and the Unidesk Agent upgrade, which is used to upgrade the agent on PVS servers and on servers where Layered Images are enabled for Elastic Layers.\n\n\n            \nIn a network browser, navigate to the \nUnidesk 4 Download\n page. \n            \nDownload the Unidesk package for your platform to the \n\\Upgrade\n folder on the Network File Share.\n            \n                \nUnzip the package in \\Upgrade.\n            \n            \nCopy the Unidesk Agent upgrade to the server(s) where the agent is installed, and refer to \n Upgrade the Unidesk Agent \n below. \n        \n\n\n\nLoad the Unidesk upgrade\n\n\n            \nLog into the UMC, select \nSystem\n and click  the \nUpgrade\n action to launch the Upgrade Wizard. \n            \nOn the Upgrade Disk Details tab, click \nBrowse\n.\n            \nNavigate to the upgrade file, and click \nChoose\n.\n            \nVerify the Upgrade path, and click \nUpgrade\n. This starts the upgrade process, and opens a status page in the browser.\n            \nOnce the upgrade has completed, the status changes to \"Upgrade Status: Complete.\"\n            \nRefresh the Web page to return to the UMC.\n            \nVerify that the upgrade was successful by clicking the \nAbout\n link in the UMC to confirm the version number. \n        \n\n\n\nUpgrade the Unidesk Agent \n\n\nIn cases where the Unidesk Agent is required, for example when using PVS or Elastic Layers, upgrade the Unidesk Agent as follows.\n\n\n            \nMake sure that you have copied the Unidesk Agent Upgrade file to the PVSserver(s) where the agent is installed.\n            \nDouble-click the Agent upgrade file, and follow the instructions for upgrading the agent.", 
            "title": "get_started_upgrade_elm_co4"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#upgrade-the-unidesk-elm-and-agent", 
            "text": "In this article:                                                                                            Prerequisites                                                    Download the upgrade media to the Network File Share                                                    Load the Unidesk upgrade                                                   Upgrade the Unidesk Agent (PVSServers only)", 
            "title": "Upgrade the Unidesk ELM and Agent"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#prerequisites", 
            "text": "Verify that a   Set up a network file share  has been configured. You can confirm that this has been done by logging into the Unidesk Management Appliance (UMC), selecting  System   Settings and Configuration, and finding the Network File Share setting. If the file share has been configured, you can upgrade the ELM. If not, click   Set up a network file share  to configure a file share.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#download-packages", 
            "text": "Platform                      Package                      Files included                                                                                  Citrix XenServer                      unidesk_upgrade_xenserver_pkg_4.x.x.zip                      upgrade_xenserver_elm_4.x.x.xx.vhd                                                        MS Azure                      unidesk_upgrade_azure_pkg_4.x.x.zip                      upgrade_azure_elm_4.x.x.xx.vhd                                                        MSHyper-V                                               unidesk_upgrade_hyperv_pkg_4.x.x.zip                                           upgrade_hyperv_elm_4.x.x.xx.vhd                                                        VMware vSphere                      unidesk_upgrade_pkg_4.x.x.zip                                               upgrade_vmware_elm_4.x.x.xx.vhd                          unidesk_agent_installer.exe                          Note:  A Unidesk Agent upgrade is only required if you've  installed the agent for your implementation, for example, if you are using PVS, or Connector Scripts.", 
            "title": "Download Packages"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#back-up-the-unidesk-elm", 
            "text": "Take a snapshot or checkpoint of the Unidesk ELM.", 
            "title": "Back up the Unidesk ELM"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#download-the-upgrade-media-to-the-network-file-share", 
            "text": "The Unidesk 4 upgrade files to download include the ELM upgrade and the Unidesk Agent upgrade, which is used to upgrade the agent on PVS servers and on servers where Layered Images are enabled for Elastic Layers.               In a network browser, navigate to the  Unidesk 4 Download  page.               Download the Unidesk package for your platform to the  \\Upgrade  folder on the Network File Share.                               Unzip the package in \\Upgrade.                           Copy the Unidesk Agent upgrade to the server(s) where the agent is installed, and refer to   Upgrade the Unidesk Agent   below.", 
            "title": "Download the upgrade media to the Network File Share"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#load-the-unidesk-upgrade", 
            "text": "Log into the UMC, select  System  and click  the  Upgrade  action to launch the Upgrade Wizard.               On the Upgrade Disk Details tab, click  Browse .              Navigate to the upgrade file, and click  Choose .              Verify the Upgrade path, and click  Upgrade . This starts the upgrade process, and opens a status page in the browser.              Once the upgrade has completed, the status changes to \"Upgrade Status: Complete.\"              Refresh the Web page to return to the UMC.              Verify that the upgrade was successful by clicking the  About  link in the UMC to confirm the version number.", 
            "title": "Load the Unidesk upgrade"
        }, 
        {
            "location": "/get_started_upgrade_elm_co4/#upgrade-the-unidesk-agent", 
            "text": "In cases where the Unidesk Agent is required, for example when using PVS or Elastic Layers, upgrade the Unidesk Agent as follows.               Make sure that you have copied the Unidesk Agent Upgrade file to the PVSserver(s) where the agent is installed.              Double-click the Agent upgrade file, and follow the instructions for upgrading the agent.", 
            "title": "Upgrade the Unidesk Agent "
        }, 
        {
            "location": "/get_started_upgrade_unidesk_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Upgrade Unidesk \n\n\nUpgrade Unidesk\n\n\nAre you upgrading the Unidesk ELM and Agent, or your Unidesk license?\n\n\nUpgrade the Unidesk ELM and Unidesk Agent\n            \n\n\nUpdate your Unidesk license", 
            "title": "get_started_upgrade_unidesk_co4"
        }, 
        {
            "location": "/get_started_upgrade_unidesk_co4/#upgrade-unidesk", 
            "text": "Are you upgrading the Unidesk ELM and Agent, or your Unidesk license?  Upgrade the Unidesk ELM and Unidesk Agent               Update your Unidesk license", 
            "title": "Upgrade Unidesk"
        }, 
        {
            "location": "/glossary_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Unidesk Glossary\n\n\nUnidesk Glossary\n\n\nThis section contains terminology across all platforms and operating systems that Unidesk supports. Note that some of the terms may not pertain to your specific environment.\n\n\nA\n\n\nA virtual disk containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer.\n\n\nC\n\n\nConnectors are the interfaces to environments where layers are created and images are published. The type of platform connector determines the information required to create a specific Connector Configuration.\n\n\nA stored set of values for connecting to a specific environment. A configuration typically includes credentials for authentication, a storage location, and any other information required to interface with the environment where you will be creating layers or publishing images.\n\n\nD\n\n\nA connection to a base Distinguished Name in a directory service (such as Microsoft Active Directory). Adding a Directory Junction to the local tree allows you to assign Administrator privileges to users that are defined in the directory service instead of in the Unidesk Management Console.\n\n\nA hierarchical repository of information about users, devices and services on a network server. Microsoft Active Directory and LDAP are examples of directory services.\n\n\nA user whose attributes reside in a remote directory service but is also visible in the Unidesk environment through the use of a directory junction. You can assign Unidesk Administrator privileges to users.\n\n\nA view of data in a hierarchical, tree-like structure. The Unidesk directory tree contains entries for users, groups, containers, and Virtual Machines. You can extend this view by adding connections to a remote directory service, such as Active Directory.\n\n\nE\n\n\nA Unidesk App Layer that the Unidesk administrator can deliver based on user entitlements when users log onto sessions or standalone desktops. Elastic Layers allow administrators to give each user his/her own unique set of applications, on top of the base Layered Image used across sessions (in the case of session hosts), and across floating pools/shared groups (in the case of desktops). This can drastically reduce the number of base Layered Images that administrators need to maintain.\n\n\nA virtual appliance that coordinates communication in the Unidesk environment, and  hosts the Unidesk Management Console (UMC), the administrator interface for the Unidesk environment. The ELM also manages copies of all Layers.\n\n\nI\n\n\nAn Image Template saves the OSLayer, App Layer, and Platform Layer assignments you have chosen for a Layered Image, allowing you to use any combination of layers to provision any number of servers.\n\n\nL\n\n\nA Unidesk layer captures a Windows Operating System, a Windows Application, or the configuration settings and tools required for Images to run on a particular platform in a virtual disk that can be combined with other layers to create a Layered Image. Layers are created from a simple install of the application or operating system. You can select any combination of Layers for each Layered Image. You can reuse the same layers in any combination to provision a variety of servers.\n\n\nA bootable image composited from an OS Layer, a Platform Layer, and any number of App Layers. Layered Image(s) are published using Image Templates where you save your layer selections for a particular use, usually provisioning servers in a specific silo.\n\n\nThe Web-based management console that runs on the Enterprise Layer Manager (ELM). This console allows you to manage the App Layering components in your environment. You can use is to create Layers, publish Layered Images, and manage system settings.\n\n\nA Layer repository where the ELM creates, composites, and stores Layers and Layered Images. Local storage is used for temporary files during the creation of Layers and Layered Images, and for persistent files, for example, Layers and Image Templates. Administrators can define the Network File Share location that will be used for Elastic Layers in the UMC\u2019s System and Settings.\n\n\nO\n\n\nThe virtual disk containing the Operating System that is imported to create an OS layer. To prepare the OS disk you will install and configure an Operating System on a virtual machine and install the Unidesk tools. The OS Disk is the virtual disk where the Operating System was installed.\n\n\nA virtual disk containing the operating system. You can use an OS Layer with any compatible App Layers in any number of Layered Images. You can create a new Version of the OS Layer for every patch you need to roll out, and continue deploying every and all versions of the layer as you add patches.\n\n\nThe Operating System (OS) Machine is a virtual machine that you create from which you can generate an OS Disk and an OS Layer.\n\n\nP\n\n\nA bootable virtual disk used to create a Packaging Machine needed for creating or updating a Layer.  The Packaging Disk always includes your OS Layer and may also include selected Application and Platform Layers.\n\n\nA virtual machine that acts as a staging area for the creation of App Layers, App Layer Versions, and OS Layer Versions. The Packaging Machine is booted from a Packaging Disk using the credentials and location specified in the selected Connector Configuration.\n\n\nA layer that includes configuration settings, tools, and other software required for Images to run on a particular platform. For example, a platform layer for vSphere would include vmTools. Platform Layers also remove leftover software from other platforms from your image.\n\n\nAn application that is required when installing another application for a new Application Layer or Layer Version. For example, you would select your Microsoft Office App Layer as a Prerequisite Layer when installing a Microsoft Office plugin in a separate App Layer. Or, you would select your Java App Layer as a Prerequisite Layer when creating a Layer for an application that requires Java.\n\n\nS\n\n\nA Citrix technology that allows different users logged into the same Session Host to be assigned different versions of the same Elastic Layer, and ensures that those Layer versions do not conflict.", 
            "title": "glossary_co4"
        }, 
        {
            "location": "/glossary_co4/#unidesk-glossary", 
            "text": "This section contains terminology across all platforms and operating systems that Unidesk supports. Note that some of the terms may not pertain to your specific environment.  A  A virtual disk containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer.  C  Connectors are the interfaces to environments where layers are created and images are published. The type of platform connector determines the information required to create a specific Connector Configuration.  A stored set of values for connecting to a specific environment. A configuration typically includes credentials for authentication, a storage location, and any other information required to interface with the environment where you will be creating layers or publishing images.  D  A connection to a base Distinguished Name in a directory service (such as Microsoft Active Directory). Adding a Directory Junction to the local tree allows you to assign Administrator privileges to users that are defined in the directory service instead of in the Unidesk Management Console.  A hierarchical repository of information about users, devices and services on a network server. Microsoft Active Directory and LDAP are examples of directory services.  A user whose attributes reside in a remote directory service but is also visible in the Unidesk environment through the use of a directory junction. You can assign Unidesk Administrator privileges to users.  A view of data in a hierarchical, tree-like structure. The Unidesk directory tree contains entries for users, groups, containers, and Virtual Machines. You can extend this view by adding connections to a remote directory service, such as Active Directory.  E  A Unidesk App Layer that the Unidesk administrator can deliver based on user entitlements when users log onto sessions or standalone desktops. Elastic Layers allow administrators to give each user his/her own unique set of applications, on top of the base Layered Image used across sessions (in the case of session hosts), and across floating pools/shared groups (in the case of desktops). This can drastically reduce the number of base Layered Images that administrators need to maintain.  A virtual appliance that coordinates communication in the Unidesk environment, and  hosts the Unidesk Management Console (UMC), the administrator interface for the Unidesk environment. The ELM also manages copies of all Layers.  I  An Image Template saves the OSLayer, App Layer, and Platform Layer assignments you have chosen for a Layered Image, allowing you to use any combination of layers to provision any number of servers.  L  A Unidesk layer captures a Windows Operating System, a Windows Application, or the configuration settings and tools required for Images to run on a particular platform in a virtual disk that can be combined with other layers to create a Layered Image. Layers are created from a simple install of the application or operating system. You can select any combination of Layers for each Layered Image. You can reuse the same layers in any combination to provision a variety of servers.  A bootable image composited from an OS Layer, a Platform Layer, and any number of App Layers. Layered Image(s) are published using Image Templates where you save your layer selections for a particular use, usually provisioning servers in a specific silo.  The Web-based management console that runs on the Enterprise Layer Manager (ELM). This console allows you to manage the App Layering components in your environment. You can use is to create Layers, publish Layered Images, and manage system settings.  A Layer repository where the ELM creates, composites, and stores Layers and Layered Images. Local storage is used for temporary files during the creation of Layers and Layered Images, and for persistent files, for example, Layers and Image Templates. Administrators can define the Network File Share location that will be used for Elastic Layers in the UMC\u2019s System and Settings.  O  The virtual disk containing the Operating System that is imported to create an OS layer. To prepare the OS disk you will install and configure an Operating System on a virtual machine and install the Unidesk tools. The OS Disk is the virtual disk where the Operating System was installed.  A virtual disk containing the operating system. You can use an OS Layer with any compatible App Layers in any number of Layered Images. You can create a new Version of the OS Layer for every patch you need to roll out, and continue deploying every and all versions of the layer as you add patches.  The Operating System (OS) Machine is a virtual machine that you create from which you can generate an OS Disk and an OS Layer.  P  A bootable virtual disk used to create a Packaging Machine needed for creating or updating a Layer.  The Packaging Disk always includes your OS Layer and may also include selected Application and Platform Layers.  A virtual machine that acts as a staging area for the creation of App Layers, App Layer Versions, and OS Layer Versions. The Packaging Machine is booted from a Packaging Disk using the credentials and location specified in the selected Connector Configuration.  A layer that includes configuration settings, tools, and other software required for Images to run on a particular platform. For example, a platform layer for vSphere would include vmTools. Platform Layers also remove leftover software from other platforms from your image.  An application that is required when installing another application for a new Application Layer or Layer Version. For example, you would select your Microsoft Office App Layer as a Prerequisite Layer when installing a Microsoft Office plugin in a separate App Layer. Or, you would select your Java App Layer as a Prerequisite Layer when creating a Layer for an application that requires Java.  S  A Citrix technology that allows different users logged into the same Session Host to be assigned different versions of the same Elastic Layer, and ensures that those Layer versions do not conflict.", 
            "title": "Unidesk Glossary"
        }, 
        {
            "location": "/labs_enable_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Enable a Unidesk Labs feature\n\n\nEnable Unidesk Labs features\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Welcome to Unidesk Labs\n                        \n                        \n Enable a Unidesk Labs feature\n                        \n                        \n Labs features in this release\n                        \n                    \n                \n            \n        \n\n\n\nWelcome to Unidesk Labs\n\n\nWant to experiment with cool new features that are under development? Through the Unidesk Management Console, you can now see which features are available in Unidesk Labs in any given release. You can enable features you're interested in, try them out, and let us know what you think. The only caveat? Best not use Labs features in your production environment, as they are likely to evolve with the feedback we receive from users like you! \n\n\nIn the Learning Center, features that are available through Unidesk Labs are marked (Unidesk Labs) in the title. Some Unidesk Labs features require enabling, as described in the next section, though in the current release, the features available through Labs do not need to be enabled. \n\n\nEnable a Unidesk Labs feature\n\n\nWhen a release  includes a Unidesk Labs feature that you want to enable:\n\n\n            \nLog into the UMC and select \nSystem > Settings and Configuration\n.\n            \nSelect the check box for the feature you want to enable, and click \nSave\n. The feature's status changes to \nEnabled\n.\n        \n\n\n\nYou can turn off the feature at any time by deselecting the check box and clicking Save.\n\n\nLabs features in this release\n\n\nTo find out which Labs features are available in this release, see the \nRelease Notes\n.", 
            "title": "labs_enable_co4"
        }, 
        {
            "location": "/labs_enable_co4/#enable-unidesk-labs-features", 
            "text": "In this article:                                                                                            Welcome to Unidesk Labs                                                    Enable a Unidesk Labs feature                                                    Labs features in this release", 
            "title": "Enable Unidesk Labs features"
        }, 
        {
            "location": "/labs_enable_co4/#welcome-to-unidesk-labs", 
            "text": "Want to experiment with cool new features that are under development? Through the Unidesk Management Console, you can now see which features are available in Unidesk Labs in any given release. You can enable features you're interested in, try them out, and let us know what you think. The only caveat? Best not use Labs features in your production environment, as they are likely to evolve with the feedback we receive from users like you!   In the Learning Center, features that are available through Unidesk Labs are marked (Unidesk Labs) in the title. Some Unidesk Labs features require enabling, as described in the next section, though in the current release, the features available through Labs do not need to be enabled.", 
            "title": "Welcome to Unidesk Labs"
        }, 
        {
            "location": "/labs_enable_co4/#enable-a-unidesk-labs-feature", 
            "text": "When a release  includes a Unidesk Labs feature that you want to enable:               Log into the UMC and select  System > Settings and Configuration .              Select the check box for the feature you want to enable, and click  Save . The feature's status changes to  Enabled .           You can turn off the feature at any time by deselecting the check box and clicking Save.", 
            "title": "Enable a Unidesk Labs feature"
        }, 
        {
            "location": "/labs_enable_co4/#labs-features-in-this-release", 
            "text": "To find out which Labs features are available in this release, see the  Release Notes .", 
            "title": "Labs features in this release"
        }, 
        {
            "location": "/landing_install_ah4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the Unidesk ELM in Nutanix AHV\n\n\n\n\nInstall the Unidesk ELM in Nutanix AHV\n\n\nReview the prerequisites and follow the steps to install the ELMin Nutanix AHV. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.\n\n\nPrerequisites (Acropolis)\n            \n\n\nInstall the ELM (Acropolis)\n            \n\n\nLog into the UMC", 
            "title": "landing_install_ah4"
        }, 
        {
            "location": "/landing_install_ah4/#install-the-unidesk-elm-in-nutanix-ahv", 
            "text": "Review the prerequisites and follow the steps to install the ELMin Nutanix AHV. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.  Prerequisites (Acropolis)               Install the ELM (Acropolis)               Log into the UMC", 
            "title": "Install the Unidesk ELM in Nutanix AHV"
        }, 
        {
            "location": "/landing_install_az4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the Unidesk ELM in Azure\n\n\n\n\nInstall the Unidesk ELM in Azure\n\n\nReview the prerequisites for installing the Unidesk Enterprise Layer Manager in Azure. Next,follow the steps to install the ELMin Azure. You will then be able to log in to the Unidesk Management Console and complete the Unidesk setup.\n\n\nPrerequisites\n            \n\n\nInstall the ELM\n            \n\n\nLog into the UMC", 
            "title": "landing_install_az4"
        }, 
        {
            "location": "/landing_install_az4/#install-the-unidesk-elm-in-azure", 
            "text": "Review the prerequisites for installing the Unidesk Enterprise Layer Manager in Azure. Next,follow the steps to install the ELMin Azure. You will then be able to log in to the Unidesk Management Console and complete the Unidesk setup.  Prerequisites               Install the ELM               Log into the UMC", 
            "title": "Install the Unidesk ELM in Azure"
        }, 
        {
            "location": "/landing_install_hv4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the Unidesk ELM in Hyper-V\n\n\n\n\nInstall the Unidesk ELM in Hyper-V\n\n\nReview the prerequisites and follow the steps to install the ELMin Hyper-V. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.\n\n\nPrerequisites\n            \n\n\nInstall the ELM\n            \n\n\nLog into the UMC", 
            "title": "landing_install_hv4"
        }, 
        {
            "location": "/landing_install_hv4/#install-the-unidesk-elm-in-hyper-v", 
            "text": "Review the prerequisites and follow the steps to install the ELMin Hyper-V. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.  Prerequisites               Install the ELM               Log into the UMC", 
            "title": "Install the Unidesk ELM in Hyper-V"
        }, 
        {
            "location": "/landing_install_vs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the Unidesk ELM in vSphere\n\n\n\n\nInstall the Unidesk ELM in vSphere\n\n\nReview the prerequisites for installing the Unidesk Enterprise Layer Manager in vSphere. Next, follow the steps to install the ELM on your vSphere server. You will then be able to log in to the Unidesk Management Console and complete the Unidesk setup.\n\n\nPrerequisites\n            \n\n\nInstall the ELM\n            \n\n\nLog into the UMC", 
            "title": "landing_install_vs4"
        }, 
        {
            "location": "/landing_install_vs4/#install-the-unidesk-elm-in-vsphere", 
            "text": "Review the prerequisites for installing the Unidesk Enterprise Layer Manager in vSphere. Next, follow the steps to install the ELM on your vSphere server. You will then be able to log in to the Unidesk Management Console and complete the Unidesk setup.  Prerequisites               Install the ELM               Log into the UMC", 
            "title": "Install the Unidesk ELM in vSphere"
        }, 
        {
            "location": "/landing_install_xs4/", 
            "text": "Install the Unidesk ELM\n\n\n\n\nInstall the Unidesk ELM in Citrix XenServer\n\n\n\n\nInstall the Unidesk ELM in Citrix XenServer\n\n\nReview the prerequisites and follow the steps to install the ELMin Citrix XenServer. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.\n\n\nPrerequisites\n            \n\n\nInstall the ELM\n            \n\n\nLog into the UMC", 
            "title": "landing_install_xs4"
        }, 
        {
            "location": "/landing_install_xs4/#install-the-unidesk-elm-in-citrix-xenserver", 
            "text": "Review the prerequisites and follow the steps to install the ELMin Citrix XenServer. You will then be able to log into the Unidesk Management Console (UMC) and complete the Unidesk setup.  Prerequisites               Install the ELM               Log into the UMC", 
            "title": "Install the Unidesk ELM in Citrix XenServer"
        }, 
        {
            "location": "/landing_layer_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Layering process\n\n\nCreate Layers\n\n\nOnce Unidesk is installed and set up, you can install your software in Layers. \n\n\nBefore you start\n\n\n Install the Unidesk Enterprise Layer Manager (ELM)\n        \n\n\n Set up Unidesk \n        \n\n\nInstall your software in reusable Unidesk Layers\n\n\n            \n Create an OS Layer\n            \n            \n Create a Platform Layer \n            \n            \n Create an App Layer\n            \n        \n\n\n\nNext Step\n\n\nPublish a Layered Image", 
            "title": "landing_layer_co4"
        }, 
        {
            "location": "/landing_layer_co4/#create-layers", 
            "text": "Once Unidesk is installed and set up, you can install your software in Layers.", 
            "title": "Create Layers"
        }, 
        {
            "location": "/landing_layer_co4/#before-you-start", 
            "text": "Install the Unidesk Enterprise Layer Manager (ELM)            Set up Unidesk", 
            "title": "Before you start"
        }, 
        {
            "location": "/landing_layer_co4/#install-your-software-in-reusable-unidesk-layers", 
            "text": "Create an OS Layer                            Create a Platform Layer                             Create an App Layer", 
            "title": "Install your software in reusable Unidesk Layers"
        }, 
        {
            "location": "/landing_layer_co4/#next-step", 
            "text": "Publish a Layered Image", 
            "title": "Next Step"
        }, 
        {
            "location": "/landing_publish_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Publish \n Publish process\n\n\nPublish Layered Images\n\n\nOnce you have an OSLayer and a Platform Layer, a best practice is to verify that the Layers can be published to your environment as part of a Layered Image. Then you can build out the image by adding App Layers to it.\n\n\nTo publish the Layered Image, you first add the Layers to an Image Template, and use the template to publish a Layered Image. Once you have verified that the Layered Image is successfully published, create your App Layers, add them  to your Image Template, and publish a Layered Image. \n\n\nBefore you start\n\n\n Install the Unidesk Enterprise Layer Manager (ELM)\n        \n\n\n Set up Unidesk \n        \n\n\n Create Layers \n        \n\n\nPublish Layered Images\n\n\n            \nCreate an Image Template\n            \n            \nPublish a Layered Image\n            \n        \n\n\n\nNext Steps\n\n\nNow you can:\n\n\n            \nUpdate your OS Layer and App Layers, as needed\n            \n            \nAdd the new layer version to your Image Template\n            \n            \nPublish the Layered Image", 
            "title": "landing_publish_co4"
        }, 
        {
            "location": "/landing_publish_co4/#publish-layered-images", 
            "text": "Once you have an OSLayer and a Platform Layer, a best practice is to verify that the Layers can be published to your environment as part of a Layered Image. Then you can build out the image by adding App Layers to it.  To publish the Layered Image, you first add the Layers to an Image Template, and use the template to publish a Layered Image. Once you have verified that the Layered Image is successfully published, create your App Layers, add them  to your Image Template, and publish a Layered Image.", 
            "title": "Publish Layered Images"
        }, 
        {
            "location": "/landing_publish_co4/#before-you-start", 
            "text": "Install the Unidesk Enterprise Layer Manager (ELM)            Set up Unidesk             Create Layers", 
            "title": "Before you start"
        }, 
        {
            "location": "/landing_publish_co4/#publish-layered-images_1", 
            "text": "Create an Image Template                           Publish a Layered Image", 
            "title": "Publish Layered Images"
        }, 
        {
            "location": "/landing_publish_co4/#next-steps", 
            "text": "Now you can:               Update your OS Layer and App Layers, as needed                           Add the new layer version to your Image Template                           Publish the Layered Image", 
            "title": "Next Steps"
        }, 
        {
            "location": "/landing_set_up_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Set up \n Set up Unidesk \n\n\nSet up Unidesk\n\n\nOnce the Unidesk Enterprise Layer Manager (ELM) is installed, complete these setup instructions before attempting to use the ELM. \n\n\nBefore you start\n\n\n Install the Unidesk Enterprise Layer Manager (ELM)\n        \n\n\nSet up the Unidesk environment\n\n\n            \n                \n Obtain a Unidesk license\n                \n            \n            \n                \n Change the Administrator password\n                \n            \n            \n                \n Set up a network file share\n                \n            \n            \n                \n Open firewall ports for Unidesk, as needed\n                \n            \n            \n                \n Install the Unidesk Agent (required for PVS and Connector Scripts)\n            \n            \n                \nCreate a directory junction \n                \n            \n            \n                \nAssign Unidesk Roles to users\n                \n            \n            \n  Enable Unidesk Labs features\n            \n        \n\n\n\nNext Step\n\n\nCreate Layers", 
            "title": "landing_set_up_co4"
        }, 
        {
            "location": "/landing_set_up_co4/#set-up-unidesk", 
            "text": "Once the Unidesk Enterprise Layer Manager (ELM) is installed, complete these setup instructions before attempting to use the ELM.", 
            "title": "Set up Unidesk"
        }, 
        {
            "location": "/landing_set_up_co4/#before-you-start", 
            "text": "Install the Unidesk Enterprise Layer Manager (ELM)", 
            "title": "Before you start"
        }, 
        {
            "location": "/landing_set_up_co4/#set-up-the-unidesk-environment", 
            "text": "Obtain a Unidesk license                                                              Change the Administrator password                                                              Set up a network file share                                                              Open firewall ports for Unidesk, as needed                                                              Install the Unidesk Agent (required for PVS and Connector Scripts)                                            Create a directory junction                                                              Assign Unidesk Roles to users                                              Enable Unidesk Labs features", 
            "title": "Set up the Unidesk environment"
        }, 
        {
            "location": "/landing_set_up_co4/#next-step", 
            "text": "Create Layers", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Publish \n Publishing essentials\n\n\nPublishing essentials\n\n\nUnidesk lets you publish Layered Images as disks compatible with your platform. You can use a Layered Image to provision servers, as you would with any other image. \n\n\nAbout Layered Images\n\n\nLayered Images are bootable images composited from Unidesk Layers. Each Layered Image contains an OS Layer, a Platform Layer, and any number of App Layers. \n\n\n\n\nCreating and updating Layered Images\n\n\nThe way you specify which layers to include in a Layered Image is by saving the combination of layers you want for a particular group of users in an Image Template. You then use this template to publish a Layered Image to your chosen platform. \n\n\n\n\nWhen you need to update the Layered Image, you simply edit the Image Template to add or remove layer assignments, and publish a new version of the image.", 
            "title": "layered_images_co4"
        }, 
        {
            "location": "/layered_images_co4/#publishing-essentials", 
            "text": "Unidesk lets you publish Layered Images as disks compatible with your platform. You can use a Layered Image to provision servers, as you would with any other image.", 
            "title": "Publishing essentials"
        }, 
        {
            "location": "/layered_images_co4/#about-layered-images", 
            "text": "Layered Images are bootable images composited from Unidesk Layers. Each Layered Image contains an OS Layer, a Platform Layer, and any number of App Layers.", 
            "title": "About Layered Images"
        }, 
        {
            "location": "/layered_images_co4/#creating-and-updating-layered-images", 
            "text": "The way you specify which layers to include in a Layered Image is by saving the combination of layers you want for a particular group of users in an Image Template. You then use this template to publish a Layered Image to your chosen platform.    When you need to update the Layered Image, you simply edit the Image Template to add or remove layer assignments, and publish a new version of the image.", 
            "title": "Creating and updating Layered Images"
        }, 
        {
            "location": "/layered_images_create_template_ah4/", 
            "text": "Create an Image Template\n\n\n\n\nNutanix AHV\n\n\n\n\nCreate Image Templates (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit\n an Image Template and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\n            \n                \nOSLayer\n (Required) \n            \n            \n                \nPlatform Layer\n (Required for cross-platform deployments)\n                \nThe Platform Layer contains the software required for publishing to your environment, in this case:\n                \n                    \nNutanix Acropolis VM Mobility\n                    \nCitrix MCS Device imaging tools\n                \n                \nThe Platform Layer must have the same hardware settings as the OSLayer. You choose these settings when deploying the VM for the OSand Platform Layers.\n            \n            \n                \nApp Layers\n (Optional)\n                \nYou can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers. \n            \n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select a CitrixMCS for Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image. \n                \nIf you do not yet have a Connector Configuration for CitrixMCS for Nutanix AHV, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. For details, click \nhere\n.\n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \nLayered Image Disk Format\n. The default disk format is VHD, but you can also select VMDK or QCOW2.\n                    \nSysprep\n. An appropriate default value is selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain. Since MCS uses its own built in technology to perform the operations generally performed by sysprep, MCS requires the VMs used with their catalogs not be generalized so they do not  go through the sysprep steps when first powered on in the catalog.\n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed, and whether the user's app data and configuration settings are saved in a User Layer . , select one of the following values:\nApplication Layers only\n. Allows Elastic Layers for users who log into this Layered Image. Available for both Session Hosts and Desktops.\nApplication and User Layers (Unidesk Labs)\n. Enables Elastic Layer assignments and User Layers on the Layered Image.  User Layers preserve users' application data and configuration settings. Currently, User Layers can be used on \nWindows 7\n Layered Images only, not on Windows 10, nor on Session Hosts.\nNone\n.  Elastic Layers and User Layers are disabled.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (Nutanix AHV)", 
            "title": "layered_images_create_template_ah4"
        }, 
        {
            "location": "/layered_images_create_template_ah4/#create-image-templates-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit  an Image Template and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (Nutanix AHV)"
        }, 
        {
            "location": "/layered_images_create_template_ah4/#prerequisites", 
            "text": "OSLayer  (Required)                                             Platform Layer  (Required for cross-platform deployments)                  The Platform Layer contains the software required for publishing to your environment, in this case:                                       Nutanix Acropolis VM Mobility                      Citrix MCS Device imaging tools                                   The Platform Layer must have the same hardware settings as the OSLayer. You choose these settings when deploying the VM for the OSand Platform Layers.                                            App Layers  (Optional)                  You can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_ah4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select a CitrixMCS for Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image.                   If you do not yet have a Connector Configuration for CitrixMCS for Nutanix AHV, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. For details, click  here .                                            On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                      Layered Image Disk Format . The default disk format is VHD, but you can also select VMDK or QCOW2.                      Sysprep . An appropriate default value is selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain. Since MCS uses its own built in technology to perform the operations generally performed by sysprep, MCS requires the VMs used with their catalogs not be generalized so they do not  go through the sysprep steps when first powered on in the catalog.                      Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed, and whether the user's app data and configuration settings are saved in a User Layer . , select one of the following values: Application Layers only . Allows Elastic Layers for users who log into this Layered Image. Available for both Session Hosts and Desktops. Application and User Layers (Unidesk Labs) . Enables Elastic Layer assignments and User Layers on the Layered Image.  User Layers preserve users' application data and configuration settings. Currently, User Layers can be used on  Windows 7  Layered Images only, not on Windows 10, nor on Session Hosts. None .  Elastic Layers and User Layers are disabled.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_ah4/#next-step", 
            "text": "Publish Layered Images (Nutanix AHV)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_ah_mc4/", 
            "text": "Create an Image Template\n\n\n\n\nCitrix MCS for Nutanix AHV\n\n\n\n\nCreate Image Templates (MCS for Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit\n an Image Template and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\n            \n                \nOSLayer\n (Required) \n            \n            \n                \nPlatform Layer\n (Required for cross-platform deployments)\n                \nThe Platform Layer contains the software required for publishing to your environment, in this case:\n                \n                    \nNutanix Acropolis VM Mobility\n                    \nCitrix MCS Device imaging tools\n                \n                \nThe Platform Layer must have the same hardware settings as the OSLayer. You choose these settings when deploying the VM for the OSand Platform Layers.\n            \n            \n                \nApp Layers\n (Optional)\n                \nYou can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers. \n            \n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select a CitrixMCS for Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image. \n                \nIf you do not yet have a Connector Configuration for CitrixMCS for Nutanix AHV, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. For details, click \nhere\n.\n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \nLayered Image Disk Format\n. The default disk format is VHD, but you can also select VMDK or QCOW2.\n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. To allow Elastic Layers for users of this Layered Image, select \nApplication Layers only\n. Otherwise, select \nNone\n.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (MCS for Nutanix AHV)", 
            "title": "layered_images_create_template_ah_mc4"
        }, 
        {
            "location": "/layered_images_create_template_ah_mc4/#create-image-templates-mcs-for-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit  an Image Template and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (MCS for Nutanix AHV)"
        }, 
        {
            "location": "/layered_images_create_template_ah_mc4/#prerequisites", 
            "text": "OSLayer  (Required)                                             Platform Layer  (Required for cross-platform deployments)                  The Platform Layer contains the software required for publishing to your environment, in this case:                                       Nutanix Acropolis VM Mobility                      Citrix MCS Device imaging tools                                   The Platform Layer must have the same hardware settings as the OSLayer. You choose these settings when deploying the VM for the OSand Platform Layers.                                            App Layers  (Optional)                  You can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_ah_mc4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select a CitrixMCS for Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image.                   If you do not yet have a Connector Configuration for CitrixMCS for Nutanix AHV, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. For details, click  here .                                            On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                      Layered Image Disk Format . The default disk format is VHD, but you can also select VMDK or QCOW2.                      Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. To allow Elastic Layers for users of this Layered Image, select  Application Layers only . Otherwise, select  None .                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_ah_mc4/#next-step", 
            "text": "Publish Layered Images (MCS for Nutanix AHV)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_az4/", 
            "text": "Create an Image Template\n\n\n\n\nMS Azure\n\n\n\n\nCreate Image Templates (Azure)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to use for publishing Layered Images to your target platform. You can then use the published Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector tab, select the Connector Configuration that includes the information needed to publish the Layered Image to the correct location. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n. \n            \n            \n                \nOn the Platform Layer tab, select the Platform Layer that contains the tools and hardware settings required to publish Layered Images to Azure RDS.\n            \n            \n                \n(Optional) On the Layered Image Disk tab, edit the following fields, if needed: \n                \n                    \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (Azure RDSH)", 
            "title": "layered_images_create_template_az4"
        }, 
        {
            "location": "/layered_images_create_template_az4/#create-image-templates-azure", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to use for publishing Layered Images to your target platform. You can then use the published Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (Azure)"
        }, 
        {
            "location": "/layered_images_create_template_az4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_az4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector tab, select the Connector Configuration that includes the information needed to publish the Layered Image to the correct location.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                             On the Platform Layer tab, select the Platform Layer that contains the tools and hardware settings required to publish Layered Images to Azure RDS.                                            (Optional) On the Layered Image Disk tab, edit the following fields, if needed:                                        Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                      Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_az4/#next-step", 
            "text": "Publish Layered Images (Azure RDSH)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Publish \n Create Image Templates\n\n\nCreate Image Templates\n\n\nOn what platform are you publishing Layered Images?\n\n\nCitrix MCS for Nutanix AHV\n            \n\n\nCitrix MCS for vSphere\n            \n\n\nCitrix MCS for XenServer\n            \n\n\nCitrix PVS\n            \n\n\nCitrix XenServer\n            \n\n\nMS Azure\n            \n\n\nNetwork File Share\n            \n\n\nNutanix AHV\n            \n\n\nVMware Horizon View\n            \n\n\nVMware vSphere", 
            "title": "layered_images_create_template_co4"
        }, 
        {
            "location": "/layered_images_create_template_co4/#create-image-templates", 
            "text": "On what platform are you publishing Layered Images?  Citrix MCS for Nutanix AHV               Citrix MCS for vSphere               Citrix MCS for XenServer               Citrix PVS               Citrix XenServer               MS Azure               Network File Share               Nutanix AHV               VMware Horizon View               VMware vSphere", 
            "title": "Create Image Templates"
        }, 
        {
            "location": "/layered_images_create_template_fs4/", 
            "text": "Create an Image Template\n\n\n\n\nNetwork File Share\n\n\n\n\nCreate Image Templates (NFS)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n            \nThe Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)\n            \nThe Platform Layer you choose must contain the software required for your environment.\nExample:\n When publishing images to PVS for XenApp users running in vSphere, the following must be installed on the Platform Layer:\nVMware vSphere\nCitrix PVS Device imaging tools\nXenApp VDA installed\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector Configuration tab, select the \nNetwork File Share\n. \n            \n            \n                \nOn the Platform Layer tab, you can select a Platform Layer that contains the tools and hardware settings that you need to publish Layered Images to the location defined in the Connector Configuration. \n            \n            \n                \nOn the Layered Image Disk tab:\n                \n                    \nLayered Image Disk File name\n. (Optional) You can change the default Layered Image Disk File name.\n                    \nLayered Image Disk Format\n. Select the Disk Format appropriate for the environment where your servers are running. For example, select VHDwhen publishing images to Azure or Hyper-V environments. Select VMDK when publishing images  to vSphere or PVS, for example, when streaming the images to vSphere servers. Or, select QCOW2 or VHD when publishing to Nutanix AHV.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \nSysprep\n. If your Platform Target is a \nNetwork File Share\n, this option lets you choose the method for generalizing the Layered Image.Select the method that is appropriate for your connection broker. \nNot Generalized\n - Does \nnot\n generalize the Layered Image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created. Machines created from this image will be identical to the OS Disk they are created from.\nGeneralize Offline\n - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.\n                    \nElastic Layering\n - (Available when Elastic Layering is enabled) Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image. \n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (Network File Share)", 
            "title": "layered_images_create_template_fs4"
        }, 
        {
            "location": "/layered_images_create_template_fs4/#create-image-templates-nfs", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (NFS)"
        }, 
        {
            "location": "/layered_images_create_template_fs4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.              The Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)              The Platform Layer you choose must contain the software required for your environment. Example:  When publishing images to PVS for XenApp users running in vSphere, the following must be installed on the Platform Layer: VMware vSphere Citrix PVS Device imaging tools XenApp VDA installed", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_fs4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector Configuration tab, select the  Network File Share .                                             On the Platform Layer tab, you can select a Platform Layer that contains the tools and hardware settings that you need to publish Layered Images to the location defined in the Connector Configuration.                                             On the Layered Image Disk tab:                                       Layered Image Disk File name . (Optional) You can change the default Layered Image Disk File name.                      Layered Image Disk Format . Select the Disk Format appropriate for the environment where your servers are running. For example, select VHDwhen publishing images to Azure or Hyper-V environments. Select VMDK when publishing images  to vSphere or PVS, for example, when streaming the images to vSphere servers. Or, select QCOW2 or VHD when publishing to Nutanix AHV.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                      Sysprep . If your Platform Target is a  Network File Share , this option lets you choose the method for generalizing the Layered Image.Select the method that is appropriate for your connection broker.  Not Generalized  - Does  not  generalize the Layered Image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created. Machines created from this image will be identical to the OS Disk they are created from. Generalize Offline  - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.                      Elastic Layering  - (Available when Elastic Layering is enabled) Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                             On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_fs4/#next-step", 
            "text": "Publish Layered Images (Network File Share)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_mc4/", 
            "text": "Create an Image Template\n\n\n\n\nCitrix MCS for vSphere\n\n\n\n\nCreate Image Templates (Citrix MCS for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n            \nThe Platform Layer must include:\n The same hardware settings as the OSLayer you are using. (You choose the hardware settings when deploying the VM for the OSand Platform Layers.)\nThe software and settings required for your environment.\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select the Citrix MCSfor vSphereConnector Configuration for the location where you want to publish the Layered Image. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. \n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Format\n. Use the default format, since this is the one required for your selected environment. \n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module. \n\n\nNext Step\n\n\n Publish Layered Images (Citrix MCS for vSphere)", 
            "title": "layered_images_create_template_mc4"
        }, 
        {
            "location": "/layered_images_create_template_mc4/#create-image-templates-citrix-mcs-for-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (Citrix MCS for vSphere)"
        }, 
        {
            "location": "/layered_images_create_template_mc4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.              The Platform Layer must include:  The same hardware settings as the OSLayer you are using. (You choose the hardware settings when deploying the VM for the OSand Platform Layers.) The software and settings required for your environment.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_mc4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select the Citrix MCSfor vSphereConnector Configuration for the location where you want to publish the Layered Image.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment.                                             On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Format . Use the default format, since this is the one required for your selected environment.                       Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_mc4/#next-step", 
            "text": "Publish Layered Images (Citrix MCS for vSphere)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_pv4/", 
            "text": "Create an Image Template\n\n\n\n\nCitrix PVS\n\n\n\n\nCreate Image Templates (PVS)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment:\nWhen publishing images to PVS for XenApp users, the following must be installed on the Platform Layer:\nCitrix PVS Device imaging tools\nXenApp VDA installed\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector tab, select the PVSConnector Configuration that includes the information needed to publish the Layered Image to the correct location. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n. \n            \n            \n                \nOn the Platform Layer tab, select a Platform Layer containing the tools and hardware settings that you need to publish Layered Images to your PVS location. \n            \n            \n                \nOn the Layered Image Disk tab, edit the following fields, as needed:\n                \n                    \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.", 
            "title": "layered_images_create_template_pv4"
        }, 
        {
            "location": "/layered_images_create_template_pv4/#create-image-templates-pvs", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (PVS)"
        }, 
        {
            "location": "/layered_images_create_template_pv4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment: When publishing images to PVS for XenApp users, the following must be installed on the Platform Layer: Citrix PVS Device imaging tools XenApp VDA installed", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_pv4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector tab, select the PVSConnector Configuration that includes the information needed to publish the Layered Image to the correct location.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                             On the Platform Layer tab, select a Platform Layer containing the tools and hardware settings that you need to publish Layered Images to your PVS location.                                             On the Layered Image Disk tab, edit the following fields, as needed:                                       Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                      Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_vs4/", 
            "text": "Create an Image Template\n\n\n\n\nVMware vSphere\n\n\n\n\nCreate Image Templates (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n            \nThe Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)\n            \nThe Platform Layer you choose must contain the software required for your environment.\nExample:\n When publishing images to PVS for XenApp users running in vSphere, the following must be installed on the Platform Layer:\nVMware vSphere\nCitrix PVS Device imaging tools\nXenApp VDA installed\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select the vSphereConnector Configuration for the location where you want to publish the Layered Image. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. \n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Format\n. Use the default format, since this is the one required for your selected environment. \n                    \n                        \nSysprep\n. An appropriate default value will be selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain.\n                        \n                            \nNot Generalized\n - Does \nnot\n generalize the image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created.\n                            \n                                \nGeneralize Offline\n - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.\n                            \n                        \n                    \n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (vSphere)", 
            "title": "layered_images_create_template_vs4"
        }, 
        {
            "location": "/layered_images_create_template_vs4/#create-image-templates-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (vSphere)"
        }, 
        {
            "location": "/layered_images_create_template_vs4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.              The Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)              The Platform Layer you choose must contain the software required for your environment. Example:  When publishing images to PVS for XenApp users running in vSphere, the following must be installed on the Platform Layer: VMware vSphere Citrix PVS Device imaging tools XenApp VDA installed", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_vs4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select the vSphereConnector Configuration for the location where you want to publish the Layered Image.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment.                                             On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Format . Use the default format, since this is the one required for your selected environment.                                                Sysprep . An appropriate default value will be selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain.                                                       Not Generalized  - Does  not  generalize the image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created.                                                               Generalize Offline  - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.                                                                                                 Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_vs4/#next-step", 
            "text": "Publish Layered Images (vSphere)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_vw4/", 
            "text": "Create an Image Template\n\n\n\n\nVMware Horizon View\n\n\n\n\nCreate Image Templates (VMware Horizon View for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to VMware Horizon View Composer where you can then use the Layered Image(s) to provision servers on your chosen publishing platform. The Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nAs long as you select a VMware Horizon for vSphere Connector Configuration, using this Image Template to publish a Layered Image will result in a VM in a ready-to-use state, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications. Each Layered image is a new 'Parent VM' that you can select for your Linked Clones pool.\n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n            \nThe Platform Layer must include:\n The same hardware settings as the OSLayer you are using. (You choose the hardware settings when deploying the VM for the OSand Platform Layers.)\nThe software and settings required for your environment.\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select the VMwareHorizon for vSphereConnector Configuration for the location where you want to publish the Layered Image. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. \n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Format\n. Use the default format, since this is the one required for your selected environment. \n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module. \n\n\nNext Step\n\n\n Publish Layered Images (VMware Horizon View for vSphere)", 
            "title": "layered_images_create_template_vw4"
        }, 
        {
            "location": "/layered_images_create_template_vw4/#create-image-templates-vmware-horizon-view-for-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to VMware Horizon View Composer where you can then use the Layered Image(s) to provision servers on your chosen publishing platform. The Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.   As long as you select a VMware Horizon for vSphere Connector Configuration, using this Image Template to publish a Layered Image will result in a VM in a ready-to-use state, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications. Each Layered image is a new 'Parent VM' that you can select for your Linked Clones pool.", 
            "title": "Create Image Templates (VMware Horizon View for vSphere)"
        }, 
        {
            "location": "/layered_images_create_template_vw4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.              The Platform Layer must include:  The same hardware settings as the OSLayer you are using. (You choose the hardware settings when deploying the VM for the OSand Platform Layers.) The software and settings required for your environment.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_vw4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select the VMwareHorizon for vSphereConnector Configuration for the location where you want to publish the Layered Image.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment.                                             On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Format . Use the default format, since this is the one required for your selected environment.                       Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_vw4/#next-step", 
            "text": "Publish Layered Images (VMware Horizon View for vSphere)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_xs4/", 
            "text": "Create an Image Template\n\n\n\n\nCitrix XenServer\n\n\n\n\nCreate Image Templates (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit\n an Image Template and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\nTo create an Image Template you need:\n\n\n            \nA Platform Layer containing the software required for your environment.\n            \nThe Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)\n            \nThe Platform Layer you choose must contain the software required for your environment.\nExample:\n When publishing images to PVS for XenApp users running in XenServer, the following must be installed on the Platform Layer:\nCitrix XenServer\nCitrix PVS Device imaging tools\nXenApp VDA installed\n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select the XenServerConnector Configuration for the location where you want to publish the Layered Image. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. \n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Size\n. The default disk size of 100 GB is recommended.\n                    \n                        \nSysprep\n. An appropriate default value will be selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain.\n                        \n                            \nNot Generalized\n - Does \nnot\n generalize the image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created.\n                            \n                                \nGeneralize Offline\n - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.\n                            \n                        \n                    \n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module.\n\n\nNext Step\n\n\n Publish Layered Images (vSphere)", 
            "title": "layered_images_create_template_xs4"
        }, 
        {
            "location": "/layered_images_create_template_xs4/#create-image-templates-xenserver", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit  an Image Template and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (XenServer)"
        }, 
        {
            "location": "/layered_images_create_template_xs4/#prerequisites", 
            "text": "To create an Image Template you need:               A Platform Layer containing the software required for your environment.              The Platform Layer you choose must have the same hardware settings as the OSLayer you are using. (The hardware settings are chosen when you deploy the VM for the OSand Platform Layers.)              The Platform Layer you choose must contain the software required for your environment. Example:  When publishing images to PVS for XenApp users running in XenServer, the following must be installed on the Platform Layer: Citrix XenServer Citrix PVS Device imaging tools XenApp VDA installed", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_xs4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select the XenServerConnector Configuration for the location where you want to publish the Layered Image.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment.                                             On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Size . The default disk size of 100 GB is recommended.                                               Sysprep . An appropriate default value will be selected for your environment. This setting determines whether the Layered Image will be generalized, and if so, which script will be used to generalize the image and join a domain.                                                       Not Generalized  - Does  not  generalize the image nor join a domain. Machines created from this image will be identical to the OS Disk from which they are created.                                                               Generalize Offline  - Generalizes the Image using Unidesk code, and without booting the VM. Machines created from this image will be unique, and will run unattend.xml to join a domain.                                                                                                 Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_xs4/#next-step", 
            "text": "Publish Layered Images (vSphere)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_create_template_xs_mc4/", 
            "text": "Create an Image Template\n\n\n\n\nCitrix MCS for XenServer\n\n\n\n\nCreate Image Templates (Citrix MCS for XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Create an Image Template\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nYou can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily \nedit an Image Template\n and use it to publish new versions of your Layered Images. \n\n\nPrerequisites\n\n\n            \n                \nOSLayer\n (Required) \n            \n            \n                \nPlatform Layer\n (Required for cross-platform deployments)\n                \nThe Platform Layer contains the software required for publishing to your environment, in this case:\n                \n                    \nCitrix XenServer\n                    \nCitrix MCS Device imaging tools\n                    \nXenApp VDA installed\n                \n                \nThe Platform Layer must have the same hardware settings as the OSLayer. (These settings are chosen when deploying the VM for the OSand Platform Layers.)\n            \n            \n                \nApp Layers\n (Optional)\n                \nYou can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers. \n            \n        \n\n\n\nCreate an Image Template\n\n\nTo create an Image Template:\n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module, then click \nCreate Template\n. This opens the Create Template wizard.\n            \nIn the Name and Description tab, enter a \nName\n for the template and notes in the \nDescription\n field, so you can identify the template when choosing one for publishing a Layered Image. \n            \nIn the OSLayer tab, select one of the \nAvailable OSLayers\n. If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.\n            \nIn the App Assignment tab, select the \nApp Layers\n to include in the Layered Images that you publish using this template.\n            \n                \nOn the Connector page, select the MCSfor Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image. \n                \nIf the Connector Configuration you need is not available, add one. Click \nNew\n, choose the Connector Type, and follow the instructions to \nCreate a Connector Configuration\n.\n            \n            \n                \nIn the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment. \n            \n            \n                \nOn the Layered Image Disk page, edit the following fields, as needed:\n                \n                    \n(Optional) \nLayered Image Disk File name\n. Enter a name for the Layered Image Disk.\n                    \nLayered Image Disk Format\n. Use the default format, since this is the one required for your selected environment. \n                    \nElastic Layering\n - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.\n                \n            \n            \nOn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nCreate Template\n.\n        \n\n\n\nThe new Template icon appears in the Unidesk Images module. \n\n\nNext Step\n\n\n Publish Layered Images (Citrix MCS for XenServer)", 
            "title": "layered_images_create_template_xs_mc4"
        }, 
        {
            "location": "/layered_images_create_template_xs_mc4/#create-image-templates-citrix-mcs-for-xenserver", 
            "text": "In this article:                                                                                            Prerequisites                                                    Create an Image Template                                                    Next Step                                                                                       You can create Image Templates to publish Layered Images to your target platform where you can then use the Layered Image to provision servers on your chosen publishing platform. An Image Template stores your Layer assignments, along with a Layer icon and description. You can easily  edit an Image Template  and use it to publish new versions of your Layered Images.", 
            "title": "Create Image Templates (Citrix MCS for XenServer)"
        }, 
        {
            "location": "/layered_images_create_template_xs_mc4/#prerequisites", 
            "text": "OSLayer  (Required)                                             Platform Layer  (Required for cross-platform deployments)                  The Platform Layer contains the software required for publishing to your environment, in this case:                                       Citrix XenServer                      Citrix MCS Device imaging tools                      XenApp VDA installed                                   The Platform Layer must have the same hardware settings as the OSLayer. (These settings are chosen when deploying the VM for the OSand Platform Layers.)                                            App Layers  (Optional)                  You can create an Image Template without App Layers. This is useful for testing your OSLayer before using it to create App Layers.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_create_template_xs_mc4/#create-an-image-template", 
            "text": "To create an Image Template:               In the Unidesk Management Console (UMC), select the  Images  module, then click  Create Template . This opens the Create Template wizard.              In the Name and Description tab, enter a  Name  for the template and notes in the  Description  field, so you can identify the template when choosing one for publishing a Layered Image.               In the OSLayer tab, select one of the  Available OSLayers . If there is more than one Layer Version, the most recent version is selected by default. You can choose an older version by expanding the Layer and choosing a different one.              In the App Assignment tab, select the  App Layers  to include in the Layered Images that you publish using this template.                               On the Connector page, select the MCSfor Nutanix AHV Connector Configuration for the location where you want to publish the Layered Image.                   If the Connector Configuration you need is not available, add one. Click  New , choose the Connector Type, and follow the instructions to  Create a Connector Configuration .                                            In the Platform Layer tab, select aPlatform Layer with the tools and hardware settings that you need to publish Layered Images to your environment.                                             On the Layered Image Disk page, edit the following fields, as needed:                                       (Optional)  Layered Image Disk File name . Enter a name for the Layered Image Disk.                      Layered Image Disk Format . Use the default format, since this is the one required for your selected environment.                       Elastic Layering  - Controls whether Elastic Layering  on this Layered Image is allowed. Select yes to allow Elastic Layers for users of this Layered Image.                                            On the Confirm and Complete tab, enter any comments you would like for this layer, and click  Create Template .           The new Template icon appears in the Unidesk Images module.", 
            "title": "Create an Image Template"
        }, 
        {
            "location": "/layered_images_create_template_xs_mc4/#next-step", 
            "text": "Publish Layered Images (Citrix MCS for XenServer)", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_manage_template_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Publish \n Manage Image Templates\n\n\nManage Image Templates\n\n\nThis article contains: \n\n\n            \n            \n                \n                    \n                        \n Update Image Templates with a new Layer Version\n                        \n                        \n Edit any Image Template setting\n                        \n                        \n Delete an Image Template\n                        \n                    \n                \n            \n        \n\n\n\nWhen you create new Layers and new Versions to them, you can edit the layer selection in your Image Templates, and use the templates to publish new versions of your Layered Images. \n\n\nOnce created, a Layered Image is no longer associated with the template used to create it. This means that you can change or delete a template without affecting any previously published Layered Images. \n\n\nUpdate Image Templates with a new Layer Version\n\n\nWhen you add a new Version to an App Layer or an OSLayer, you can quickly identify the Image Templates that include the Layer, and select which templates to update with the new Version.\n\n\n            \nIn the Unidesk Management Console (UMC), select \nLayers > App Layers\n or \nLayers > OS Layers\n. \n            \nSelect the Layer you updated, and click \nUpdate Assignments\n.\n            \nIn the wizard that opens, select the new Version of the Layer that you want to assign. The Image Template Assignment tab lists the Image Templates that include the Layer but are not yet assigned the new Version. \n            \n                \nOn the Image Template Assignment tab, select the Image Templates to which you want to assign the Layer or Layer Version.\n                \nNotes:\n \n                \n                    \nIf the list is empty, click the check box called, \nShow Image Templates already at this version\n. A list of grayed out names may appear. These templates have already been assigned the Version.\n                    \nYou can use the \nSearch\n field to filter this list by Layer or Version. If you search on part of a Layer name or Version, any entry that contains the search string is displayed.\n                \n            \n            \nSkip the Elastic Assignment tab.\n            \nOn the Confirm and Complete tab, verify your choices and click \nUpdate Assignments\n. \n        \n\n\n\nEdit any Image Template setting\n\n\nWhen you want to change the settings that you use to publish any of your Layered Images, you can edit the Image Template you originally used to publish the Layered Image(s) and publish a new version of the Image(s). \n\n\n            \nIn the Unidesk Management Console (UMC), select the \nImages\n module.\n            \nSelect the template you want to edit, and click \nEdit Template\n. This opens the Edit Template wizard.\n            \nOn the Name and Description tab, you can change the Name, Description, and Icon for the Image. \n            \nOn the OSLayer tab, you can select a different Version of your chosen \nOSLayer\n by expanding the Layer and choosing a different one.\n            \nOn the App Assignment tab, you can add or remove App Layers to include in the Layered Images that you publish using this template. If there is more than one Version of a Layer, you can choose a different version by expanding the Layer and choosing a different one.\n            \nOn the Connector tab, you can change the location to which the Layered Image is published by selecting a different Connector Configuration.\n            \nOn the Platform Layer tab, you can change the selected Platform Layer, if for example, you are publishing to a different environment. \n            \nOn the Layered Image Disk tab, you can edit the Layered Image Disk details, for example, to enable Elastic Layering on the image.  \n            \nIn the Confirm and Complete tab, enter any comments you would like for this layer, and click \nEdit Template\n.\n        \n\n\n\nDelete an Image Template\n\n\nWhen you no longer need an Image Template, you can remove it from the Unidesk Management Console (UMC). \n\n\n            \nIn the UMC, select the \nImages\n module.\n            \nSelect the template you want to delete, and click \nDelete Template\n. This opens the Delete Template wizard.\n            \nIn the Confirm and Complete tab, enter any comments you would like, and click \nDelete Template\n.", 
            "title": "layered_images_manage_template_co4"
        }, 
        {
            "location": "/layered_images_manage_template_co4/#manage-image-templates", 
            "text": "This article contains:                                                                                             Update Image Templates with a new Layer Version                                                    Edit any Image Template setting                                                    Delete an Image Template                                                                                       When you create new Layers and new Versions to them, you can edit the layer selection in your Image Templates, and use the templates to publish new versions of your Layered Images.   Once created, a Layered Image is no longer associated with the template used to create it. This means that you can change or delete a template without affecting any previously published Layered Images.", 
            "title": "Manage Image Templates"
        }, 
        {
            "location": "/layered_images_manage_template_co4/#update-image-templates-with-a-new-layer-version", 
            "text": "When you add a new Version to an App Layer or an OSLayer, you can quickly identify the Image Templates that include the Layer, and select which templates to update with the new Version.               In the Unidesk Management Console (UMC), select  Layers > App Layers  or  Layers > OS Layers .               Select the Layer you updated, and click  Update Assignments .              In the wizard that opens, select the new Version of the Layer that you want to assign. The Image Template Assignment tab lists the Image Templates that include the Layer but are not yet assigned the new Version.                                On the Image Template Assignment tab, select the Image Templates to which you want to assign the Layer or Layer Version.                  Notes:                                         If the list is empty, click the check box called,  Show Image Templates already at this version . A list of grayed out names may appear. These templates have already been assigned the Version.                      You can use the  Search  field to filter this list by Layer or Version. If you search on part of a Layer name or Version, any entry that contains the search string is displayed.                                            Skip the Elastic Assignment tab.              On the Confirm and Complete tab, verify your choices and click  Update Assignments .", 
            "title": "Update Image Templates with a new Layer Version"
        }, 
        {
            "location": "/layered_images_manage_template_co4/#edit-any-image-template-setting", 
            "text": "When you want to change the settings that you use to publish any of your Layered Images, you can edit the Image Template you originally used to publish the Layered Image(s) and publish a new version of the Image(s).                In the Unidesk Management Console (UMC), select the  Images  module.              Select the template you want to edit, and click  Edit Template . This opens the Edit Template wizard.              On the Name and Description tab, you can change the Name, Description, and Icon for the Image.               On the OSLayer tab, you can select a different Version of your chosen  OSLayer  by expanding the Layer and choosing a different one.              On the App Assignment tab, you can add or remove App Layers to include in the Layered Images that you publish using this template. If there is more than one Version of a Layer, you can choose a different version by expanding the Layer and choosing a different one.              On the Connector tab, you can change the location to which the Layered Image is published by selecting a different Connector Configuration.              On the Platform Layer tab, you can change the selected Platform Layer, if for example, you are publishing to a different environment.               On the Layered Image Disk tab, you can edit the Layered Image Disk details, for example, to enable Elastic Layering on the image.                In the Confirm and Complete tab, enter any comments you would like for this layer, and click  Edit Template .", 
            "title": "Edit any Image Template setting"
        }, 
        {
            "location": "/layered_images_manage_template_co4/#delete-an-image-template", 
            "text": "When you no longer need an Image Template, you can remove it from the Unidesk Management Console (UMC).                In the UMC, select the  Images  module.              Select the template you want to delete, and click  Delete Template . This opens the Delete Template wizard.              In the Confirm and Complete tab, enter any comments you would like, and click  Delete Template .", 
            "title": "Delete an Image Template"
        }, 
        {
            "location": "/layered_images_publish_ah4/", 
            "text": "Publish Layered Images\n\n\n\n\nNutanix AHV\n\n\n\n\nPublish Layered Images (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Nutanix AHV, and add each one to a collection, provisioning service, or other method for provisioning your systems.\n\n\nPrerequisites\n\n\n Create Image Templates (Nutanix AHV)\n        \n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n. For each template, this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location in Nutanix AHV where the Layered Image has been published.\n            \n            \n                \nIn the Prism console, power on the Packaging Machine VM. This enables the Guest OS to run and execute any Layer scripts via Unidesk's kmssetup.cmd functionality. \n                \nYou can use scripts  to perform important Layer-specific steps, for example, activating Microsoft Office, which may need to be done before the VM is used to create or update an MCS catalog. \n                \nNote:\n You can execute Layer scripts  using Unidesk's kmssetup.cmd functionality, Unidesk's Run-once script support, or even manual execution. \n            \n            \nOnce the VM is in the desired state the VM must be shut down. If you need to shut it down manually, do so now. Otherwise, wait for the script you've configured to do so. \n        \n\n\n\nNext Step\n\n\nUse the image to provision Nutanix AHV servers.", 
            "title": "layered_images_publish_ah4"
        }, 
        {
            "location": "/layered_images_publish_ah4/#publish-layered-images-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Nutanix AHV, and add each one to a collection, provisioning service, or other method for provisioning your systems.", 
            "title": "Publish Layered Images (Nutanix AHV)"
        }, 
        {
            "location": "/layered_images_publish_ah4/#prerequisites", 
            "text": "Create Image Templates (Nutanix AHV)", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_ah4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images . For each template, this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task shown above to navigate to the location in Nutanix AHV where the Layered Image has been published.                                            In the Prism console, power on the Packaging Machine VM. This enables the Guest OS to run and execute any Layer scripts via Unidesk's kmssetup.cmd functionality.                   You can use scripts  to perform important Layer-specific steps, for example, activating Microsoft Office, which may need to be done before the VM is used to create or update an MCS catalog.                   Note:  You can execute Layer scripts  using Unidesk's kmssetup.cmd functionality, Unidesk's Run-once script support, or even manual execution.                            Once the VM is in the desired state the VM must be shut down. If you need to shut it down manually, do so now. Otherwise, wait for the script you've configured to do so.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_ah4/#next-step", 
            "text": "Use the image to provision Nutanix AHV servers.", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_publish_ah_mc4/", 
            "text": "Publish Layered Images\n\n\n\n\nCitrix MCS for Nutanix AHV\n\n\n\n\nPublish Layered Images (MCS for Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Nutanix Acropolis, and add each one to a collection, provisioning service, or other method for provisioning your systems.\n\n\nPrerequisites\n\n\n            \n                \n Create Image Templates (MCS for Nutanix AHV)\n                \n            \n            \n                \nSpecify a script to run when you publish Layered Images (optional)\n \n                \nIf you want the VMto shut down on its own, you can specify a script to run when publishing the Layered Image. For details about enabling and using Scripts, see \nMCS for Nutanix AHV Connector\n Configuration.\n            \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n. For each template, this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n                \n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location in Nutanix AHV where the Layered Image has been published.\n            \n            \n                \nIn the Prism console, power on the Packaging Machine VM. This enables the Guest OS to run and execute any Layer scripts via Unidesk's kmssetup.cmd functionality. \n                \nYou can use scripts  to perform important Layer-specific steps, for example, activating Microsoft Office, which may need to be done before the VM is used to create or update an MCS catalog. \n                \nNote:\n You can execute Layer scripts  using Unidesk's kmssetup.cmd functionality, Unidesk's Run-once script support, or even manual execution. \n            \n            \n                \nOnce the VM is in the desired state the VM must be shut down. If you need to shut it down manually, do so now. Otherwise, wait for the script you've configured to do so. \n                \nWhen using the MCS for Nutanix AHV connector, once the VM is shutdown, a snapshot is taken to preserve the state of the VM for use in MCS. The snapshot name is prefixed with \"XD_\" and contains the name of the VM. This is required for the MCS for Nutanix AHV plugin and enables MCS administrators to easily identify the published Layer VM/snapshot. If the job is canceled while the connector is waiting for the VM to shutdown, the VM will \nnot\n be deleted as part of the cleanup, in case you want to keep the VM and perform additional steps to prepare it for MCS.\n            \n        \n\n\n\nNext Step\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_ah_mc4"
        }, 
        {
            "location": "/layered_images_publish_ah_mc4/#publish-layered-images-mcs-for-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Nutanix Acropolis, and add each one to a collection, provisioning service, or other method for provisioning your systems.", 
            "title": "Publish Layered Images (MCS for Nutanix AHV)"
        }, 
        {
            "location": "/layered_images_publish_ah_mc4/#prerequisites", 
            "text": "Create Image Templates (MCS for Nutanix AHV)                                                             Specify a script to run when you publish Layered Images (optional)                    If you want the VMto shut down on its own, you can specify a script to run when publishing the Layered Image. For details about enabling and using Scripts, see  MCS for Nutanix AHV Connector  Configuration.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_ah_mc4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images . For each template, this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                                             Use the information in the expanded Packaging Disk Task shown above to navigate to the location in Nutanix AHV where the Layered Image has been published.                                            In the Prism console, power on the Packaging Machine VM. This enables the Guest OS to run and execute any Layer scripts via Unidesk's kmssetup.cmd functionality.                   You can use scripts  to perform important Layer-specific steps, for example, activating Microsoft Office, which may need to be done before the VM is used to create or update an MCS catalog.                   Note:  You can execute Layer scripts  using Unidesk's kmssetup.cmd functionality, Unidesk's Run-once script support, or even manual execution.                                             Once the VM is in the desired state the VM must be shut down. If you need to shut it down manually, do so now. Otherwise, wait for the script you've configured to do so.                   When using the MCS for Nutanix AHV connector, once the VM is shutdown, a snapshot is taken to preserve the state of the VM for use in MCS. The snapshot name is prefixed with \"XD_\" and contains the name of the VM. This is required for the MCS for Nutanix AHV plugin and enables MCS administrators to easily identify the published Layer VM/snapshot. If the job is canceled while the connector is waiting for the VM to shutdown, the VM will  not  be deleted as part of the cleanup, in case you want to keep the VM and perform additional steps to prepare it for MCS.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_ah_mc4/#next-step", 
            "text": "Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_publish_az4/", 
            "text": "Publish Layered Images\n\n\n\n\nAzure RDSH\n\n\n\n\nPublish Layered Images (Azure RDSH)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                        \n Provision a Session Host\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to your chosen platform and use them to provision systems. \n\n\nPrerequisites\n\n\nTo publish Layered Images, you need: \n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\nTo use an Image Template to publish a Layered Image:\n\n\n            \n                \nIn the Images module, select one or more Image Templates that you want to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nMake sure you are logged onto the Azure portal before continuing.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n.  For each Image Template this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nIn a web browser, log into the Azure portal and use the link in the Task description (example shown below) to open to the location where the image has been published. \n                \n                \n            \n            \n                \nIn the expanded Packaging Disk Task shown above, click the link to the session host template in the Azure portal. This opens the Microsoft Azure portal to the \nCustom deployment\n template where you can provision Azure RDSession Hosts.\n            \n        \n\n\n\nThe next section explains how to complete the template to provision a session host.\n\n\nProvision a Session Host\n\n\nIn the Custom deployment template, enter the information to provision a Azure RDSession Host.\n\n\nNote: All RDSH Session Hosts must be manually restarted before you can add RDS roles to Session Hosts using PowerShell.\n\n\n            \nCheck the Edit Template settings, and adjust as needed.\n            \n                \nComplete the Session Host Parameters shown below, using the host's Fully Qualified Domain Name (FQDN). \n                \nIMPORTANT:You must include the Domain Name (not fully qualified) in the \nAdmin User Name\n field in the format, \nmydom1\\username\n. And, in the Domain Name field, enter the Fully Qualified Domain Name, for example, \nmydom1.local\n. \n                \n                \n            \n            \n                \nSelect the Azure Resource Group.\n                \n                \n            \n            \n                \nSpecify the Resource Group Location.\n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will not be deployed and you will have to reattempt deployment.\n            \n            \nReview the legal terms, and if you accept them, click \nCreate\n. This creates a Session Host provisioned with the Layered Image in Azure. \n            \nWhile Azure creates the virtual machine, you can track the progress under Virtual Machines in the hub menu.\n        \n\n\n\nNext Step\n\n\nThe next step is to power off the Session Host, power it back on, and add it to an RDS collection. Please see the \nTechNet Reference\n  for details.", 
            "title": "layered_images_publish_az4"
        }, 
        {
            "location": "/layered_images_publish_az4/#publish-layered-images-azure-rdsh", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                    Provision a Session Host                                                    Next Step                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to your chosen platform and use them to provision systems.", 
            "title": "Publish Layered Images (Azure RDSH)"
        }, 
        {
            "location": "/layered_images_publish_az4/#prerequisites", 
            "text": "To publish Layered Images, you need:                One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_az4/#publish-a-layered-image", 
            "text": "To use an Image Template to publish a Layered Image:                                In the Images module, select one or more Image Templates that you want to publish.                                            From the Action menu, select  Publish Layered Image .                                            Make sure you are logged onto the Azure portal before continuing.                                            On the Confirm and Complete page, select  Publish Layered Images .  For each Image Template this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                            In a web browser, log into the Azure portal and use the link in the Task description (example shown below) to open to the location where the image has been published.                                                                               In the expanded Packaging Disk Task shown above, click the link to the session host template in the Azure portal. This opens the Microsoft Azure portal to the  Custom deployment  template where you can provision Azure RDSession Hosts.                        The next section explains how to complete the template to provision a session host.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_az4/#provision-a-session-host", 
            "text": "In the Custom deployment template, enter the information to provision a Azure RDSession Host.  Note: All RDSH Session Hosts must be manually restarted before you can add RDS roles to Session Hosts using PowerShell.               Check the Edit Template settings, and adjust as needed.                               Complete the Session Host Parameters shown below, using the host's Fully Qualified Domain Name (FQDN).                   IMPORTANT:You must include the Domain Name (not fully qualified) in the  Admin User Name  field in the format,  mydom1\\username . And, in the Domain Name field, enter the Fully Qualified Domain Name, for example,  mydom1.local .                                                                               Select the Azure Resource Group.                                                                              Specify the Resource Group Location.                  IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will not be deployed and you will have to reattempt deployment.                           Review the legal terms, and if you accept them, click  Create . This creates a Session Host provisioned with the Layered Image in Azure.               While Azure creates the virtual machine, you can track the progress under Virtual Machines in the hub menu.", 
            "title": "Provision a Session Host"
        }, 
        {
            "location": "/layered_images_publish_az4/#next-step", 
            "text": "The next step is to power off the Session Host, power it back on, and add it to an RDS collection. Please see the  TechNet Reference   for details.", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_publish_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Publish \n Publish Layered Images \n\n\nPublish Layered Images\n\n\nOn what platform are you publishing Layered Images?\n\n\nAzure RDSH\n            \n\n\nCitrix MCS for Nutanix AHV\n            \n\n\nCitrix MCS for vSphere\n            \n\n\nCitrix MCS for XenServer\n            \n\n\nCitrix PVS\n            \n\n\nCitrix XenServer\n            \n\n\nNetwork file share\n            \n\n\nNutanix AHV\n            \n\n\nVMware Horizon View\n            \n\n\nVMware vSphere", 
            "title": "layered_images_publish_co4"
        }, 
        {
            "location": "/layered_images_publish_co4/#publish-layered-images", 
            "text": "On what platform are you publishing Layered Images?  Azure RDSH               Citrix MCS for Nutanix AHV               Citrix MCS for vSphere               Citrix MCS for XenServer               Citrix PVS               Citrix XenServer               Network file share               Nutanix AHV               VMware Horizon View               VMware vSphere", 
            "title": "Publish Layered Images"
        }, 
        {
            "location": "/layered_images_publish_fs4/", 
            "text": "Publish Layered Images\n\n\n\n\nNetwork file share\n\n\n\n\nPublish Layered Images (Network File Share)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                        \n Next Step\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to  the ELM's Network File Share, copy the Image(s) to your target environment, and use them to provision Session Hosts in your environment. This is especially useful if Unidesk does not yet include Connectors for the platform where you're provisioning systems. \n\n\nPrerequisites\n\n\nTo publish a Layered Image, you need:\n\n\n            \nOne or more Image Templates.\n        \n\n\n\nThe Image Template you select should have the correct OSLayer and any App Layers you want in the Layered Image.\n\n\nPublish a Layered Image\n\n\nTo use an Image Template to publish a Layered Image:\n\n\n            \n                \nIn the Images module, select one or more Image Template that you want to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n.  For each Image Template this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location where the Layered Image has been published.\n                \nIMPORTANT:\n When publishing a Layered Image to a file share, there will be one VMDK file option, and it will generate two files: \nlayer.vmdk\n and \nlayer-flat.vmdk\n. You need to upload both of them.\n            \n        \n\n\n\nNext Step\n\n\nOnce the Layered Image is published to the file share, you can use the image to provision servers in your environment.", 
            "title": "layered_images_publish_fs4"
        }, 
        {
            "location": "/layered_images_publish_fs4/#publish-layered-images-network-file-share", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                    Next Step                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to  the ELM's Network File Share, copy the Image(s) to your target environment, and use them to provision Session Hosts in your environment. This is especially useful if Unidesk does not yet include Connectors for the platform where you're provisioning systems.", 
            "title": "Publish Layered Images (Network File Share)"
        }, 
        {
            "location": "/layered_images_publish_fs4/#prerequisites", 
            "text": "To publish a Layered Image, you need:               One or more Image Templates.           The Image Template you select should have the correct OSLayer and any App Layers you want in the Layered Image.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_fs4/#publish-a-layered-image", 
            "text": "To use an Image Template to publish a Layered Image:                                In the Images module, select one or more Image Template that you want to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images .  For each Image Template this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task shown above to navigate to the location where the Layered Image has been published.                  IMPORTANT:  When publishing a Layered Image to a file share, there will be one VMDK file option, and it will generate two files:  layer.vmdk  and  layer-flat.vmdk . You need to upload both of them.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_fs4/#next-step", 
            "text": "Once the Layered Image is published to the file share, you can use the image to provision servers in your environment.", 
            "title": "Next Step"
        }, 
        {
            "location": "/layered_images_publish_mc4/", 
            "text": "Publish Layered Images\n\n\n\n\nCitrix MCS for vSphere\n\n\n\n\nPublish Layered Images (Citrix MCS for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Citrix MCS in your vSphere environment and add it to a catalog for provisioning systems.  In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.\n\n\nPrerequisites\n\n\nTo publish a Layered Image to MCS, you need:\n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates that you want to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n.  For each Image Template this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment. \n                \nAt the end of the image creation process:\n                \n                    \n                        \nUnidesk powers on the VM\n - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality. This can be used to perform important layer specific steps like activating Microsoft Office which may need to be done before the VM is used to create a view desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all layer scripts and other kmssetup functionality is complete).\n                    \n                    \n                        \nWhen the Task changes to Action Required, shut down the VM and take a snapshot\n - The status then changes to \nDone\n. \n                    \n                    \n                        \nIf you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images\n - For details about enabling and using Scripts, see the instructions for the Horizon \nView Connector\n Configuration.  \n                    \n                \n                \nWhen the task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task to navigate to the location in your environment where the Layered Image has been published.\n            \n        \n\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_mc4"
        }, 
        {
            "location": "/layered_images_publish_mc4/#publish-layered-images-citrix-mcs-for-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Citrix MCS in your vSphere environment and add it to a catalog for provisioning systems.  In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.", 
            "title": "Publish Layered Images (Citrix MCS for vSphere)"
        }, 
        {
            "location": "/layered_images_publish_mc4/#prerequisites", 
            "text": "To publish a Layered Image to MCS, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_mc4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates that you want to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images .  For each Image Template this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                   At the end of the image creation process:                                                                Unidesk powers on the VM  - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality. This can be used to perform important layer specific steps like activating Microsoft Office which may need to be done before the VM is used to create a view desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all layer scripts and other kmssetup functionality is complete).                                                                    When the Task changes to Action Required, shut down the VM and take a snapshot  - The status then changes to  Done .                                                                     If you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images  - For details about enabling and using Scripts, see the instructions for the Horizon  View Connector  Configuration.                                                          When the task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task to navigate to the location in your environment where the Layered Image has been published.                        Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_pv4/", 
            "text": "Publish Layered Images\n\n\n\n\nCitrix PVS\n\n\n\n\nPublish Layered Images (Citrix PVS)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                        \n Assign the new vDisk to the targeted devices\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images  to PVS, and stream them to the systems you want to provision.\n\n\nPrerequisites\n\n\nTo publish a Layered Image, you need:\n\n\n            \nOne or more Image Templates.  \n        \n\n\n\nPublish a Layered Image\n\n\nTo use an Image Template to publish a Layered Image:\n\n\n            \nLog into the UMC.\n            \nSelect the \nImages\n modules. \n            \nSelect one or more Image Templates, then click  \nPublish Layered Image\n.\n            \nOn the Confirm and Complete tab, click the \nPublish Layered Image\n button.  This starts a task called, \nPublishing Layered Image\n. When the task completes, the task description provides the information you need to navigate to the image in your environment.\n            \nUse the information in the expanded Packaging Disk Task to navigate to the location in PVS where the Layered Image has been published.\n        \n\n\n\nNext you can assign the new disk to the targeted devices.\n\n\nAssign the new vDisk to the targeted devices\n\n\n            \nLog into the PVSConsole.\n            \nAccess the target PVS server. The new vDisk should appear under the targeted PVS store (refresh may be required).\n            \nAssign the new vDisk to the targeted devices.\n            \nUsing Citrix PVS best practices, test the new vDisk to ensure that the image streams to the server as expected.", 
            "title": "layered_images_publish_pv4"
        }, 
        {
            "location": "/layered_images_publish_pv4/#publish-layered-images-citrix-pvs", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                    Assign the new vDisk to the targeted devices                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images  to PVS, and stream them to the systems you want to provision.", 
            "title": "Publish Layered Images (Citrix PVS)"
        }, 
        {
            "location": "/layered_images_publish_pv4/#prerequisites", 
            "text": "To publish a Layered Image, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_pv4/#publish-a-layered-image", 
            "text": "To use an Image Template to publish a Layered Image:               Log into the UMC.              Select the  Images  modules.               Select one or more Image Templates, then click   Publish Layered Image .              On the Confirm and Complete tab, click the  Publish Layered Image  button.  This starts a task called,  Publishing Layered Image . When the task completes, the task description provides the information you need to navigate to the image in your environment.              Use the information in the expanded Packaging Disk Task to navigate to the location in PVS where the Layered Image has been published.           Next you can assign the new disk to the targeted devices.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_pv4/#assign-the-new-vdisk-to-the-targeted-devices", 
            "text": "Log into the PVSConsole.              Access the target PVS server. The new vDisk should appear under the targeted PVS store (refresh may be required).              Assign the new vDisk to the targeted devices.              Using Citrix PVS best practices, test the new vDisk to ensure that the image streams to the server as expected.", 
            "title": "Assign the new vDisk to the targeted devices"
        }, 
        {
            "location": "/layered_images_publish_vs4/", 
            "text": "Publish Layered Images\n\n\n\n\nVMware vSphere\n\n\n\n\nPublish Layered Images (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to vSphere and add each one to a collection, provisioning service, or other method for provisioning your systems.\n\n\nPrerequisites\n\n\nTo publish a Layered Image, you need:\n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n. For each template, this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location in vSphere where the Layered Image has been published.\n            \n        \n\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_vs4"
        }, 
        {
            "location": "/layered_images_publish_vs4/#publish-layered-images-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to vSphere and add each one to a collection, provisioning service, or other method for provisioning your systems.", 
            "title": "Publish Layered Images (vSphere)"
        }, 
        {
            "location": "/layered_images_publish_vs4/#prerequisites", 
            "text": "To publish a Layered Image, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_vs4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images . For each template, this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task shown above to navigate to the location in vSphere where the Layered Image has been published.                        Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_vw4/", 
            "text": "Publish Layered Images\n\n\n\n\nVMware Horizon View\n\n\n\n\nPublish Layered Images (VMware Horizon View for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to VMware Horizon View Composer in your vSphere environment, and add it to a catalog for provisioning systems. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.\n\n\nPrerequisites\n\n\nTo publish a Layered Image, you need:\n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select the Image Template that has the correct OS Layer and App Layers selected for the new Layered Image.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n. For each template, this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment. For each template, this starts a task called, \nPublishing Layered Image\n. When the task completes, the task description provides the information you need to navigate to the image in your environment. At the end of the image creation process: \n                \n                    \n                        \nWait for Unidesk to power on the VM\n - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality. \n                        \nNote:\n This can be used to perform important layer-specific steps like activating Microsoft Office which may need to be done before the VM is used to create a View desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all Layer scripts and other kmssetup functionality is complete).\n                    \n                    \n                        \nActivate the VM\n - Activate the machine so that Horizon View accepts it. \n                    \n                    \n                        \nWhen the Task changes to Action Required, shut down the VM and take a snapshot\n - The status then changes to \nDone\n. \n                    \n                    \n                        \nIf you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images. For details about enabling and using Scripts, see the instructions for the Horizon \nView Connector\n Configuration.  \n                    \n                \n                \nWhen the task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location in vSphere where the Layered Image has been published.\n            \n        \n\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_vw4"
        }, 
        {
            "location": "/layered_images_publish_vw4/#publish-layered-images-vmware-horizon-view-for-vsphere", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to VMware Horizon View Composer in your vSphere environment, and add it to a catalog for provisioning systems. In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.", 
            "title": "Publish Layered Images (VMware Horizon View for vSphere)"
        }, 
        {
            "location": "/layered_images_publish_vw4/#prerequisites", 
            "text": "To publish a Layered Image, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_vw4/#publish-a-layered-image", 
            "text": "In the Images module, select the Image Template that has the correct OS Layer and App Layers selected for the new Layered Image.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images . For each template, this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment. For each template, this starts a task called,  Publishing Layered Image . When the task completes, the task description provides the information you need to navigate to the image in your environment. At the end of the image creation process:                                                                 Wait for Unidesk to power on the VM  - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality.                           Note:  This can be used to perform important layer-specific steps like activating Microsoft Office which may need to be done before the VM is used to create a View desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all Layer scripts and other kmssetup functionality is complete).                                                                    Activate the VM  - Activate the machine so that Horizon View accepts it.                                                                     When the Task changes to Action Required, shut down the VM and take a snapshot  - The status then changes to  Done .                                                                     If you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images. For details about enabling and using Scripts, see the instructions for the Horizon  View Connector  Configuration.                                                          When the task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task shown above to navigate to the location in vSphere where the Layered Image has been published.                        Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_xs4/", 
            "text": "Publish Layered Images\n\n\n\n\nCitrix XenServer\n\n\n\n\nPublish Layered Images (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to XenServer and add each one to a collection, provisioning service, or other method for provisioning your systems.\n\n\nPrerequisites\n\n\nTo publish a Layered Image, you need:\n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n. For each template, this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task shown above to navigate to the location in XenServer where the Layered Image has been published.\n            \n        \n\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_xs4"
        }, 
        {
            "location": "/layered_images_publish_xs4/#publish-layered-images-xenserver", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to XenServer and add each one to a collection, provisioning service, or other method for provisioning your systems.", 
            "title": "Publish Layered Images (XenServer)"
        }, 
        {
            "location": "/layered_images_publish_xs4/#prerequisites", 
            "text": "To publish a Layered Image, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_xs4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images . For each template, this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task shown above to navigate to the location in XenServer where the Layered Image has been published.                        Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layered_images_publish_xs_mc4/", 
            "text": "Publish Layered Images\n\n\n\n\nCitrix MCS for XenServer\n\n\n\n\nPublish Layered Images (Citrix MCS for XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Publish a Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nA Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Citrix MCS in your XenServer environment and add it to a catalog for provisioning systems.  In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.\n\n\nPrerequisites\n\n\nTo publish a Layered Image to MCS, you need:\n\n\n            \nOne or more Image Templates. \n        \n\n\n\nPublish a Layered Image\n\n\n            \n                \nIn the Images module, select one or more Image Templates that you want to publish.\n            \n            \n                \nFrom the Action menu, select \nPublish Layered Image\n.\n            \n            \n                \nOn the Confirm and Complete page, select \nPublish Layered Images\n.  For each Image Template this starts a task called, \nPublishing Layered Image\n. When each task completes, the task description provides the information you need to navigate to the image in your environment. \n                \nAt the end of the image creation process:\n                \n                    \n                        \nUnidesk powers on the VM\n - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality. This can be used to perform important layer specific steps like activating Microsoft Office which may need to be done before the VM is used to create a view desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all layer scripts and other kmssetup functionality is complete).\n                    \n                    \n                        \nWhen the Task changes to Action Required, shut down the VM and take a snapshot\n - The status then changes to \nDone\n. \n                    \n                    \n                        \nIf you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images\n - For details about enabling and using Scripts, see the instructions for the \nMCSfor XenServer\n Connector Configuration.  \n                    \n                \n                \nWhen the task completes, the task description provides the information you need to navigate to the image in your environment.\n            \n            \n                \nUse the information in the expanded Packaging Disk Task to navigate to the location in your environment where the Layered Image has been published.\n            \n        \n\n\n\nNext you can move the image to a collection or other location for provisioning servers.", 
            "title": "layered_images_publish_xs_mc4"
        }, 
        {
            "location": "/layered_images_publish_xs_mc4/#publish-layered-images-citrix-mcs-for-xenserver", 
            "text": "In this article:                                                                                            Prerequisites                                                    Publish a Layered Image                                                                                       A Layered Image is a virtual machine that Unidesk has composited from the Layers and settings specified in an Image Template. You can publish one or more Layered Images to Citrix MCS in your XenServer environment and add it to a catalog for provisioning systems.  In the Connector Configuration wizard, be sure to configure a Virtual Machine Template, so that the Layered Image you publish will be in a ready-to-use VM, the image shut down and a snapshot taken. You can use the VM in your Horizon environment without further modifications.", 
            "title": "Publish Layered Images (Citrix MCS for XenServer)"
        }, 
        {
            "location": "/layered_images_publish_xs_mc4/#prerequisites", 
            "text": "To publish a Layered Image to MCS, you need:               One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layered_images_publish_xs_mc4/#publish-a-layered-image", 
            "text": "In the Images module, select one or more Image Templates that you want to publish.                                            From the Action menu, select  Publish Layered Image .                                            On the Confirm and Complete page, select  Publish Layered Images .  For each Image Template this starts a task called,  Publishing Layered Image . When each task completes, the task description provides the information you need to navigate to the image in your environment.                   At the end of the image creation process:                                                                Unidesk powers on the VM  - This will enable the guest OS to run and execute any layer scripts via our kmssetup.cmd functionality. This can be used to perform important layer specific steps like activating Microsoft Office which may need to be done before the VM is used to create a view desktop pool/RDS farm or recompose them. The mechanism used to execute these scripts can vary, including our own kmssetup.cmd functionality, run-once support, or even manual execution. It is expected that once all scripts are run or other manual steps are taken and the VM is in the desired state, a guest OS shutdown will be initiated either by the scripts, or by the user (if using the kmssetup.cmd functionality there will a documented process for initiating a shutdown after all layer scripts and other kmssetup functionality is complete).                                                                    When the Task changes to Action Required, shut down the VM and take a snapshot  - The status then changes to  Done .                                                                     If you want the VMto shut down on its own, you can specify a script to run when you publish Layered Images  - For details about enabling and using Scripts, see the instructions for the  MCSfor XenServer  Connector Configuration.                                                          When the task completes, the task description provides the information you need to navigate to the image in your environment.                                            Use the information in the expanded Packaging Disk Task to navigate to the location in your environment where the Layered Image has been published.                        Next you can move the image to a collection or other location for provisioning servers.", 
            "title": "Publish a Layered Image"
        }, 
        {
            "location": "/layer_about_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Layer essentials\n\n\nLayer Essentials\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Layer Essentials\n                        \n                        \n Platform Layers\n                        \n                        \n App Layers\n                        \n                        \n User Layers (Unidesk Labs)\n                        \n                        \n Verifying Layers\n                        \n                    \n                \n            \n        \n\n\n\nOS\n##Layers\n\n\nWhat is an OS\n###Layer?\n\n\nAn OS Layer includes the software and settings for the operating system that you deploy as part of your other layers and ultimately, your Layered Images. Once you have prepared the OS disk for deployment, you can create a Unidesk  Operating System Layer by importing the OS disk into a new Layer.\n\n\nWhy layer my OS\n###image? \n\n\nWith an OSLayer, you can install your operating system once, and update it by adding a new Version to the Layer whenever there's a new patch or update. You can deploy this layer, or a version of it, in every image you publish. This allows you to maintain one OS image and use it to provision all of your servers.\n\n\nCan I deploy more than one OS\n###Layer? \n\n\nIf you need to support more than one operating system, for example, if you need both Windows Server 2012 R2 and Windows Server 2008 R2, you can create more than one OSLayer. However, each App Layer is only compatible with the OSLayer you use to create it, and if you deploy two OSLayers, you will also need to deploy a compatible App Layer for each one. Further, in future releases when deploying Elastic Layers to users, those layers will only be compatible with users' desktops that use the same OS Layer. \n\n\nIf you can support your users with a single OSLayer, the work associated with creating and updating App Layers will be much reduced.\n\n\nCan I deploy more than one version of the same OS\n###Layer?\n\n\nEach time you need to deploy operating system patches and updates, you will do so by adding a new Version to the OSLayer. You can continue to publish Layered Images using any version of the OSLayer.\n\n\nWhat do I need to create an OS Layer?\n\n\nThe prerequisites for creating an OSLayer include:\n\n\n            \nA \nUnidesk-supported operating system\n            \nUnidesk ELMand network file share installed and configured\n        \n\n\n\nHow do I start?\n\n\nSee the steps to \nCreate an OS\nLayer\n.\n\n\nPlatform Layers\n\n\nA Platform Layer is a layer that includes platform-specific configuration settings, tools, and other software required for your OSand Apps to be installed in or to run in a particular environment. \n\n\nTypes of Platform Layers\n\n\n            \nA Platform Layer for \nPackaging\n (required in some cases, see below)\n            \nPlatform Layer for \nPublishing\n (always required)\n        \n\n\n\nPlatform Layer for packaging layers and versions\n\n\nThe only time you need a Platform Layer for Packaging layers is when your OSimage was created on a different hypervisor than the one where you are building your other layers. When  creating an App Layer or Layer Version, or OSVersions, the purpose of the Platform Layer is to ensure that any hypervisor-related software and settings are available during the installation of the application(s) on that layer, if needed. If you choose to use a Platform Layer for Packaging a layer, the hypervisor-related software will only be used during layer packaging, and has no effect on where you can publish the layer as part of a Layered Image. \n\n\nPlatform Layer for publishing Layered Images\n\n\nA Platform Layer for Publishing is required when you publish Layered Images. The purpose of the Platform Layer for Publishing is to include the settings and software that the Layered Image needs to be deployed in your environment. When creating a Platform Layer for Publishing, Unidesk removes unselected (and unnecessary) tools and software related to the platforms you are not publishing to. This is to prevent any unnecessary platform software from slowing down the Layered Image when it runs in the target environment. \n\n\nGet started with Platform Layers\n\n\nFor details about creating Platform Layers, see \n Create a Platform Layer \n.\n\n\nApp Layers\n\n\nWhat is an App Layer?\n\n\nAn App Layer is a virtual disk containing one or more applications that you can use in Layered Images. You can combine an App Layer with any other App Layers and a Platform Layer, as long as the OS Layer used to create the App Layer is selected. \n\n\nWith most applications, creating an App Layer is simple. In a few cases, it's best to start with tips from experienced users, so the Unidesk Forum includes \nApplication Layer Recipes\n that you can search for tips about a particular application before you start. \n\n\nGet started with App Layers\n\n\nTo create an App Layer, you use the Create App Layer wizard to deploy a Packaging Machine in your environment and install the application on the Packaging Machine, leaving the application in the state you want it to be in for users. Then you finalize the Layer. \n\n\nTo get started with App Layers, see \n Create an App Layer\n.\n\n\nUser Layers (Unidesk Labs)\n\n\nA User Layer is a virtual disk where a user's app data and configuration settings are saved. User Layers are created when you:\n\n\n            \nPublish a Layered Image with \nElastic Layering\n set to \nApplication and User Layers\n.\n            \nUsers log into their desktops on the above Layered Image. \n        \n\n\n\nWith User Layers enabled on the Layered Image, users can  install applications locally on their desktops, and the apps and their data will be saved in the User Layer.\n\n\nLearn more about how to \n User Layers (Unidesk Labs)\n.\n\n\nVerifying Layers\n\n\nIf there are Layer integrity messages during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized. The new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped", 
            "title": "layer_about_co4"
        }, 
        {
            "location": "/layer_about_co4/#layer-essentials", 
            "text": "In this article:                                                                                            Layer Essentials                                                    Platform Layers                                                    App Layers                                                    User Layers (Unidesk Labs)                                                    Verifying Layers", 
            "title": "Layer Essentials"
        }, 
        {
            "location": "/layer_about_co4/#what-do-i-need-to-create-an-os-layer", 
            "text": "The prerequisites for creating an OSLayer include:               A  Unidesk-supported operating system              Unidesk ELMand network file share installed and configured", 
            "title": "What do I need to create an OS Layer?"
        }, 
        {
            "location": "/layer_about_co4/#how-do-i-start", 
            "text": "See the steps to  Create an OS Layer .", 
            "title": "How do I start?"
        }, 
        {
            "location": "/layer_about_co4/#platform-layers", 
            "text": "A Platform Layer is a layer that includes platform-specific configuration settings, tools, and other software required for your OSand Apps to be installed in or to run in a particular environment.", 
            "title": "Platform Layers"
        }, 
        {
            "location": "/layer_about_co4/#types-of-platform-layers", 
            "text": "A Platform Layer for  Packaging  (required in some cases, see below)              Platform Layer for  Publishing  (always required)", 
            "title": "Types of Platform Layers"
        }, 
        {
            "location": "/layer_about_co4/#platform-layer-for-packaging-layers-and-versions", 
            "text": "The only time you need a Platform Layer for Packaging layers is when your OSimage was created on a different hypervisor than the one where you are building your other layers. When  creating an App Layer or Layer Version, or OSVersions, the purpose of the Platform Layer is to ensure that any hypervisor-related software and settings are available during the installation of the application(s) on that layer, if needed. If you choose to use a Platform Layer for Packaging a layer, the hypervisor-related software will only be used during layer packaging, and has no effect on where you can publish the layer as part of a Layered Image.", 
            "title": "Platform Layer for packaging layers and versions"
        }, 
        {
            "location": "/layer_about_co4/#platform-layer-for-publishing-layered-images", 
            "text": "A Platform Layer for Publishing is required when you publish Layered Images. The purpose of the Platform Layer for Publishing is to include the settings and software that the Layered Image needs to be deployed in your environment. When creating a Platform Layer for Publishing, Unidesk removes unselected (and unnecessary) tools and software related to the platforms you are not publishing to. This is to prevent any unnecessary platform software from slowing down the Layered Image when it runs in the target environment.", 
            "title": "Platform Layer for publishing Layered Images"
        }, 
        {
            "location": "/layer_about_co4/#get-started-with-platform-layers", 
            "text": "For details about creating Platform Layers, see   Create a Platform Layer  .", 
            "title": "Get started with Platform Layers"
        }, 
        {
            "location": "/layer_about_co4/#app-layers", 
            "text": "", 
            "title": "App Layers"
        }, 
        {
            "location": "/layer_about_co4/#what-is-an-app-layer", 
            "text": "An App Layer is a virtual disk containing one or more applications that you can use in Layered Images. You can combine an App Layer with any other App Layers and a Platform Layer, as long as the OS Layer used to create the App Layer is selected.   With most applications, creating an App Layer is simple. In a few cases, it's best to start with tips from experienced users, so the Unidesk Forum includes  Application Layer Recipes  that you can search for tips about a particular application before you start.", 
            "title": "What is an App Layer?"
        }, 
        {
            "location": "/layer_about_co4/#get-started-with-app-layers", 
            "text": "To create an App Layer, you use the Create App Layer wizard to deploy a Packaging Machine in your environment and install the application on the Packaging Machine, leaving the application in the state you want it to be in for users. Then you finalize the Layer.   To get started with App Layers, see   Create an App Layer .", 
            "title": "Get started with App Layers"
        }, 
        {
            "location": "/layer_about_co4/#user-layers-unidesk-labs", 
            "text": "A User Layer is a virtual disk where a user's app data and configuration settings are saved. User Layers are created when you:               Publish a Layered Image with  Elastic Layering  set to  Application and User Layers .              Users log into their desktops on the above Layered Image.            With User Layers enabled on the Layered Image, users can  install applications locally on their desktops, and the apps and their data will be saved in the User Layer.  Learn more about how to   User Layers (Unidesk Labs) .", 
            "title": "User Layers (Unidesk Labs)"
        }, 
        {
            "location": "/layer_about_co4/#verifying-layers", 
            "text": "", 
            "title": "Verifying Layers"
        }, 
        {
            "location": "/layer_about_co4/#if-there-are-layer-integrity-messages-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized. The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "If there are Layer integrity messages during the finalization process"
        }, 
        {
            "location": "/layer_about_co4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n App Layers\n\n\nApp Layers\n\n\nWould you like to create an App Layer, assign one to Layered Images or to specific users, or learn how to layer some of the more challenging apps (most are easy to layer)?\n\n\nCreate an App Layer\n            \n\n\nApp Layer recipes (for apps that require special care)", 
            "title": "layer_apps_co4"
        }, 
        {
            "location": "/layer_apps_co4/#app-layers", 
            "text": "Would you like to create an App Layer, assign one to Layered Images or to specific users, or learn how to layer some of the more challenging apps (most are easy to layer)?  Create an App Layer               App Layer recipes (for apps that require special care)", 
            "title": "App Layers"
        }, 
        {
            "location": "/layer_apps_create_ah4/", 
            "text": "App Layers\n\n\n\n\nNutanix AHV Connector\n\n\n\n\nCreate an App Layer (Nutanix AHV Connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Prepare a new App Layer\n                        \n                        \nInstall the software on the Packaging Machine \n                        \n                        \n Finalize the Layer\n                        \n                        \n Reference: Create App Layer Wizard values\n                        \n                    \n                \n            \n        \n\n\n\nAn App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer. \n\n\nTo create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.\n\n\nA Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.\n\n\nBefore you start\n\n\nRequirements\n\n\nTo create an App Layer, you need:\n\n\n            \nCreate an OSLayer\n            \n        \n\n\n\nOptional\n\n\nBefore you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.\n\n\n            \n Prerequisite Layer\n            \n            \n Platform Layer (for cross-platform deployments)\n   (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)\n            \n Run Once Script\n            \n        \n\n\n\nIf the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.\n\n\nPrerequisite Layer\n\n\nPrerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  \n\n\nReasons to consider using Prerequisite Layers:\n\n\n            \nThe application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.\n            \nThe add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.\n            \nTwo applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.\n        \n\n\n\nNote: Some of these issues can also be handled by putting the two applications in the same layer. \n\n\nPlatform Layer (for cross-platform deployments)\n\n\nA Platform Layer is only required when creating App Layers on a hypervisor other than the one from which you imported your OSLayer.\n\n\nIf you are creating App Layers and Versions on a different hypervisor than the one you used to create your OSLayer, it is strongly recommended that you create a Platform Layer containing the hypervisor tools and hardware settings you need to seamlessly install and package applications in your environment.  \n\n\nRun Once Script\n\n\nYou can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.\n\n\nPrepare a new App Layer\n\n\n            \n                \nSelect \nLayers >App Layers\n and select \nCreate Layer\n in the Action bar. This opens the Create Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the \nOSLayer\n you want to associate with this App Layer. \n            \n            \n                \n(Optional) In the \nPrerequisite Layers\n tab, if the application you are layering requires other App Layers to be present during installation, select the \nInclude Prerequisite Layers\n check box, and pick the necessary App Layer(s).\n                \nNotes:\n \n                \n                    \nPrerequisite layers are used while installing applications, and are \nnot included\n in the App Layer.\n                    \nPrerequisite layers are \nnot\n included by default when adding a new \nVersion\n to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.  \n                    \nThe App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.\n                \n            \n            \n                \nIn the Connector tab, choose a \nConnector Configuration\n that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list. \n                \nExample: If you're using the Nutanix AHV environment to create the Layer, select the \nNutanix AHV\n connector with the credentials and location required to access the location where you want to build the Layer. \n            \n            \n                \nIn the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in Nutanix AHV.\n            \n        \n\n\n\nNext, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.\n\n\nAccess the Packaging Machine in Nutanix AHV\n\n\n            \nLog into Nutanix Prism. \n            \n                \nBack in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the \nCreate App Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in Prism.\n            \nInstall the app for your Layer. This may require a reboot as part of the installation. Once complete, you should see that you have access to the tools, as well as all of the \ndata\n available under the Performance tab for your VM.\n        \n\n\n\nInstall the software on the Packaging Machine\n\n\nWhen you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new App Layer has been finalized.\n\n\nLog into the Packaging Machine \n\n\n            \n                \nLog into Nutanix Prism.\n            \n            \n                \nBack in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the \nCreate App Layer\n task to see the full Task Description. \n            \n            \n                \nUse the instructions in the Task Description to navigate to the Packaging Machine in Nutanix Prism. \n                \nThe Packaging Machine will be powered on.\n            \n        \n\n\n\nInstall the Application(s) \n\n\nWhen installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.\n\n\n            \n                \nRemote log in to the Packaging Machine in Nutanix AHV. Be sure to log in with the User account you used to create the OSin Nutanix AHV.\n            \n            \n                \nInstall the applications, along with any drivers, boot-level applications, or files that the user will need with it.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now. \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.  \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar. The Finalize wizard appears.\n            \n(Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network. \nIf the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used. \nIf the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted. \n            \nClick \nFinalize\n to finish creating the Layer.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.\n        \n\n\n\nReference: Create App Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for. \n            \nLayer Description\n - (Optional) Description of the Layer \n            \n                \nVersion\n - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nSpecify the Max Layer Size\n - Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "layer_apps_create_ah4"
        }, 
        {
            "location": "/layer_apps_create_ah4/#create-an-app-layer-nutanix-ahv-connector", 
            "text": "In this article:                                                                                            Before you start                                                    Prepare a new App Layer                                                   Install the software on the Packaging Machine                                                     Finalize the Layer                                                    Reference: Create App Layer Wizard values                                                                                       An App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer.   To create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.  A Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.  Before you start", 
            "title": "Create an App Layer (Nutanix AHV Connector)"
        }, 
        {
            "location": "/layer_apps_create_ah4/#requirements", 
            "text": "To create an App Layer, you need:               Create an OSLayer", 
            "title": "Requirements"
        }, 
        {
            "location": "/layer_apps_create_ah4/#optional", 
            "text": "Before you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.                Prerequisite Layer                            Platform Layer (for cross-platform deployments)    (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)               Run Once Script                        If the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.", 
            "title": "Optional"
        }, 
        {
            "location": "/layer_apps_create_ah4/#prerequisite-layer", 
            "text": "Prerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.    Reasons to consider using Prerequisite Layers:               The application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.              The add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.              Two applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.           Note: Some of these issues can also be handled by putting the two applications in the same layer.", 
            "title": "Prerequisite Layer"
        }, 
        {
            "location": "/layer_apps_create_ah4/#platform-layer-for-cross-platform-deployments", 
            "text": "A Platform Layer is only required when creating App Layers on a hypervisor other than the one from which you imported your OSLayer.  If you are creating App Layers and Versions on a different hypervisor than the one you used to create your OSLayer, it is strongly recommended that you create a Platform Layer containing the hypervisor tools and hardware settings you need to seamlessly install and package applications in your environment.", 
            "title": "Platform Layer (for cross-platform deployments)"
        }, 
        {
            "location": "/layer_apps_create_ah4/#run-once-script", 
            "text": "You can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.", 
            "title": "Run Once Script"
        }, 
        {
            "location": "/layer_apps_create_ah4/#prepare-a-new-app-layer", 
            "text": "Select  Layers >App Layers  and select  Create Layer  in the Action bar. This opens the Create Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the  OSLayer  you want to associate with this App Layer.                                             (Optional) In the  Prerequisite Layers  tab, if the application you are layering requires other App Layers to be present during installation, select the  Include Prerequisite Layers  check box, and pick the necessary App Layer(s).                  Notes:                                         Prerequisite layers are used while installing applications, and are  not included  in the App Layer.                      Prerequisite layers are  not  included by default when adding a new  Version  to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.                        The App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.                                                             In the Connector tab, choose a  Connector Configuration  that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                   Example: If you're using the Nutanix AHV environment to create the Layer, select the  Nutanix AHV  connector with the credentials and location required to access the location where you want to build the Layer.                                             In the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in Nutanix AHV.                        Next, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.", 
            "title": "Prepare a new App Layer"
        }, 
        {
            "location": "/layer_apps_create_ah4/#access-the-packaging-machine-in-nutanix-ahv", 
            "text": "Log into Nutanix Prism.                                Back in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the  Create App Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in Prism.              Install the app for your Layer. This may require a reboot as part of the installation. Once complete, you should see that you have access to the tools, as well as all of the  data  available under the Performance tab for your VM.", 
            "title": "Access the Packaging Machine in Nutanix AHV"
        }, 
        {
            "location": "/layer_apps_create_ah4/#install-the-software-on-the-packaging-machine", 
            "text": "When you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer.   Note: The Packaging Machine is a temporary VM that will be deleted once the new App Layer has been finalized.", 
            "title": "Install the software on the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_ah4/#log-into-the-packaging-machine", 
            "text": "Log into Nutanix Prism.                                            Back in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the  Create App Layer  task to see the full Task Description.                                             Use the instructions in the Task Description to navigate to the Packaging Machine in Nutanix Prism.                   The Packaging Machine will be powered on.", 
            "title": "Log into the Packaging Machine "
        }, 
        {
            "location": "/layer_apps_create_ah4/#install-the-applications", 
            "text": "When installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.                                Remote log in to the Packaging Machine in Nutanix AHV. Be sure to log in with the User account you used to create the OSin Nutanix AHV.                                            Install the applications, along with any drivers, boot-level applications, or files that the user will need with it.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                       Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.", 
            "title": "Install the Application(s) "
        }, 
        {
            "location": "/layer_apps_create_ah4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_ah4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_apps_create_ah4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_create_ah4/#finalize-the-layer", 
            "text": "Once the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.    Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar. The Finalize wizard appears.              (Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network.  If the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used.  If the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted.               Click  Finalize  to finish creating the Layer.              Monitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_apps_create_ah4/#reference-create-app-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for.               Layer Description  - (Optional) Description of the Layer                                Version  - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.                           Version Description  - (Optional) Enter a description of the version.              Specify the Max Layer Size  - Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "Reference: Create App Layer Wizard values"
        }, 
        {
            "location": "/layer_apps_create_az4/", 
            "text": "App Layers\n\n\n\n\nAzure connector\n\n\n\n\nCreate an App Layer (Azure)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n Before you start\n                        \n Prepare a new App Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Install the Application(s) \n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n Finalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nAn App Layer includes one or more installed applications that you can use in your Layered Images. You can create any number of App Layers, each with one or more applications. When it's time to update an app, you can add a new version to the layer. When you are ready to deliver the application updates to users, you can update your Image Templates, republish your Layered Images, and provision your servers with the new Layered Image.\n\n\nTo create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine, then install the application(s). Once the application(s) are installed, you finalize the Layer.\n\n\nBefore you start\n\n\nRequirements\n\n\nTo create an App Layer, you need:\n\n\n            \nCreate an OSLayer\n            \n        \n\n\n\nOptional\n\n\nBefore you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.\n\n\n            \nCreate Prerequisite Layers\n \n            \n Create a Platform Layer (Azure connector)\n            \n            \n Run Once Script\n            \n        \n\n\n\nIf the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.\n\n\nDoes this App Layer require Prerequisite Layers?\n\n\nPrerequisite Layers provide a mechanism to include existing Application Layers on the Packaging Disk when creating or adding a version to an Application Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  Prerequisite Layers can be required for several reasons:\n\n\n            \n      If the software installed in one layer is required by the current layer's application just to be installed.  For example, if you are installing an application that requires Java and you have Java in a separate layer.\n            \nIf the software to be installed adds settings of an existing application.  For example, when installing an Office add-in, Microsoft Office must first be installed.\n            \n      If two applications modify the same registry key and the second application must add to a key and not replace it.  For example, two application that both modify logon keys in Windows like a Citrix Agent and Imprivata.\n        \n\n\n\nNote: Some of these issues can also be handled by putting the two applications in the same layer rather than using prerequisite layers. \n\n\nRun Once Script\n\n\nYou can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.\n\n\nPrepare a new App Layer\n\n\n            \n                \nSelect \nLayers >App Layers\n and select \nCreate Layer\n in the Action bar. This opens the Create Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this App Layer. \n            \n            \n                \nIn the \nPrerequisite Layers\n tab, if the application you are layering requires other App Layers to be present during installation, select the \nInclude Prerequisite Layers\n check box, and pick the necessary App Layer(s).  \n                \nNotes:\n \n                \n                    \nPrerequisite layers are \nnot included\n in the App Layer being created.\n                    \nPrerequisite layers are \nnot included\n when adding a new \nVersion\n to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again.  \n                    \nThe App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.\n                \n            \n            \n                \nIn the Connector tab, choose a \nPlatform Connector Configuration\n that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a \nNew\nConnector Configuration\n and select it from this list. \n                \nExample: If you're using the Azure environment to create the Layer, select the Azure connector with the credentials and location required to access the location where you want to build the Layer.\n            \n            \n                \nIn the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays a link to the Packaging Disk on the Azure portal. You will use this link to deploy the Packaging Machine.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task. The task expands to show the full task description. This description contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.\n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a virtual machine where you install the app(s) you want to include in this Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the Layer has been finalized.\n\n\nDeploy a Packaging Machine to Azure\n\n\nThe Task Description (example shown in the last step above) contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.\n\n\nTo create your Packaging Machine in Azure, begin with the expanded Packaging Disk Task shown in the last step above.\n\n\n            \nLog into the Azure portal (https://portal.azure.com) from your web browser.\n            \n                \nIn the expanded Packaging Disk Task shown below, copy the full URL and paste it into the web browser where you logged into the Azure portal. This opens the Microsoft Azure portal to the \nCustom deployment\n template where you can create the virtual machine that you will use as your Unidesk Packaging Machine. \n                \nNote:\n We recommend copying the full URL instead of using the Click \nhere\n link. \n                \n                \n            \n            \n                \nOn the Custom deployment panel, complete the required fields for customizing your Azure parameters. \n                \n                    \nPackaging Machine Name - must conform to Azure VM name requirements.\n                    \nSize - the Azure VM size of the packaging machine.\n                    \nVirtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.\n                \n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.\n                \n                \n            \n        \n\n\n\nInstall the Application(s) \n\n\nThis section explains how to install your application(s) on the Packaging Machine you created in Azure. Keep in mind that the state of the app before you finalize the layer is what users experience when they access it. \n\n\nTo install the application(s):\n\n\n            \n                \nRemote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.\n            \n            \n                \nInstall the applications, along with any drivers, boot-level applications,  or files that the user will need with it.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.  \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar. The Finalize wizard appears.\n            \n(Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network. \nIf the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used. \nIf the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted. \n            \nClick \nFinalize\n to finish creating the Layer.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.\n        \n\n\n\nReference: Create App Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for. \n            \nLayer Description\n - (Optional) Description of the Layer \n            \n                \nVersion\n - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nSpecify the Max Layer Size\n - Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "layer_apps_create_az4"
        }, 
        {
            "location": "/layer_apps_create_az4/#create-an-app-layer-azure", 
            "text": "In this article:                                                                   Before you start                           Prepare a new App Layer                                                    Deploy a Packaging Machine                                                     Install the Application(s)                                                     Verify the Layer and shut down the Packaging Machine                                                    Finalize the Layer                                                                                       An App Layer includes one or more installed applications that you can use in your Layered Images. You can create any number of App Layers, each with one or more applications. When it's time to update an app, you can add a new version to the layer. When you are ready to deliver the application updates to users, you can update your Image Templates, republish your Layered Images, and provision your servers with the new Layered Image.  To create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine, then install the application(s). Once the application(s) are installed, you finalize the Layer.", 
            "title": "Create an App Layer (Azure)"
        }, 
        {
            "location": "/layer_apps_create_az4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_apps_create_az4/#requirements", 
            "text": "To create an App Layer, you need:               Create an OSLayer", 
            "title": "Requirements"
        }, 
        {
            "location": "/layer_apps_create_az4/#optional", 
            "text": "Before you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.               Create Prerequisite Layers                 Create a Platform Layer (Azure connector)                            Run Once Script                        If the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.", 
            "title": "Optional"
        }, 
        {
            "location": "/layer_apps_create_az4/#does-this-app-layer-require-prerequisite-layers", 
            "text": "Prerequisite Layers provide a mechanism to include existing Application Layers on the Packaging Disk when creating or adding a version to an Application Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  Prerequisite Layers can be required for several reasons:                     If the software installed in one layer is required by the current layer's application just to be installed.  For example, if you are installing an application that requires Java and you have Java in a separate layer.              If the software to be installed adds settings of an existing application.  For example, when installing an Office add-in, Microsoft Office must first be installed.                    If two applications modify the same registry key and the second application must add to a key and not replace it.  For example, two application that both modify logon keys in Windows like a Citrix Agent and Imprivata.           Note: Some of these issues can also be handled by putting the two applications in the same layer rather than using prerequisite layers.", 
            "title": "Does this App Layer require Prerequisite Layers?"
        }, 
        {
            "location": "/layer_apps_create_az4/#run-once-script", 
            "text": "You can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.", 
            "title": "Run Once Script"
        }, 
        {
            "location": "/layer_apps_create_az4/#prepare-a-new-app-layer", 
            "text": "Select  Layers >App Layers  and select  Create Layer  in the Action bar. This opens the Create Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this App Layer.                                             In the  Prerequisite Layers  tab, if the application you are layering requires other App Layers to be present during installation, select the  Include Prerequisite Layers  check box, and pick the necessary App Layer(s).                    Notes:                                         Prerequisite layers are  not included  in the App Layer being created.                      Prerequisite layers are  not included  when adding a new  Version  to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again.                        The App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.                                                             In the Connector tab, choose a  Platform Connector Configuration  that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a  New Connector Configuration  and select it from this list.                   Example: If you're using the Azure environment to create the Layer, select the Azure connector with the credentials and location required to access the location where you want to build the Layer.                                            In the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays a link to the Packaging Disk on the Azure portal. You will use this link to deploy the Packaging Machine.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task. The task expands to show the full task description. This description contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.                                                          Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new App Layer"
        }, 
        {
            "location": "/layer_apps_create_az4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install the app(s) you want to include in this Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the Layer has been finalized.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_apps_create_az4/#deploy-a-packaging-machine-to-azure", 
            "text": "The Task Description (example shown in the last step above) contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.  To create your Packaging Machine in Azure, begin with the expanded Packaging Disk Task shown in the last step above.               Log into the Azure portal (https://portal.azure.com) from your web browser.                               In the expanded Packaging Disk Task shown below, copy the full URL and paste it into the web browser where you logged into the Azure portal. This opens the Microsoft Azure portal to the  Custom deployment  template where you can create the virtual machine that you will use as your Unidesk Packaging Machine.                   Note:  We recommend copying the full URL instead of using the Click  here  link.                                                                               On the Custom deployment panel, complete the required fields for customizing your Azure parameters.                                        Packaging Machine Name - must conform to Azure VM name requirements.                      Size - the Azure VM size of the packaging machine.                      Virtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.                                   IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.", 
            "title": "Deploy a Packaging Machine to Azure"
        }, 
        {
            "location": "/layer_apps_create_az4/#install-the-applications", 
            "text": "This section explains how to install your application(s) on the Packaging Machine you created in Azure. Keep in mind that the state of the app before you finalize the layer is what users experience when they access it.   To install the application(s):                                Remote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.                                            Install the applications, along with any drivers, boot-level applications,  or files that the user will need with it.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Layer is ready to finalize.", 
            "title": "Install the Application(s) "
        }, 
        {
            "location": "/layer_apps_create_az4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_az4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_apps_create_az4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_create_az4/#finalize-the-layer", 
            "text": "Once the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.    Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar. The Finalize wizard appears.              (Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network.  If the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used.  If the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted.               Click  Finalize  to finish creating the Layer.              Monitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_apps_create_az4/#reference-create-app-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for.               Layer Description  - (Optional) Description of the Layer                                Version  - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.                           Version Description  - (Optional) Enter a description of the version.              Specify the Max Layer Size  - Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "Reference: Create App Layer Wizard values"
        }, 
        {
            "location": "/layer_apps_create_co4/", 
            "text": "App Layers\n\n\n\n\nCreate an App Layer\n\n\n\n\nCreate an App Layer\n\n\nWhat type of Connector are you using to create this App Layer?\n\n\nvSphere connector\n            \n\n\nAzure connector\n            \n\n\nNFS connector\n            \n\n\nNutanix AHV Connector\n            \n\n\nXenServer", 
            "title": "layer_apps_create_co4"
        }, 
        {
            "location": "/layer_apps_create_co4/#create-an-app-layer", 
            "text": "What type of Connector are you using to create this App Layer?  vSphere connector               Azure connector               NFS connector               Nutanix AHV Connector               XenServer", 
            "title": "Create an App Layer"
        }, 
        {
            "location": "/layer_apps_create_fs4/", 
            "text": "App Layers\n\n\n\n\nNFS connector\n\n\n\n\nCreate an App Layer (vSphere)\n\n\nIn this article:\n\n\n Before you start\n        \n\n\n Prepare a new App Layer\n        \n\n\n Deploy a Packaging Machine \n        \n\n\n Install the Application(s) \n        \n\n\n Verify the Layer and shut down the Packaging Machine\n        \n\n\n Finalize the Layer\n        \n\n\nAn App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When creating an Image Template to use for publishing a Layered Image, you can include an OS Layer,  a Platform Layer, and any combination of App Layers, as long as  the  OSLayer used to create all of them is the same.\n\n\nTo create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application on it. Once the application is installed, you finalize the Layer.\n\n\nA Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine using the location and credentials you supply by selecting the Platform Target (hypervisor) and Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.\n\n\nBefore you start\n\n\nRequirements\n\n\nTo create an App Layer, you need:\n\n\n            \nCreate an OSLayer\n (Contains the OS for this application.)\n        \n\n\n\nOptional resources\n\n\nYou may want to create resources to facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.\n\n\n            \n \nPrerequisite Layers\n \n            \n \nPlatform Layer  for Packaging Layers (Required if creating App Layers on a different hypervisor than the one from which you imported your OSLayer)\n            \n Run Once Script\n            \n        \n\n\n\nPrerequisite Layers:\n####What are they and do I need any?\n\n\nPrerequisite Layers provide a mechanism to include existing Application Layers on the Packaging Disk when creating or adding a version to an Application Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  Prerequisite Layers can be required for several reasons:\n\n\n            \n      If the software installed in one layer is required by the current layer's application just to be installed.  For example, if you are installing an application that requires Java and you have Java in a separate layer.\n            \nIf the software to be installed adds settings of an existing application.  For example, when installing an Office add-in, Microsoft Office must first be installed.\n            \n      If two applications modify the same registry key and the second application must add to a key and not replace it.  For example, two application that both modify logon keys in Windows like a Citrix Agent and Imprivata.\n        \n\n\n\nNote: Some of these issues can also be handled by putting the two applications in the same layer rather than using prerequisite layers. \n\n\nPlatform Layer:\n####What is it and do I\n####need one?\n\n\nA Platform Layer is a Unidesk Layer that contains the tools and hardware settings needed to either install and package an application during Layer creation, or to publish a Layered Image for provisioning servers in a specific environment. You can create a different Platform Layer for each environment in which you are creating Layers, or publishing Layered Images. \n\n\nThere are two types of Platform Layers you can create: Platform Layers to use for Packaging other Layers, and Platform Layers for Publishing Layered Images.\n\n\nRun Once Script\n\n\nYou can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot. \n\n\nPrepare a new App Layer\n\n\n            \n                \nSelect \nLayers >App Layers\n and select \nCreate Layer\n in the Action bar. This opens the Create Layer wizard.\n            \n            \n                \nOn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nOn the OSLayer tab, select the OSLayer you want to associate with this App Layer. \n            \n            \n                \n(Optional) On the \nPrerequisite Layers\n tab, if the application you are layering requires other App Layers to be present during installation, select the \nInclude Prerequisite Layers\n check box, and pick the necessary App Layer(s).\n                \nNotes:\n \n                \n                    \nPrerequisite layers are used while installing applications, and are \nnot included\n in the App Layer.\n                    \nPrerequisite layers are \nnot\n included by default when adding a new \nVersion\n to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.  \n                    \nThe App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.\n                \n            \n            \n                \nOn the Connector tab, select \nNetwork File Share\n. \n            \n            \n                \nOn the Platform Layer tab, you can select a Platform Layer for Packaging Layers, \nif\n you need one. \n                \nNote:\n You \nonly\n need a Platform Layer for Packaging this Layer if you imported your OS from a different environment than the one where you will install the software on this Layer. \n            \n            \n                \nOn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nOn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nOn theConfirm and Complete tab, review the App Layer details, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. \n                \nA Boot disk and a Packaging disk are created, and the Tasks bar displays instructions to navigate to them.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full description. A message displays the location of the disks in your environment.\n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer. \n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a temporary VM where you install the app(s) you want to include in the Layer. \n\n\nCreate the Packaging Machine\n\n\nThe Task Description (example shown in the last step above) contains the location in your hypervisor environment where the disks for this Layer have been created.\n\n\n            \n                \nLog into your hypervisor. \n            \n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the location where the Boot Disk and Packaging Disk have been created. \n                \n                \n            \n            \n                \nIn your hypervisor, create a VM from the Boot disk and name it \nLayer_Name\nBoot.\nxxx\n.\n            \n            \n                \nUse the hypervisor to  attach the disk called \nLayer_Name\nPkg.\nxxx\n to the VM you just created.\n                \nImportant:\n Both disks you exported \nmust\n be attached to the IDE.\n            \n            \n                \nPower on the VM. This is your Packaging Machine where you will install the app(s) to include in this Layer.\n            \n        \n\n\n\nInstall the Application(s) \n\n\nNow you can install your application(s) on the Packaging Machine. Keep in mind that the state of the app before you finalize the layer is what users experience when they access it, so it's important to leave the app as you want users to see it when they log in. More guidance about this is included in the steps below.\n\n\nTo install the application(s):\n\n\n            \n                \nRemote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.\n            \n            \n                \nInstall the applications, along with any drivers, boot-level applications, or files that the user will need with it.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you will shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.  \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar. The Finalize wizard appears.\n            \n(Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network. \nIf the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used. \nIf the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted. \n            \nClick \nFinalize\n to finish creating the Layer.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.\n        \n\n\n\nReference: Create App Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for. \n            \nLayer Description\n - (Optional) Description of the Layer \n            \n                \nVersion\n - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nSpecify the Max Layer Size\n - Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "layer_apps_create_fs4"
        }, 
        {
            "location": "/layer_apps_create_fs4/#create-an-app-layer-vsphere", 
            "text": "In this article:   Before you start            Prepare a new App Layer            Deploy a Packaging Machine             Install the Application(s)             Verify the Layer and shut down the Packaging Machine            Finalize the Layer           An App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When creating an Image Template to use for publishing a Layered Image, you can include an OS Layer,  a Platform Layer, and any combination of App Layers, as long as  the  OSLayer used to create all of them is the same.  To create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application on it. Once the application is installed, you finalize the Layer.  A Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine using the location and credentials you supply by selecting the Platform Target (hypervisor) and Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.", 
            "title": "Create an App Layer (vSphere)"
        }, 
        {
            "location": "/layer_apps_create_fs4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_apps_create_fs4/#requirements", 
            "text": "To create an App Layer, you need:               Create an OSLayer  (Contains the OS for this application.)", 
            "title": "Requirements"
        }, 
        {
            "location": "/layer_apps_create_fs4/#optional-resources", 
            "text": "You may want to create resources to facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.                 Prerequisite Layers                  Platform Layer  for Packaging Layers (Required if creating App Layers on a different hypervisor than the one from which you imported your OSLayer)               Run Once Script", 
            "title": "Optional resources"
        }, 
        {
            "location": "/layer_apps_create_fs4/#run-once-script", 
            "text": "You can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.", 
            "title": "Run Once Script"
        }, 
        {
            "location": "/layer_apps_create_fs4/#prepare-a-new-app-layer", 
            "text": "Select  Layers >App Layers  and select  Create Layer  in the Action bar. This opens the Create Layer wizard.                                            On the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            On the OSLayer tab, select the OSLayer you want to associate with this App Layer.                                             (Optional) On the  Prerequisite Layers  tab, if the application you are layering requires other App Layers to be present during installation, select the  Include Prerequisite Layers  check box, and pick the necessary App Layer(s).                  Notes:                                         Prerequisite layers are used while installing applications, and are  not included  in the App Layer.                      Prerequisite layers are  not  included by default when adding a new  Version  to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.                        The App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.                                                             On the Connector tab, select  Network File Share .                                             On the Platform Layer tab, you can select a Platform Layer for Packaging Layers,  if  you need one.                   Note:  You  only  need a Platform Layer for Packaging this Layer if you imported your OS from a different environment than the one where you will install the software on this Layer.                                             On the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            On the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             On theConfirm and Complete tab, review the App Layer details, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                   A Boot disk and a Packaging disk are created, and the Tasks bar displays instructions to navigate to them.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full description. A message displays the location of the disks in your environment.                                                          Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new App Layer"
        }, 
        {
            "location": "/layer_apps_create_fs4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a temporary VM where you install the app(s) you want to include in the Layer.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_apps_create_fs4/#create-the-packaging-machine", 
            "text": "The Task Description (example shown in the last step above) contains the location in your hypervisor environment where the disks for this Layer have been created.                                Log into your hypervisor.                                             Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the location where the Boot Disk and Packaging Disk have been created.                                                                               In your hypervisor, create a VM from the Boot disk and name it  Layer_Name Boot. xxx .                                            Use the hypervisor to  attach the disk called  Layer_Name Pkg. xxx  to the VM you just created.                  Important:  Both disks you exported  must  be attached to the IDE.                                            Power on the VM. This is your Packaging Machine where you will install the app(s) to include in this Layer.", 
            "title": "Create the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_fs4/#install-the-applications", 
            "text": "Now you can install your application(s) on the Packaging Machine. Keep in mind that the state of the app before you finalize the layer is what users experience when they access it, so it's important to leave the app as you want users to see it when they log in. More guidance about this is included in the steps below.  To install the application(s):                                Remote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.                                            Install the applications, along with any drivers, boot-level applications, or files that the user will need with it.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you will shut down the Packaging Machine and verify that the Layer is ready to finalize.", 
            "title": "Install the Application(s) "
        }, 
        {
            "location": "/layer_apps_create_fs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_fs4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_apps_create_fs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_create_fs4/#finalize-the-layer", 
            "text": "Once the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.    Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar. The Finalize wizard appears.              (Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network.  If the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used.  If the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted.               Click  Finalize  to finish creating the Layer.              Monitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_apps_create_fs4/#reference-create-app-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for.               Layer Description  - (Optional) Description of the Layer                                Version  - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.                           Version Description  - (Optional) Enter a description of the version.              Specify the Max Layer Size  - Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "Reference: Create App Layer Wizard values"
        }, 
        {
            "location": "/layer_apps_create_vs4/", 
            "text": "App Layers\n\n\n\n\nvSphere connector\n\n\n\n\nCreate an App Layer (vSphere)\n\n\nIn this article:\n\n\n Before you start\n        \n\n\n Prepare a new App Layer\n        \n\n\nInstall the software on the Packaging Machine\n        \n\n\n Finalize the Layer\n        \n\n\n Reference: Create App Layer Wizard values\n        \n\n\nAn App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer. \n\n\nTo create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.\n\n\nA Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.\n\n\nBefore you start\n\n\nRequirements\n\n\nTo create an App Layer, you need:\n\n\n            \nCreate an OSLayer\n            \n        \n\n\n\nOptional\n\n\nBefore you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.\n\n\n            \n Prerequisite Layer\n            \n            \n Platform Layer  (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)\n            \n            \n Run Once Script\n            \n        \n\n\n\nIf the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.\n\n\nPrerequisite Layer\n\n\nPrerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  \n\n\nReasons to consider using Prerequisite Layers:\n\n\n            \nThe application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.\n            \nThe add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.\n            \nTwo applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.\n        \n\n\n\nNote: Some of these issues can also be handled by putting the two applications in the same layer. \n\n\nPlatform Layer  (Only required if creating App Layers on a hypervisor other than the one from which you imported your OS\n####Layer)\n\n\nIf you are creating App Layers and Versions on a different hypervisor than the one you used to create your OSLayer, you should consider creating a Platform Layer with the hypervisor tools and hardware settings that will make it easy to install and package applications in your environment.  \n\n\nRun Once Script\n\n\nYou can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.\n\n\nLayer Caching for faster App Layer creation\n\n\nIf you will be creating multiple App Layers that use the same OS Layer, Prerquisite Layer(s), and Platform Layer, you can save significant time by setting the Layer Disk Cache Size in the vSphere Connector.   If Cache Size is set to a value greater than 0, the first time you create an App Layer with a specific OS Layer, Prerequisite Layer(s) and Platform Layer, Unidesk will save a template in the cache that consists of the boot disk and the empty packaging disk.  The next time you create an App Layer that uses the same OS Layer, Prerequisite Layer(s) and Platform Layer, Unidesk will re-use this template, thereby significantly cutting the time it takes to create this App Layer in half.\n\n\nPlease note that if you create an App Layer that uses a different OS Layer, Prerequisite Layer(s) or Platform Layers from what is saved in the template, Unidesk will create a new template and store it in cache.\n\n\nThe size that you need to set for your cache depends on how many different combinations of OS Layers, Prerequisite Layer(s), Platform Layer combinations and therefore how many cached templates you will use as you layer various Apps.  To estimate the space required for each template you can you can determine how much space a Boot disk will use by selecting the i for the OS Layer you are using and observing the Maximum Layer Size value in the Version Information section.\n\n\nLikewise, you can obtain the Pkg disk size for an existing Application/Platform layer using the same approach. When creating new layers, you can set the Max Layer Size used by setting the Max Layer Size (GB) field in the Create Layer Wizard. By looking at the size of your existing layers, and estimating how many layers you are going to be creating/editing you can determine how large to set the Cache Size in your connector configuration.\n\n\nPrepare a new App Layer\n\n\n            \n                \nSelect \nLayers >App Layers\n and select \nCreate Layer\n in the Action bar. This opens the Create Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this App Layer. \n            \n            \n                \n(Optional) In the \nPrerequisite Layers\n tab, if the application you are layering requires other App Layers to be present during installation, select the \nInclude Prerequisite Layers\n check box, and pick the necessary App Layer(s).\n                \nNotes:\n \n                \n                    \nPrerequisite layers are used while installing applications, and are \nnot included\n in the App Layer.\n                    \nPrerequisite layers are \nnot\n included by default when adding a new \nVersion\n to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.  \n                    \nThe App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.\n                \n            \n            \n                \nIn the Connector tab, choose a \nPlatform Connector Configuration\n that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list. \n                \nExample: If you're using the vSphere environment to create the Layer, select the vSphere connector with the credentials and location required to access the location where you want to build the Layer.\n            \n            \n                \nIn the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in vSphere.\n            \n        \n\n\n\nNext, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.\n\n\nInstall the software on the Packaging Machine\n\n\nWhen you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.\n\n\nLog into the Packaging Machine \n\n\n            \n                \nLog into your vSphere web client.\n            \n            \n                \nBack in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the \nCreate App Layer\n task to see the full Task Description. \n            \n            \n                \nUse the instructions in the Task Description to navigate to the Packaging Machine in your vSphere web client. \n                \nThe Packaging Machine will be powered on.\n            \n        \n\n\n\nInstall the Application(s) \n\n\nWhen installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.\n\n\n            \n                \nRemote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.\n            \n            \n                \nInstall the applications, along with any drivers, boot-level applications, or files that the user will need with it.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now. \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.  \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar. The Finalize wizard appears.\n            \n(Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network. \nIf the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used. \nIf the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted. \n            \nClick \nFinalize\n to finish creating the Layer.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.\n        \n\n\n\nReference: Create App Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for. \n            \nLayer Description\n - (Optional) Description of the Layer \n            \n                \nVersion\n - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nSpecify the Max Layer Size\n - Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "layer_apps_create_vs4"
        }, 
        {
            "location": "/layer_apps_create_vs4/#create-an-app-layer-vsphere", 
            "text": "In this article:   Before you start            Prepare a new App Layer           Install the software on the Packaging Machine            Finalize the Layer            Reference: Create App Layer Wizard values           An App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer.   To create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.  A Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.", 
            "title": "Create an App Layer (vSphere)"
        }, 
        {
            "location": "/layer_apps_create_vs4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_apps_create_vs4/#requirements", 
            "text": "To create an App Layer, you need:               Create an OSLayer", 
            "title": "Requirements"
        }, 
        {
            "location": "/layer_apps_create_vs4/#optional", 
            "text": "Before you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.                Prerequisite Layer                            Platform Layer  (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)                            Run Once Script                        If the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.", 
            "title": "Optional"
        }, 
        {
            "location": "/layer_apps_create_vs4/#prerequisite-layer", 
            "text": "Prerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.    Reasons to consider using Prerequisite Layers:               The application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.              The add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.              Two applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.           Note: Some of these issues can also be handled by putting the two applications in the same layer.", 
            "title": "Prerequisite Layer"
        }, 
        {
            "location": "/layer_apps_create_vs4/#run-once-script", 
            "text": "You can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.", 
            "title": "Run Once Script"
        }, 
        {
            "location": "/layer_apps_create_vs4/#layer-caching-for-faster-app-layer-creation", 
            "text": "If you will be creating multiple App Layers that use the same OS Layer, Prerquisite Layer(s), and Platform Layer, you can save significant time by setting the Layer Disk Cache Size in the vSphere Connector.   If Cache Size is set to a value greater than 0, the first time you create an App Layer with a specific OS Layer, Prerequisite Layer(s) and Platform Layer, Unidesk will save a template in the cache that consists of the boot disk and the empty packaging disk.  The next time you create an App Layer that uses the same OS Layer, Prerequisite Layer(s) and Platform Layer, Unidesk will re-use this template, thereby significantly cutting the time it takes to create this App Layer in half.  Please note that if you create an App Layer that uses a different OS Layer, Prerequisite Layer(s) or Platform Layers from what is saved in the template, Unidesk will create a new template and store it in cache.  The size that you need to set for your cache depends on how many different combinations of OS Layers, Prerequisite Layer(s), Platform Layer combinations and therefore how many cached templates you will use as you layer various Apps.  To estimate the space required for each template you can you can determine how much space a Boot disk will use by selecting the i for the OS Layer you are using and observing the Maximum Layer Size value in the Version Information section.  Likewise, you can obtain the Pkg disk size for an existing Application/Platform layer using the same approach. When creating new layers, you can set the Max Layer Size used by setting the Max Layer Size (GB) field in the Create Layer Wizard. By looking at the size of your existing layers, and estimating how many layers you are going to be creating/editing you can determine how large to set the Cache Size in your connector configuration.", 
            "title": "Layer Caching for faster App Layer creation"
        }, 
        {
            "location": "/layer_apps_create_vs4/#prepare-a-new-app-layer", 
            "text": "Select  Layers >App Layers  and select  Create Layer  in the Action bar. This opens the Create Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this App Layer.                                             (Optional) In the  Prerequisite Layers  tab, if the application you are layering requires other App Layers to be present during installation, select the  Include Prerequisite Layers  check box, and pick the necessary App Layer(s).                  Notes:                                         Prerequisite layers are used while installing applications, and are  not included  in the App Layer.                      Prerequisite layers are  not  included by default when adding a new  Version  to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.                        The App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.                                                             In the Connector tab, choose a  Platform Connector Configuration  that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                   Example: If you're using the vSphere environment to create the Layer, select the vSphere connector with the credentials and location required to access the location where you want to build the Layer.                                            In the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in vSphere.                        Next, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.", 
            "title": "Prepare a new App Layer"
        }, 
        {
            "location": "/layer_apps_create_vs4/#install-the-software-on-the-packaging-machine", 
            "text": "When you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer.   Note: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.", 
            "title": "Install the software on the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_vs4/#log-into-the-packaging-machine", 
            "text": "Log into your vSphere web client.                                            Back in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the  Create App Layer  task to see the full Task Description.                                             Use the instructions in the Task Description to navigate to the Packaging Machine in your vSphere web client.                   The Packaging Machine will be powered on.", 
            "title": "Log into the Packaging Machine "
        }, 
        {
            "location": "/layer_apps_create_vs4/#install-the-applications", 
            "text": "When installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.                                Remote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.                                            Install the applications, along with any drivers, boot-level applications, or files that the user will need with it.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                       Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.", 
            "title": "Install the Application(s) "
        }, 
        {
            "location": "/layer_apps_create_vs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_vs4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_apps_create_vs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_create_vs4/#finalize-the-layer", 
            "text": "Once the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.    Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar. The Finalize wizard appears.              (Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network.  If the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used.  If the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted.               Click  Finalize  to finish creating the Layer.              Monitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_apps_create_vs4/#reference-create-app-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for.               Layer Description  - (Optional) Description of the Layer                                Version  - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.                           Version Description  - (Optional) Enter a description of the version.              Specify the Max Layer Size  - Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "Reference: Create App Layer Wizard values"
        }, 
        {
            "location": "/layer_apps_create_xs4/", 
            "text": "App Layers\n\n\n\n\nXenServer\n\n\n\n\nCreate an App Layer (XenServer Connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Prepare a new App Layer\n                        \n                        \nInstall the software on the Packaging Machine \n                        \n                        \n Finalize the Layer\n                        \n                        \n Reference: Create App Layer Wizard values\n                        \n                    \n                \n            \n        \n\n\n\nAn App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer. \n\n\nTo create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.\n\n\nA Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.\n\n\nBefore you start\n\n\nRequirements\n\n\nTo create an App Layer, you need:\n\n\n            \nCreate an OSLayer\n            \n        \n\n\n\nOptional\n\n\nBefore you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.\n\n\n            \n Prerequisite Layer\n            \n            \n Platform Layer (for cross-platform deployments)\n   (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)\n            \n Run Once Script\n            \n        \n\n\n\nIf the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.\n\n\nPrerequisite Layer\n\n\nPrerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.  \n\n\nReasons to consider using Prerequisite Layers:\n\n\n            \nThe application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.\n            \nThe add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.\n            \nTwo applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.\n        \n\n\n\nNote: Some of these issues can also be handled by putting the two applications in the same layer. \n\n\nPlatform Layer (for cross-platform deployments)\n\n\nA Platform Layer is only required when creating App Layers on a hypervisor other than the one from which you imported your OSLayer.\n\n\nIf you are creating App Layers and Versions on a different hypervisor than the one you used to create your OSLayer, it is strongly recommended that you create a Platform Layer containing the hypervisor tools and hardware settings you need to seamlessly install and package applications in your environment.  \n\n\nRun Once Script\n\n\nYou can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.\n\n\nPrepare a new App Layer\n\n\n            \n                \nSelect \nLayers >App Layers\n and select \nCreate Layer\n in the Action bar. This opens the Create Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the \nOSLayer\n you want to associate with this App Layer. \n            \n            \n                \n(Optional) In the \nPrerequisite Layers\n tab, if the application you are layering requires other App Layers to be present during installation, select the \nInclude Prerequisite Layers\n check box, and pick the necessary App Layer(s).\n                \nNotes:\n \n                \n                    \nPrerequisite layers are used while installing applications, and are \nnot included\n in the App Layer.\n                    \nPrerequisite layers are \nnot\n included by default when adding a new \nVersion\n to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.  \n                    \nThe App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.\n                \n            \n            \n                \nIn the Connector tab, choose a \nPlatform Connector Configuration\n that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list. \n                \nExample: If you're using the XenServer environment to create the Layer, select the XenServer connector with the credentials and location required to access the location where you want to build the Layer. \n            \n            \n                \nIn the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in XenServer.\n            \n        \n\n\n\nNext, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.\n\n\nDeploy a Unidesk Packaging Machine in XenServer\n\n\n            \n                \nBack in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the \nCreate App Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in your XenServer client. \n            \nPower on the Packaging Machine.\n        \n\n\n\nYou can now install the applications for this layer on the Packaging Machine.\n\n\nInstall the software on the Packaging Machine\n\n\nWhen you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.\n\n\nLog into the Packaging Machine \n\n\n            \n                \nLog into your vSphere web client.\n            \n            \n                \nBack in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the \nCreate App Layer\n task to see the full Task Description. \n            \n            \n                \nUse the instructions in the Task Description to navigate to the Packaging Machine in your vSphere web client. \n                \nThe Packaging Machine will be powered on.\n            \n        \n\n\n\nInstall the Application(s) \n\n\nWhen installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.\n\n\n            \n                \nRemote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.\n            \n            \n                \nInstall the applications, along with any drivers, boot-level applications, or files that the user will need with it.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now. \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.  \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar. The Finalize wizard appears.\n            \n(Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network. \nIf the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used. \nIf the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted. \n            \nClick \nFinalize\n to finish creating the Layer.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.\n        \n\n\n\nReference: Create App Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for. \n            \nLayer Description\n - (Optional) Description of the Layer \n            \n                \nVersion\n - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nSpecify the Max Layer Size\n - Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "layer_apps_create_xs4"
        }, 
        {
            "location": "/layer_apps_create_xs4/#create-an-app-layer-xenserver-connector", 
            "text": "In this article:                                                                                            Before you start                                                    Prepare a new App Layer                                                   Install the software on the Packaging Machine                                                     Finalize the Layer                                                    Reference: Create App Layer Wizard values                                                                                       An App Layer is a bootable software image (virtual disk) containing one or more applications that you can use in any number of Layered Images. When publishing a Layered Image, you can combine an App Layer with the OS Layer used to create it, other App Layers, and a Platform Layer.   To create an App Layer, you open the Create Layer wizard, deploy a Packaging Machine in your environment, then install the application(s). Once the application(s) are installed, you finalize the Layer.  A Packaging Machine is a VM where you install the application(s) that will be included in the Layer. Unidesk creates the Packaging Machine in the location and using the credentials you supply by choosing the Platform Target (hypervisor) and selecting a Connector Configuration containing this information. If you don't yet have the Connector Configuration you need, you can add a new one, as described in the steps below.  Before you start", 
            "title": "Create an App Layer (XenServer Connector)"
        }, 
        {
            "location": "/layer_apps_create_xs4/#requirements", 
            "text": "To create an App Layer, you need:               Create an OSLayer", 
            "title": "Requirements"
        }, 
        {
            "location": "/layer_apps_create_xs4/#optional", 
            "text": "Before you create an App Layer, you may also want to create resources that facilitate the application installation process. These resources are for temporary use during installation only, and will not be used to deliver the application.                Prerequisite Layer                            Platform Layer (for cross-platform deployments)    (Only required if creating App Layers on a hypervisor other than the one from which you imported your OSLayer)               Run Once Script                        If the application you install affects boot-level components, you'll need to restart the Packaging Machine as part of finalizing the layer or version.", 
            "title": "Optional"
        }, 
        {
            "location": "/layer_apps_create_xs4/#prerequisite-layer", 
            "text": "Prerequisite Layers let you include existing App Layers on the Packaging Disk when creating or adding a version to an App Layer.  Prerequisite Layers should only be used if they are required, since it is possible that the prerequisite applications will pull something into the Layer that is not required for the current application deployment, and which may cause conflict in the future.    Reasons to consider using Prerequisite Layers:               The application you are installing requires another application during installation.  For example, if you are installing an application that requires Java and you have Java in a separate layer.              The add-in or plugin you are installing adds settings to an application. For example, when installing an Office add-in, you would use your Microsoft Office App Layer as a prerequisite layer.              Two applications modify the same registry key, and the second application must add to an existing key rather than replace it.  For example, Citrix Agent and Imprivata software both modify login keys in Windows.           Note: Some of these issues can also be handled by putting the two applications in the same layer.", 
            "title": "Prerequisite Layer"
        }, 
        {
            "location": "/layer_apps_create_xs4/#platform-layer-for-cross-platform-deployments", 
            "text": "A Platform Layer is only required when creating App Layers on a hypervisor other than the one from which you imported your OSLayer.  If you are creating App Layers and Versions on a different hypervisor than the one you used to create your OSLayer, it is strongly recommended that you create a Platform Layer containing the hypervisor tools and hardware settings you need to seamlessly install and package applications in your environment.", 
            "title": "Platform Layer (for cross-platform deployments)"
        }, 
        {
            "location": "/layer_apps_create_xs4/#run-once-script", 
            "text": "You can include a Run Once script in an App Layer. This allows you to run a script the first time any Layered Image that includes the App Layer boots. If the App Layer  is elastically layered, the Run Once script runs when the App Layer Disk is mounted. Run Once scripts are typically used for apps, such as MSOffice, that require license activation on the first boot.", 
            "title": "Run Once Script"
        }, 
        {
            "location": "/layer_apps_create_xs4/#prepare-a-new-app-layer", 
            "text": "Select  Layers >App Layers  and select  Create Layer  in the Action bar. This opens the Create Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the  OSLayer  you want to associate with this App Layer.                                             (Optional) In the  Prerequisite Layers  tab, if the application you are layering requires other App Layers to be present during installation, select the  Include Prerequisite Layers  check box, and pick the necessary App Layer(s).                  Notes:                                         Prerequisite layers are used while installing applications, and are  not included  in the App Layer.                      Prerequisite layers are  not  included by default when adding a new  Version  to this App Layer. So, when you add a new Version to this App Layer, you must choose the Prerequisite Layers again, if needed.                        The App Layer you are creating and each of its Prerequisite Layers must be associated with the selected OSLayer.                                                             In the Connector tab, choose a  Platform Connector Configuration  that contains the credentials for the platform where you plan to build the Layer, along with the storage location. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                   Example: If you're using the XenServer environment to create the Layer, select the XenServer connector with the credentials and location required to access the location where you want to build the Layer.                                             In the Platform Layer tab you can select a Platform Layer containing the tools and hardware settings that you need to install and package an application during Layer creation. This selection is only used during layer creation. Once created, the Layer can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History. Once the Packaging Disk has been created, the Task bar displays instructions to navigate to the Packaging Machine in XenServer.                        Next, you can log into the Packaging Machine for your Layer, and install the software for the layer on it.", 
            "title": "Prepare a new App Layer"
        }, 
        {
            "location": "/layer_apps_create_xs4/#deploy-a-unidesk-packaging-machine-in-xenserver", 
            "text": "Back in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the  Create App Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in your XenServer client.               Power on the Packaging Machine.           You can now install the applications for this layer on the Packaging Machine.", 
            "title": "Deploy a Unidesk Packaging Machine in XenServer"
        }, 
        {
            "location": "/layer_apps_create_xs4/#install-the-software-on-the-packaging-machine", 
            "text": "When you've completed the Layer wizard, Unidesk creates a Packaging Machine in your environment, in the location defined in the Connector Configuration. The Packaging Machine is a virtual machine where you install the software to be included in the layer.   Note: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.", 
            "title": "Install the software on the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_xs4/#log-into-the-packaging-machine", 
            "text": "Log into your vSphere web client.                                            Back in the Unidesk Management Console, expand the Tasks bar at the bottom of the UI, and double-click the  Create App Layer  task to see the full Task Description.                                             Use the instructions in the Task Description to navigate to the Packaging Machine in your vSphere web client.                   The Packaging Machine will be powered on.", 
            "title": "Log into the Packaging Machine "
        }, 
        {
            "location": "/layer_apps_create_xs4/#install-the-applications", 
            "text": "When installing your application(s) on the Packaging Machine, leave each application as you want users to see it when they log in. The state of the applications when you finalize the layer is what users experience when they access the application. More guidance about this is included in the steps below.                                Remote log in to the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.                                            Install the applications, along with any drivers, boot-level applications, or files that the user will need with it.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                       Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.", 
            "title": "Install the Application(s) "
        }, 
        {
            "location": "/layer_apps_create_xs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_apps_create_xs4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_apps_create_xs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_apps_create_xs4/#finalize-the-layer", 
            "text": "Once the software has been installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.    Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar. The Finalize wizard appears.              (Optional) On the Script Path wizard tab, you can enter the path to a Run Once Script located on a server on your network.  If the App Layer is elastically assigned, the Run Once script will be executed the first time the app is used.  If the App Layer is included in a Layered Image, the Run Once script will be executed the first time the Layered Image is booted.               Click  Finalize  to finish creating the Layer.              Monitor the Task bar to verify that the action completes successfully and that the Layer is ready to be deployed.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_apps_create_xs4/#reference-create-app-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for.               Layer Description  - (Optional) Description of the Layer                                Version  - (Required) This can be the version of the application or a version you assign to the Layer. This value is displayed in the Details view of the Layer. Keep in mind that you'll add a new version to this layer whenever you update the app(s) included in it, and this is where the version will be described.                           Version Description  - (Optional) Enter a description of the version.              Specify the Max Layer Size  - Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 10 gigabytes. If the application you are installing could eventually require more space, change this to an appropriate value.", 
            "title": "Reference: Create App Layer Wizard values"
        }, 
        {
            "location": "/layer_apps_delete_co4/", 
            "text": "Delete Layers\n\n\n\n\nDelete App Layers and versions\n\n\n\n\nDelete an App Layer\n\n\nYou can delete an App Layer or Layer version, as long as it is not being used by another Unidesk Layer, or Image Template. Deleting the Layer itself removes all versions and resources associated with the Layer.\n\n\nIn this article:\n\n\nBefore you can delete a Layer or Layer Version \n        \n\n\nDelete a Layer or Layer Version\n        \n\n\nBefore you can delete a Layer or Layer Version\n\n\nYou can delete an entire layer or a layer version if it is:\n\n\n            \nNot deployed to an Image Template. \n            \nNot a prerequisite for another Layer that is deployed to an Image Template.\n        \n\n\n\nDelete a Layer or Layer Version\n\n\n            \nIn the Unidesk Management Console, select \nLayers > Application Layers\n.\n            \nSelect a Layer to delete. \n            \nSelect \nDelete Versions\n in the Action bar. This opens the Delete Version Layer wizard.\n            \n                \nIn the Version Selection tab, select the Version you want to delete, or select the \nDelete Layer\n check box to delete the entire Layer and all Versions.\n            \n            \nIn the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click \nDelete Versions\n.(missing or bad snippet)", 
            "title": "layer_apps_delete_co4"
        }, 
        {
            "location": "/layer_apps_delete_co4/#delete-an-app-layer", 
            "text": "You can delete an App Layer or Layer version, as long as it is not being used by another Unidesk Layer, or Image Template. Deleting the Layer itself removes all versions and resources associated with the Layer.  In this article:  Before you can delete a Layer or Layer Version            Delete a Layer or Layer Version", 
            "title": "Delete an App Layer"
        }, 
        {
            "location": "/layer_apps_delete_co4/#before-you-can-delete-a-layer-or-layer-version", 
            "text": "You can delete an entire layer or a layer version if it is:               Not deployed to an Image Template.               Not a prerequisite for another Layer that is deployed to an Image Template.", 
            "title": "Before you can delete a Layer or Layer Version"
        }, 
        {
            "location": "/layer_apps_delete_co4/#delete-a-layer-or-layer-version", 
            "text": "In the Unidesk Management Console, select  Layers > Application Layers .              Select a Layer to delete.               Select  Delete Versions  in the Action bar. This opens the Delete Version Layer wizard.                               In the Version Selection tab, select the Version you want to delete, or select the  Delete Layer  check box to delete the entire Layer and all Versions.                           In the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click  Delete Versions .(missing or bad snippet)", 
            "title": "Delete a Layer or Layer Version"
        }, 
        {
            "location": "/layer_apps_recipes_co4/", 
            "text": "App Layers\n\n\n\n\nApp Layer recipes (for apps that require special care)\n\n\n\n\nRecipes for layering Applications\n\n\nMost applications layer without a hitch, but there are a few that are trickier to layer, for example, Java, iTunes, Microsoft Office, and print drivers.  \n\n\nFor recipes and tips about layering specific applications, visit the Unidesk Forum about \nApplication Layer Recipes\n. If you experience issues layering an application that is not included in these Application Layer Recipes, you can post a question to this Forum.\n\n\nNote: If in the unlikely event you find yourself reading the recipe for an application you want to layer in a 4.X image and it requires using a script path, please call our Tech Support so we can guide you through it.", 
            "title": "layer_apps_recipes_co4"
        }, 
        {
            "location": "/layer_apps_recipes_co4/#recipes-for-layering-applications", 
            "text": "Most applications layer without a hitch, but there are a few that are trickier to layer, for example, Java, iTunes, Microsoft Office, and print drivers.    For recipes and tips about layering specific applications, visit the Unidesk Forum about  Application Layer Recipes . If you experience issues layering an application that is not included in these Application Layer Recipes, you can post a question to this Forum.  Note: If in the unlikely event you find yourself reading the recipe for an application you want to layer in a 4.X image and it requires using a script path, please call our Tech Support so we can guide you through it.", 
            "title": "Recipes for layering Applications"
        }, 
        {
            "location": "/layer_assign_apps_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Assign App Layers\n\n\nAssign App Layers\n\n\nDo you want to assign this App Layer to Layered Images, or directly to users as an Elastic Layer? You can make both kinds of assignments, as long as each user is assigned a single instance of the Layer, either as part of an image or as an elastic layer.\n\n\nAssign App Layers to Image Templates\n            \n\n\nAssign App Layers to users via Elastic Assignments", 
            "title": "layer_assign_apps_co4"
        }, 
        {
            "location": "/layer_assign_apps_co4/#assign-app-layers", 
            "text": "Do you want to assign this App Layer to Layered Images, or directly to users as an Elastic Layer? You can make both kinds of assignments, as long as each user is assigned a single instance of the Layer, either as part of an image or as an elastic layer.  Assign App Layers to Image Templates               Assign App Layers to users via Elastic Assignments", 
            "title": "Assign App Layers"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/", 
            "text": "Assign Layers\n\n\n\n\nAssign App Layers to users via Elastic Assignments\n\n\n\n\nAssign App Layers to users elastically (Elastic Layers)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Assign apps elastically\n                        \n                        \n Prerequisites and limitations\n                        \n                        \n Enable  Elastic Layering in the base image\n                        \n                        \n Run the Elastic Fit Analyzer on  App Layers  (Unidesk Labs)\n                        \n                        \n Elastically assign an App Layer to ADUsers and Groups\n                        \n                        \n Elastically assign an App Layer to users via machine assignments and associations\n                        \n                        \n Manage Elastic Assignments\n                        \n                    \n                \n            \n        \n\n\n\nAssign apps elastically\n\n\nWouldn't it be nice to drastically reduce the number of images you have to manage? What if you could leave apps that only a few users need out of your base image? And, assign the layers to specific users elastically on top of the base image. With the Elastic App Layers feature, you can do just that.\n\n\nAn Elastic App Layer is a Unidesk App Layer that you configure to be delivered to specific users and groups, based on user entitlements, when the users log onto their session hosts or standalone desktops. With Elastic App Layers, you can give each user his/her own unique set of applications in addition to the base Layered Image that is used across sessions in the case of session hosts), and across floating pools/shared groups in the case of desktops.\n\n\nAs this diagram shows, once you add Elastic Assignments to an App Layer,  a copy of the Layer is stored in the ELM's Network File Share, and delivered to individual AD users and groups on-demand, in addition to the Layers that they receive via the base image.\n\n\n\n\nTo use this feature, you'll add Elastic Assignments specifying which users and groups should receive each of the App Layers that you would like to leave out of your base images. You'll then publish your base image(s) with the Elastic Layering For Session Hosts selected.\n\n\nHow users access Elastic Layers assigned to them\n\n\nWhen users log into their Session or Desktop, icons for their Elastic Layers will appear as shortcuts on the desktop. \n\n\nA user receives an Elastic Layer in the following cases:\n\n\n            \nThe user (an ADuser in the Unidesk Management Console) is assigned the Layer.\n            \nAn AD group that the user belongs to is assigned the Layer. \n            \nA machine that the user logs into is a member of an ADGroup that receives the Elastic Layer.\n            \nA machine that the user logs into is associated (via the UMC) with an ADGroup that is assigned the Layer via the UMC.\n        \n\n\n\nIf more than one version of the same Layer is assigned to a user\n\n\nIf a Layer is assigned directly to the user and indirectly to one or more of the user's groups, the user receives the most recent version of the Layer assigned directly to her/him. For example, if a user is assigned Version 2, and a group that the user belongs to is assigned Version 3, the user will get Version 2. \n\n\nIf the user is assigned a Layer via one or more group assignments, the user receives the most recent version of the Layer.\n\n\nIf a user has an App Layer in their Layered Image, and the Layer is also assigned to them elastically\n\n\nIf a user has an App Layer in the Layered Image and the user is also assigned the Layer elastically, they will receive the Elastic Layer, even if the version in the base image is more recent.\n\n\nPrerequisites and limitations\n\n\nPrerequisites\n\n\n            \nThe ELM's Network File Share must be configured correctly:\nThe Share must be configured using SMB technology. When using Elastic Layer assignments, \nNFS technology is not supported\n.\nThe Share must be set up by the admin to be \nreadonly\n for all users \nexcept\n for the one configured in the ELM. This secures the Layers and other files stored on the Share. \nThe User named in this configuration must have \nRead/Write\n permissions on the root of the network file share. Select \nSystem > Settings and Configuration\n and scroll to \nNetwork File Share\n. \nMake sure that any users who will be assigned Elastic Layers have \nRead only\n access for the root directory of the Network File Share.\n            \n.NET Framework 4.5 is required on any Layered Image where Elastic Layers are enabled.\n            \n                \nThe \nApp Layers\n you want to elastically assign. \n                \nNote:\n App Layers must be created using the \nsame OSLayer\n used to create the Layered Image that you enable to deliver the Elastic App Layer to users. \n            \n        \n\n\n\nElastic Layering Limitations\n\n\nYou cannot elastically layer the following:\n\n\n            \nMicrosoft Office Add-ons and extensions in individual Unidesk Layers. A user must have \nall\n of their add-ons in \none\n Layer. Note: Please use the recipe for elastically layering MSOffice.\n            \nApplications with drivers that use the driver store. For example, a printer driver.\n            \nApplications that modify the network stack or hardware. For example, a VPN client.\n            \nApplications that have boot level drivers. For example, a virus scanner.\n        \n\n\n\nEnable  \nElastic Layering\n in the base image\n\n\nWhen you publish the Layered Image that the users will log into to get the Elastic App Layer(s):\n\n\n            \n                \nIn the Image Template Wizard, on the Layered Image Disk tab, select \nElastic Layering For Session Hosts\n. \n            \n            \n                \nFinish publishing the Layered Image.\n            \n            \n                \nProvision your Session Hosts with the new base image. \n                \nWhen the users log in, they should see an icon for each Elastic App Layer they've been assigned.\n            \n        \n\n\n\nRun the Elastic Fit Analyzer on  App Layers  (Unidesk Labs)\n\n\nBefore assigning an App Layer elastically, use the Elastic Fit Analyzer to determine the likelihood that the Layer assignment will be successful.  \n\n\nElastic Fit Analysis\n\n\nIn the Layer Details, the Elastic Fit rating indicates how likely it is that the Layer will work when elastically assigned. \n\n\n            \n            \n            \n                \n                    \n                        \n                            \n                        \n                    \n                    \n                        \nGood Elastic Fit.\n This layer should work when deployed elastically.\n                    \n                \n                \n                    \n                        \n                            \n                        \n                    \n                    \n                        \nPoor Elastic Fit.\n This layer will probably not work when deployed elastically, or may behave differently than when it is deployed in a Layered Image.\n                    \n                \n            \n        \n\n\n\nElastic Fit Details\n\n\nYou can learn more about the Elastic Fit of a Layer by expanding the Elastic Fit Analysis. If the Elastic Fit is less than ideal, the list of violated rules will be displayed. \n\n\n            \n            \n            \n                \n                    \n                        \n                            \n                        \n                    \n                    \nLow Severity Warning.\n  This is unlikely to cause any change in behavior or functionality for most applications.\n                \n                \n                    \n                        \n                            \n                        \n                    \n                    \nMedium Severity Warning.\n This may cause minor changes in behavior or functionality for some applications.\n                \n                \n                    \n                        \n                            \n                        \n                    \n                    \nHigh Severity Warning.\n This is likely to cause significant changes in behavior or functionality for many applications.\n                \n            \n        \n\n\n\nEnable Elastic Fit in Unidesk Labs\n\n\nTo use this Unidesk Labs feature, you must enable it. To enable Elastic Fit: \n\n\n            \nIn the Unidesk Management Appliance (UMC), select \nSystem > Settings and Configuration\n.\n            \nClick \nEdit\n Unidesk Labs.\n            \nSelect the \nElastic Fit\n check box.\n            \nClick \nSave\n.\n        \n\n\n\nAnalyze an App Layer for Elastic Fit\n\n\nAll new Layer Versions will be analyzed for elastic layering compatibility when they are finalized. To analyze existing App Layers for Elastic Fit:\n\n\n            \nLog into the Unidesk Management Console (UMC) .\n            \nSelect \nLayers > App Layers\n.\n            \nSelect the Layer to analyze, and click \nAnalyze Layer\n.\n            \nOn the Select Versions tab, choose the Layer Versions to analyze. \n            \nOn the Confirm and Complete tab, click \nAnalyze Layer Versions\n. The analysis takes seconds.\n            \nTo see the Elastic Fit Analysis, select the App Layers module, move the mouse pointer over the Layer icon and click the \nInfo\n \n icon. \n            \nExpand the \nVersion Information\n for each Layer Version, and look for the Elastic Fit rating.  \n            \nFor a detailed report, expand the \nElastic Fit Details\n. If the Elastic Fit is less than ideal, the list of violated rules will be displayed. \n            \nYou can display the AD tree and hide the violated rules by clicking a button acknowledging that the layer is unlikely to work as expected.\n        \n\n\n\nUpgrading from Earlier Releases\n\n\nAfter upgrading from an earlier Unidesk release, the Elastic Fit Detail shows that any existing Layer Version(s) have not been analyzed. Until you run the analysis on existing Layer Versions, the Versions will have a single High severity Elastic Fit Detail, and a Poor Elastic Fit.\n\n\nElastically assign an App Layer to AD\n##Users and Groups\n\n\nThe first time you assign an App Layer elastically, we recommend starting with an app like Notepad++ or GIMP, because they are simple to . \n\n\n            \nLog into the Unidesk Management Console (UMC) as an Admin user, and select \nLayers > App Layers\n.\n            \nSelect an App Layer that is \nnot going to be included in the base image\n, and select \nAdd Assignments\n. \n            \nIn the wizard that opens, select the Version of the App Layer that you want to assign users.\n            \nSkip the \nImage Template Assignment\n tab. This tab is for assigning the Layer to an Image Template.\n            \nIn the ElasticAssignment tab, select the users and groups who should get this App Layer.\n            \nIn the Confirm and Complete tab, review your selections, and click \nAssign Apps\n.\n        \n\n\n\nWhen the users log in, they should see an icon for each Elastic App Layer they've been assigned.\n\n\nElastically assign an App Layer to users via machine assignments and associations\n\n\nAny machine running the Unidesk Layering Service (ULayer.exe) can have Elastic Layers assigned to it. You can accomplish this by either adding the machine to or associating it with the ADGroup, and then elastically assigning the App Layers to the ADGroup. \n\n\nThe Layers assigned to the machine will be available to every User who successfully logs into that machine. The Unidesk Layering Service will scan for changes to the machine's AD group memberships and associations every 10 minutes. When the users log in, they should see an icon for each Elastic App Layer they've been assigned.\n\n\nUse Active Directory to add the machine to the ADGroup\n\n\nAssuming you have a published Layered Image booted in your environment, you can add the machine to an ADGroup, and assign Elastic Layers to the ADGroup.\n\n\n            \nUse Active Directory (AD) to add the machine to an ADGroup.\n            \nSelect an App Layer that is \nnot going to be included in the base image\n, and \nelastically assign\n the Layer(s) to an ADGroup. \n            \n                \nYou can wait for ADto propagate the changes and be recognized by the Unidesk Layering Service, or you can force the Unidesk Layering Service to update its list of machine groups by doing \none\n of the following:\n                \n                    \n                        \nWait for the Unidesk Layering Service to detect the changes (within 10 minutes by default).\n                    \n                    \n                        \nRestart the Unidesk Layering Service. \n                    \n                    \n                        \nReboot the Unidesk Layering Service Machine.\n                    \n                    \n                        \nExecute the \nrefresh.groups\n command: \nC:\\Program Files\\Unidesk\\Layering Services\\ulayer.exe refresh.groups\n                    \n                \n            \n        \n\n\n\nExample\n\n\nYou start with an AD User, and ADGroup, and a machine that you provisioned using a Layered Image.\n\n\n            \nAD User: \nKenya\nKenya has no elastic assignments.\n            \nADGroup:\nMarketing\nThe \nMarketing\n group includes the member Kenya.\n            \nMachine: \nElasticTestMachine\nThe \nElasticTestMachine\n base image includes the \nMSOffice App Layer\n.\n        \n\n\n\nIn this example, you elastically assign the Chrome App Layer to  ElasticTestMachine:\n\n\n            \nIn AD, you add the machine \nElasticTestMachine\n to the \nMarketing\n ADGroup.\n            \nIn the Unidesk Management Console (UMC) you \nelastically assign\n the \nChrome App Layer\n to the \nMarketing\n Group.\n            \nWhen Kenya, who is part of the Marketing group, logs into \nElasticTestMachine\n, she receives both the \nMSOffice App Layer\n, which is in the base image, and the \nChrome App Layer\n.\n            \nWhen any user who is \nnot\n in the \nMarketing\n group logs into \nElasticTestMachine\n, they also receive both Layers: \nMSOffice\n because it is in the base image, and \nChrome\n because the \nElasticTestMachine\n is a member of the \nMarketing\n ADGroup.\n        \n\n\n\nUse the \nUMC\nto \nassociate\n the machine with an AD\nGroup\n\n\nAssociating a set of machines with an AD Group allows any machine running the Unidesk Layering Service to have Layers elastically assigned to it via AD group membership. \n\n\nElastic Layers granted via Machine association can be thought of as extending the layers assigned to a user. For example, if a machine matches multiple Machine Associations, only the unique layers will be added to the ones the user already has. \n\n\nIn the UMC, you use asterisk (*) wildcards in a machine name pattern to specify a set of machine names. For example:\n\n\n            \n            \n            \n            \n                \n                    \n                        \nMachine name pattern\n                    \n                    \n                        \nMatches these names\n                    \n                    \n                        \nDoes \nnot\n match these names\n                    \n                \n            \n            \n                \n                    \n                        \nmachine*\n                    \n                    \n                        \nmachine01\n                        \nmachineindetroit\n                    \n                    \n                        \namachine\n                        \nlocaltestmachine\n                    \n                \n                \n                    \n*machine\n                    \n                        \namachine\n                        \nlocaltestmachine\n                    \n                    \n                        \nmachine01\n                        \nmachineindetroit\n                    \n                \n                \n                    \nky*eng\n                    \n                        \nky02359eng\n                        \nkytesteng\n                    \n                    \n                        \n01ky_eng\n                        \ntestky01eng\n                    \n                \n                \n                    \n*eng*\n                    \n                        \neng01\n                        \n1eng\n                        \n1eng01\n                    \n                    \n                        \nen01\n                        \n1en\n                        \n1en01\n                    \n                \n            \n        \n\n\n\nYou can create Machine Associations before or after elastically assigning App Layers to the ADGroup. Also, the machines do not need to exist when you add the associations, as the associations exist within Unidesk only, and AD is not aware of them. \n\n\nAssociate a set of machines with an AD####Group\n\n\n            \n                \nLog into the Unidesk Management Console (UMC) as an Admin user, and select \nUsers > Tree\n.\n            \n            \n                \nExpand the Tree, select the appropriate Group and click \nEdit Properties\n in the Action bar. This opens the Edit Group Wizard. \n                \n                \n            \n            \n                \nSelect the checkbox, \nAssociate machines with this AD Group\n. This reveals the \nMachine Name Pattern\n field:\n                \n                \n            \n            \n                \nSpecify a set of machines to associate with the AD group by entering a machine name pattern. For examples, see the above table of Machine name patterns.\n            \n            \n                \nOn the Confirm and Complete tab, select \nUpdate Group\n. Notice the shape of a computer monitor superimposed over the group icon. This indicates that machines are associated with the group.\n                \n                    \n                \n                \nWhen you click the group's \n icon, the Detail view now includes a field called, \nAssociate With Machines\n where the pattern. \n                \n                \n            \n        \n\n\n\nExample\n\n\nYou start with the machine, Mach1, the ADGroup, MachineGroup, and the App Layers for Firefox and MSOffice. \n\n\n            \nMachine: \nMach1\n            \nADGroup:\nMachineGroup\n            \nApp Layers: \nFirefox\n, \nMS Office\n        \n\n\n\nFurther, you have elastically assigned the Firefox and MSOffice Layers to the AD Group. \n\n\nIf you add a Machine Association to MachineGroup with a name pattern of \"Mach*\", when any domain user logs into Mach1, they will receive the Firefox and MS Office Elastic App Layers.\n\n\nManage Elastic Assignments\n\n\nYou can: \n\n\n            \nView a user's Elastic Layer assignments.\n            \nUpdate  an App Layer and elastically assign the new Version of the Layer. \n            \nRemove Elastic Assignments.\n            \nDebug an Elastic Assignments.\n        \n\n\n\nView a user's Elastic Layer assignments\n\n\n            \nLog into the UMC and select \nUsers > Tree\n.\n            \nSelect an ADUser or Group, and click the \"i\" icon to the \nright\n of the name. If the user or group is assigned any Elastic Layers, the Layers are listed just below the user's or group's profile information in the Details window that appears.\n        \n\n\n\nUpdate an App Layer and its Elastic Assignments\n\n\nYou've added Elastic Assignments to an App Layer, and users are accessing the app as expected. A new version of the application is released, so you update it by adding a new Version to the Layer. Now you need to assign the new version to the users who have the Layer.\n\n\n            \nLog into the UMC and select \nLayers > App Layers\n.\n            \nSelect the elastically assigned App Layer that you just updated.\n            \nRight-click the Layer icon and select \nUpdate Assignments\n.\n            \nIn the wizard that opens, select the new Version.\n            \nSkip\n the Image Template Assignment tab.\n            \n                \nIn the Elastic Assignment tab, there's a list of Users and Groups who have been assigned a different version of the selected Layer. Select the users and groups to whom you want to assign the new Version of the Layer. \n                \nNotes:\n \n                \n                    \nIf the list is long, use the \nSearch\n field to filter the results. \n                    \nIf the list is empty, click the check box called, \nShow AD users and groups already at this version\n. A list of grayed out names may appear. These users have already been assigned the Version.\n                \n            \n            \nOn the Confirm and Complete tab, verify the Users and Groups selected to receive the new Version, and click \nUpdate Assignments\n.\n        \n\n\n\nRemove a Layer's Elastic Assignments\n\n\n            \n                \nLog into the UMC and select \nLayers > App Layers\n.\n            \n            \n                \nSelect the App Layer for which you want to remove assignments, and select \nRemove Assignments\n..\n            \n            \n                \nIn the wizard that opens, select the assigned templates from which you want to remove the Layer. All of the assignments for that layer are listed.\n                \nIf the list is long, use the Search field to filter the results. \n            \n            \nOn the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click \nUpdate Assignments\n.\n        \n\n\n\nDebug an Elastic Layer\n\n\nIf you have an Elastic Layering issue, you can diagnose the problem by finding out whether the layer is being delivered, and if so, whether it is working correctly. If needed, collect data for Unidesk Support, as described here.\n\n\nIs this a Delivery issue?\n\n\nAre the things you'd expect to see if this app were installed actually there as expected?\n\n\n            \nDo you see the files and registry entries for the layer?\n            \nIf the app is supposed to be in the Start menu, is it there?\n            \nIf there should be a shortcut for the app on the user's desktop, is there one?\n        \n\n\n\nIf you discover that app delivery is an issue, you can collect the following data, open a case, and send the data to Unidesk Support.\n\n\n            \n                \nCollect the data from these logs:\n                \n                    \nWindows App Event log \u2013 In the Windows Event Viewer under Windows Logs, export the Application event log as an EVTX file.\n                    \nUnidesk Layering Service log (ulayersvc.log) \u2013 C:\\ProgramData\\Unidesk\\Logs\\ulayersvc.log\n                \n            \n            \n                \nCollect the values of these Registry keys:\n                \n                    \nHKEY_LOCAL_MACHINE\\SOFTWARE\\Unidesk\\ULayer:AssignmentFile\n                    \nHKEY_LOCAL_MACHINE\\SOFTWARE\\Unidesk\\ULayer:RepositoryPath\n                \n            \n            \n                \nCollect the contents of the Assignment (ElasticLayerAssignments.json) and Layers (Layers.json) files from the Repository Path.\n            \n            \n                \nContact Support.\n            \n        \n\n\n\nIs this an operational issue?\n\n\nOne of these issues could indicate that this is an Elastic Layering issue:\n\n\n            \nThe app is being delivered but doesn't launch correctly.\n            \nAn operation within the app doesn't work correctly.\n            \nA licensing problem or a security issue.\n            \nThe app launches, but then misbehaves, for example, it crashes on startup, or starts up but doesn't work right.\n        \n\n\n\nIf the problem with the Layer is operational, test the App Layer in the base image to rule out general layering issues:\n\n\n            \nAdd the App Layer to an Image Template, and publish a Layered Image that includes the App Layer.\n            \nLog in as a user who is \nnot\n assigned the Layer elastically, and make sure that the application is operational in the base image.\n            \nContact Support with your findings.", 
            "title": "layer_assign_apps_elastic_co4"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#assign-app-layers-to-users-elastically-elastic-layers", 
            "text": "In this article:                                                                                            Assign apps elastically                                                    Prerequisites and limitations                                                    Enable  Elastic Layering in the base image                                                    Run the Elastic Fit Analyzer on  App Layers  (Unidesk Labs)                                                    Elastically assign an App Layer to ADUsers and Groups                                                    Elastically assign an App Layer to users via machine assignments and associations                                                    Manage Elastic Assignments", 
            "title": "Assign App Layers to users elastically (Elastic Layers)"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#assign-apps-elastically", 
            "text": "Wouldn't it be nice to drastically reduce the number of images you have to manage? What if you could leave apps that only a few users need out of your base image? And, assign the layers to specific users elastically on top of the base image. With the Elastic App Layers feature, you can do just that.  An Elastic App Layer is a Unidesk App Layer that you configure to be delivered to specific users and groups, based on user entitlements, when the users log onto their session hosts or standalone desktops. With Elastic App Layers, you can give each user his/her own unique set of applications in addition to the base Layered Image that is used across sessions in the case of session hosts), and across floating pools/shared groups in the case of desktops.  As this diagram shows, once you add Elastic Assignments to an App Layer,  a copy of the Layer is stored in the ELM's Network File Share, and delivered to individual AD users and groups on-demand, in addition to the Layers that they receive via the base image.   To use this feature, you'll add Elastic Assignments specifying which users and groups should receive each of the App Layers that you would like to leave out of your base images. You'll then publish your base image(s) with the Elastic Layering For Session Hosts selected.", 
            "title": "Assign apps elastically"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#how-users-access-elastic-layers-assigned-to-them", 
            "text": "When users log into their Session or Desktop, icons for their Elastic Layers will appear as shortcuts on the desktop.   A user receives an Elastic Layer in the following cases:               The user (an ADuser in the Unidesk Management Console) is assigned the Layer.              An AD group that the user belongs to is assigned the Layer.               A machine that the user logs into is a member of an ADGroup that receives the Elastic Layer.              A machine that the user logs into is associated (via the UMC) with an ADGroup that is assigned the Layer via the UMC.", 
            "title": "How users access Elastic Layers assigned to them"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#if-more-than-one-version-of-the-same-layer-is-assigned-to-a-user", 
            "text": "If a Layer is assigned directly to the user and indirectly to one or more of the user's groups, the user receives the most recent version of the Layer assigned directly to her/him. For example, if a user is assigned Version 2, and a group that the user belongs to is assigned Version 3, the user will get Version 2.   If the user is assigned a Layer via one or more group assignments, the user receives the most recent version of the Layer.", 
            "title": "If more than one version of the same Layer is assigned to a user"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#if-a-user-has-an-app-layer-in-their-layered-image-and-the-layer-is-also-assigned-to-them-elastically", 
            "text": "If a user has an App Layer in the Layered Image and the user is also assigned the Layer elastically, they will receive the Elastic Layer, even if the version in the base image is more recent.", 
            "title": "If a user has an App Layer in their Layered Image, and the Layer is also assigned to them elastically"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#prerequisites-and-limitations", 
            "text": "", 
            "title": "Prerequisites and limitations"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#prerequisites", 
            "text": "The ELM's Network File Share must be configured correctly: The Share must be configured using SMB technology. When using Elastic Layer assignments,  NFS technology is not supported . The Share must be set up by the admin to be  readonly  for all users  except  for the one configured in the ELM. This secures the Layers and other files stored on the Share.  The User named in this configuration must have  Read/Write  permissions on the root of the network file share. Select  System > Settings and Configuration  and scroll to  Network File Share .  Make sure that any users who will be assigned Elastic Layers have  Read only  access for the root directory of the Network File Share.              .NET Framework 4.5 is required on any Layered Image where Elastic Layers are enabled.                               The  App Layers  you want to elastically assign.                   Note:  App Layers must be created using the  same OSLayer  used to create the Layered Image that you enable to deliver the Elastic App Layer to users.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#elastic-layering-limitations", 
            "text": "You cannot elastically layer the following:               Microsoft Office Add-ons and extensions in individual Unidesk Layers. A user must have  all  of their add-ons in  one  Layer. Note: Please use the recipe for elastically layering MSOffice.              Applications with drivers that use the driver store. For example, a printer driver.              Applications that modify the network stack or hardware. For example, a VPN client.              Applications that have boot level drivers. For example, a virus scanner.", 
            "title": "Elastic Layering Limitations"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#run-the-elastic-fit-analyzer-on-app-layers-unidesk-labs", 
            "text": "Before assigning an App Layer elastically, use the Elastic Fit Analyzer to determine the likelihood that the Layer assignment will be successful.", 
            "title": "Run the Elastic Fit Analyzer on  App Layers  (Unidesk Labs)"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#elastic-fit-analysis", 
            "text": "In the Layer Details, the Elastic Fit rating indicates how likely it is that the Layer will work when elastically assigned.                                                                                                                                                                                                                                  Good Elastic Fit.  This layer should work when deployed elastically.                                                                                                                                                                                                                               Poor Elastic Fit.  This layer will probably not work when deployed elastically, or may behave differently than when it is deployed in a Layered Image.", 
            "title": "Elastic Fit Analysis"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#elastic-fit-details", 
            "text": "You can learn more about the Elastic Fit of a Layer by expanding the Elastic Fit Analysis. If the Elastic Fit is less than ideal, the list of violated rules will be displayed.                                                                                                                                                                                                         Low Severity Warning.   This is unlikely to cause any change in behavior or functionality for most applications.                                                                                                                                                                                 Medium Severity Warning.  This may cause minor changes in behavior or functionality for some applications.                                                                                                                                                                                 High Severity Warning.  This is likely to cause significant changes in behavior or functionality for many applications.", 
            "title": "Elastic Fit Details"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#enable-elastic-fit-in-unidesk-labs", 
            "text": "To use this Unidesk Labs feature, you must enable it. To enable Elastic Fit:                In the Unidesk Management Appliance (UMC), select  System > Settings and Configuration .              Click  Edit  Unidesk Labs.              Select the  Elastic Fit  check box.              Click  Save .", 
            "title": "Enable Elastic Fit in Unidesk Labs"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#analyze-an-app-layer-for-elastic-fit", 
            "text": "All new Layer Versions will be analyzed for elastic layering compatibility when they are finalized. To analyze existing App Layers for Elastic Fit:               Log into the Unidesk Management Console (UMC) .              Select  Layers > App Layers .              Select the Layer to analyze, and click  Analyze Layer .              On the Select Versions tab, choose the Layer Versions to analyze.               On the Confirm and Complete tab, click  Analyze Layer Versions . The analysis takes seconds.              To see the Elastic Fit Analysis, select the App Layers module, move the mouse pointer over the Layer icon and click the  Info    icon.               Expand the  Version Information  for each Layer Version, and look for the Elastic Fit rating.                For a detailed report, expand the  Elastic Fit Details . If the Elastic Fit is less than ideal, the list of violated rules will be displayed.               You can display the AD tree and hide the violated rules by clicking a button acknowledging that the layer is unlikely to work as expected.", 
            "title": "Analyze an App Layer for Elastic Fit"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#upgrading-from-earlier-releases", 
            "text": "After upgrading from an earlier Unidesk release, the Elastic Fit Detail shows that any existing Layer Version(s) have not been analyzed. Until you run the analysis on existing Layer Versions, the Versions will have a single High severity Elastic Fit Detail, and a Poor Elastic Fit.", 
            "title": "Upgrading from Earlier Releases"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#elastically-assign-an-app-layer-to-users-via-machine-assignments-and-associations", 
            "text": "Any machine running the Unidesk Layering Service (ULayer.exe) can have Elastic Layers assigned to it. You can accomplish this by either adding the machine to or associating it with the ADGroup, and then elastically assigning the App Layers to the ADGroup.   The Layers assigned to the machine will be available to every User who successfully logs into that machine. The Unidesk Layering Service will scan for changes to the machine's AD group memberships and associations every 10 minutes. When the users log in, they should see an icon for each Elastic App Layer they've been assigned.", 
            "title": "Elastically assign an App Layer to users via machine assignments and associations"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#use-active-directory-to-add-the-machine-to-the-adgroup", 
            "text": "Assuming you have a published Layered Image booted in your environment, you can add the machine to an ADGroup, and assign Elastic Layers to the ADGroup.               Use Active Directory (AD) to add the machine to an ADGroup.              Select an App Layer that is  not going to be included in the base image , and  elastically assign  the Layer(s) to an ADGroup.                                You can wait for ADto propagate the changes and be recognized by the Unidesk Layering Service, or you can force the Unidesk Layering Service to update its list of machine groups by doing  one  of the following:                                                                Wait for the Unidesk Layering Service to detect the changes (within 10 minutes by default).                                                                    Restart the Unidesk Layering Service.                                                                     Reboot the Unidesk Layering Service Machine.                                                                    Execute the  refresh.groups  command:  C:\\Program Files\\Unidesk\\Layering Services\\ulayer.exe refresh.groups", 
            "title": "Use Active Directory to add the machine to the ADGroup"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#example", 
            "text": "You start with an AD User, and ADGroup, and a machine that you provisioned using a Layered Image.               AD User:  Kenya Kenya has no elastic assignments.              ADGroup: Marketing The  Marketing  group includes the member Kenya.              Machine:  ElasticTestMachine The  ElasticTestMachine  base image includes the  MSOffice App Layer .           In this example, you elastically assign the Chrome App Layer to  ElasticTestMachine:               In AD, you add the machine  ElasticTestMachine  to the  Marketing  ADGroup.              In the Unidesk Management Console (UMC) you  elastically assign  the  Chrome App Layer  to the  Marketing  Group.              When Kenya, who is part of the Marketing group, logs into  ElasticTestMachine , she receives both the  MSOffice App Layer , which is in the base image, and the  Chrome App Layer .              When any user who is  not  in the  Marketing  group logs into  ElasticTestMachine , they also receive both Layers:  MSOffice  because it is in the base image, and  Chrome  because the  ElasticTestMachine  is a member of the  Marketing  ADGroup.", 
            "title": "Example"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#associate-a-set-of-machines-with-an-adgroup", 
            "text": "Log into the Unidesk Management Console (UMC) as an Admin user, and select  Users > Tree .                                            Expand the Tree, select the appropriate Group and click  Edit Properties  in the Action bar. This opens the Edit Group Wizard.                                                                               Select the checkbox,  Associate machines with this AD Group . This reveals the  Machine Name Pattern  field:                                                                              Specify a set of machines to associate with the AD group by entering a machine name pattern. For examples, see the above table of Machine name patterns.                                            On the Confirm and Complete tab, select  Update Group . Notice the shape of a computer monitor superimposed over the group icon. This indicates that machines are associated with the group.                                                                         When you click the group's   icon, the Detail view now includes a field called,  Associate With Machines  where the pattern.", 
            "title": "Associate a set of machines with an AD####Group"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#example_1", 
            "text": "You start with the machine, Mach1, the ADGroup, MachineGroup, and the App Layers for Firefox and MSOffice.                Machine:  Mach1              ADGroup: MachineGroup              App Layers:  Firefox ,  MS Office           Further, you have elastically assigned the Firefox and MSOffice Layers to the AD Group.   If you add a Machine Association to MachineGroup with a name pattern of \"Mach*\", when any domain user logs into Mach1, they will receive the Firefox and MS Office Elastic App Layers.", 
            "title": "Example"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#manage-elastic-assignments", 
            "text": "You can:                View a user's Elastic Layer assignments.              Update  an App Layer and elastically assign the new Version of the Layer.               Remove Elastic Assignments.              Debug an Elastic Assignments.           View a user's Elastic Layer assignments               Log into the UMC and select  Users > Tree .              Select an ADUser or Group, and click the \"i\" icon to the  right  of the name. If the user or group is assigned any Elastic Layers, the Layers are listed just below the user's or group's profile information in the Details window that appears.", 
            "title": "Manage Elastic Assignments"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#update-an-app-layer-and-its-elastic-assignments", 
            "text": "You've added Elastic Assignments to an App Layer, and users are accessing the app as expected. A new version of the application is released, so you update it by adding a new Version to the Layer. Now you need to assign the new version to the users who have the Layer.               Log into the UMC and select  Layers > App Layers .              Select the elastically assigned App Layer that you just updated.              Right-click the Layer icon and select  Update Assignments .              In the wizard that opens, select the new Version.              Skip  the Image Template Assignment tab.                               In the Elastic Assignment tab, there's a list of Users and Groups who have been assigned a different version of the selected Layer. Select the users and groups to whom you want to assign the new Version of the Layer.                   Notes:                                         If the list is long, use the  Search  field to filter the results.                       If the list is empty, click the check box called,  Show AD users and groups already at this version . A list of grayed out names may appear. These users have already been assigned the Version.                                            On the Confirm and Complete tab, verify the Users and Groups selected to receive the new Version, and click  Update Assignments .", 
            "title": "Update an App Layer and its Elastic Assignments"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#remove-a-layers-elastic-assignments", 
            "text": "Log into the UMC and select  Layers > App Layers .                                            Select the App Layer for which you want to remove assignments, and select  Remove Assignments ..                                            In the wizard that opens, select the assigned templates from which you want to remove the Layer. All of the assignments for that layer are listed.                  If the list is long, use the Search field to filter the results.                            On the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click  Update Assignments .", 
            "title": "Remove a Layer's Elastic Assignments"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#debug-an-elastic-layer", 
            "text": "If you have an Elastic Layering issue, you can diagnose the problem by finding out whether the layer is being delivered, and if so, whether it is working correctly. If needed, collect data for Unidesk Support, as described here.", 
            "title": "Debug an Elastic Layer"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#is-this-a-delivery-issue", 
            "text": "Are the things you'd expect to see if this app were installed actually there as expected?               Do you see the files and registry entries for the layer?              If the app is supposed to be in the Start menu, is it there?              If there should be a shortcut for the app on the user's desktop, is there one?           If you discover that app delivery is an issue, you can collect the following data, open a case, and send the data to Unidesk Support.                                Collect the data from these logs:                                       Windows App Event log \u2013 In the Windows Event Viewer under Windows Logs, export the Application event log as an EVTX file.                      Unidesk Layering Service log (ulayersvc.log) \u2013 C:\\ProgramData\\Unidesk\\Logs\\ulayersvc.log                                                             Collect the values of these Registry keys:                                       HKEY_LOCAL_MACHINE\\SOFTWARE\\Unidesk\\ULayer:AssignmentFile                      HKEY_LOCAL_MACHINE\\SOFTWARE\\Unidesk\\ULayer:RepositoryPath                                                             Collect the contents of the Assignment (ElasticLayerAssignments.json) and Layers (Layers.json) files from the Repository Path.                                            Contact Support.", 
            "title": "Is this a Delivery issue?"
        }, 
        {
            "location": "/layer_assign_apps_elastic_co4/#is-this-an-operational-issue", 
            "text": "One of these issues could indicate that this is an Elastic Layering issue:               The app is being delivered but doesn't launch correctly.              An operation within the app doesn't work correctly.              A licensing problem or a security issue.              The app launches, but then misbehaves, for example, it crashes on startup, or starts up but doesn't work right.           If the problem with the Layer is operational, test the App Layer in the base image to rule out general layering issues:               Add the App Layer to an Image Template, and publish a Layered Image that includes the App Layer.              Log in as a user who is  not  assigned the Layer elastically, and make sure that the application is operational in the base image.              Contact Support with your findings.", 
            "title": "Is this an operational issue?"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/", 
            "text": "Assign Layers\n\n\n\n\nAssign App Layers to Image Templates\n\n\n\n\nAssign an App Layer to Image Templates\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Add an App Layer Assignment to one or more Image Templates\n                        \n                        \n Update App Layers and Image Template Assignments\n                        \n                        \n Remove Template Assignments\n                        \n                    \n                \n            \n        \n\n\n\nAn Image Template is a stored selection of Layers and settings that you use to publish Layered Images. At minimum, an Image Template contains an OS Layer, Platform Layer, and settings. Ideally, each template also contains your choice of App Layers for a particular image, for example, an image suited for the users served by a particular silo. Once you publish a Layered Image, you can provision systems using the  image. \n\n\n\n\nWhen you create a new App Layer, you can assign the App Layer to one or more Unidesk Image Templates, and then use the templates to publish Layered Images that include the layer. This article explains how to  assign an App Layer to one or more Image Templates, and update the assignments when you update the Layer. \n\n\nWhen you first update an App Layer, the new Layer Version is not assigned to any Image Templates, so you'll need to update the Layer Assignments. Updating the assignments allows you to assign different Versions of the Layer to different Image Templates. You cannot assign an App Layer to \n\n\nImportant: When assigning App Layers, be sure to avoid assigning the app elastically to a user, if the app is already in the Layered Image that the user gets.\n\n\nPrerequisites\n\n\n            \nOne or more App Layers.\n            \nOne or more Image Templates.\n        \n\n\n\nAdd an App Layer Assignment to one or more Image Templates\n\n\n            \nLog into the Unidesk Management Console (UMC) as an Admin user, and select \nLayers > App Layers\n.\n            \nSelect an App Layer  to include in one or more of your Image Templates, and click \nAdd Assignments\n. \n            \nIn the wizard that opens, select the  App Layer that you want to assign to templates.\n            \nOn the ImageTemplate Assignment tab, select the templates in which you want to include this App Layer Version.\n            \nSkip the Elastic Assignment tab.\n            \nIn the Confirm and Complete tab, review your selections, and click \nAssign Apps\n. \n        \n\n\n\nWhen you open each of the Image Templates you will see the App Layer Version you just assigned to the template.\n\n\nUpdate App Layers and Image Template Assignments\n\n\nWhen you update an application by adding a new Version to the App Layer, the new Layer Version will not inherit the original Layer Assignments. You need to assign the new App Layer Version.\n\n\n            \n                \nLog into the UMC and select \nLayers > App Layers\n.\n            \n            \n                \nSelect the App Layer that has been updated.\n            \n            \n                \nRight-click the Layer icon and select \nUpdate Assignments\n.\n            \n            \n                \nIn the wizard that opens, select the new App Layer Version. \n            \n            \n                \nClick the \nImage Template Assignment\n tab, and select the Image Templates to which you want to assign the new Layer Version . \n                \nNotes:\n                \n                    \nIf the list is long, use the \nSearch\n field to filter the results. \n                    \nIf the list is empty, click the check box called, \nShow Image Templates already at this version\n. A list of grayed out names may appear. These Image Templates have already been assigned the Version.\n                \n            \n            \nSkip the Elastic Assignment tab.\n            \nOn the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click \nUpdate Assignments\n.\n        \n\n\n\nRemove Template Assignments\n\n\nWhen you remove an App Layer's Template Assignments, the assignments for all versions of the Layer are removed. If you want to remove the assignments for a specific Version of the Layer, select Update Assignments instead.\n\n\n            \n                \nLog into the UMC and select \nLayers > App Layers\n.\n            \n            \n                \nSelect the App Layer for which you want to remove assignments, and select \nRemove Assignments\n..\n            \n            \n                \nIn the wizard that opens, select the assigned templates from which you want to remove the Layer. All of the assignments for that layer are listed.\n                \nIf the list is long, use the Search field to filter the results. \n            \n            \nOn the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click \nUpdate Assignments\n.", 
            "title": "layer_assign_apps_image_template_co4"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/#assign-an-app-layer-to-image-templates", 
            "text": "In this article:                                                                                            Prerequisites                                                    Add an App Layer Assignment to one or more Image Templates                                                    Update App Layers and Image Template Assignments                                                    Remove Template Assignments                                                                                       An Image Template is a stored selection of Layers and settings that you use to publish Layered Images. At minimum, an Image Template contains an OS Layer, Platform Layer, and settings. Ideally, each template also contains your choice of App Layers for a particular image, for example, an image suited for the users served by a particular silo. Once you publish a Layered Image, you can provision systems using the  image.    When you create a new App Layer, you can assign the App Layer to one or more Unidesk Image Templates, and then use the templates to publish Layered Images that include the layer. This article explains how to  assign an App Layer to one or more Image Templates, and update the assignments when you update the Layer.   When you first update an App Layer, the new Layer Version is not assigned to any Image Templates, so you'll need to update the Layer Assignments. Updating the assignments allows you to assign different Versions of the Layer to different Image Templates. You cannot assign an App Layer to   Important: When assigning App Layers, be sure to avoid assigning the app elastically to a user, if the app is already in the Layered Image that the user gets.", 
            "title": "Assign an App Layer to Image Templates"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/#prerequisites", 
            "text": "One or more App Layers.              One or more Image Templates.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/#add-an-app-layer-assignment-to-one-or-more-image-templates", 
            "text": "Log into the Unidesk Management Console (UMC) as an Admin user, and select  Layers > App Layers .              Select an App Layer  to include in one or more of your Image Templates, and click  Add Assignments .               In the wizard that opens, select the  App Layer that you want to assign to templates.              On the ImageTemplate Assignment tab, select the templates in which you want to include this App Layer Version.              Skip the Elastic Assignment tab.              In the Confirm and Complete tab, review your selections, and click  Assign Apps .            When you open each of the Image Templates you will see the App Layer Version you just assigned to the template.", 
            "title": "Add an App Layer Assignment to one or more Image Templates"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/#update-app-layers-and-image-template-assignments", 
            "text": "When you update an application by adding a new Version to the App Layer, the new Layer Version will not inherit the original Layer Assignments. You need to assign the new App Layer Version.                                Log into the UMC and select  Layers > App Layers .                                            Select the App Layer that has been updated.                                            Right-click the Layer icon and select  Update Assignments .                                            In the wizard that opens, select the new App Layer Version.                                             Click the  Image Template Assignment  tab, and select the Image Templates to which you want to assign the new Layer Version .                   Notes:                                       If the list is long, use the  Search  field to filter the results.                       If the list is empty, click the check box called,  Show Image Templates already at this version . A list of grayed out names may appear. These Image Templates have already been assigned the Version.                                            Skip the Elastic Assignment tab.              On the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click  Update Assignments .", 
            "title": "Update App Layers and Image Template Assignments"
        }, 
        {
            "location": "/layer_assign_apps_image_template_co4/#remove-template-assignments", 
            "text": "When you remove an App Layer's Template Assignments, the assignments for all versions of the Layer are removed. If you want to remove the assignments for a specific Version of the Layer, select Update Assignments instead.                                Log into the UMC and select  Layers > App Layers .                                            Select the App Layer for which you want to remove assignments, and select  Remove Assignments ..                                            In the wizard that opens, select the assigned templates from which you want to remove the Layer. All of the assignments for that layer are listed.                  If the list is long, use the Search field to filter the results.                            On the Confirm and Complete tab, verify the Image Templates selected to receive the new Version, and click  Update Assignments .", 
            "title": "Remove Template Assignments"
        }, 
        {
            "location": "/layer_delete_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Delete Layers\n\n\nDelete Layers\n\n\nWhat type of layer do you want to delete?\n\n\nDelete OS Layers\n            \n\n\nDelete Platform Layers\n            \n\n\nDelete App Layers and versions", 
            "title": "layer_delete_co4"
        }, 
        {
            "location": "/layer_delete_co4/#delete-layers", 
            "text": "What type of layer do you want to delete?  Delete OS Layers               Delete Platform Layers               Delete App Layers and versions", 
            "title": "Delete Layers"
        }, 
        {
            "location": "/layer_os_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Create and update OS Layers\n\n\nCreate and update OS Layers\n\n\nStart by preparing your OS image for use in Unidesk, then import it to create your OSLayer. Then use the instructions listed below to update the layer.\n\n\nPrepare an OS image for Unidesk\n            \n\n\nImport the OS into a new Unidesk Layer\n            \n\n\nUpdate an OS Layer", 
            "title": "layer_os_co4"
        }, 
        {
            "location": "/layer_os_co4/#create-and-update-os-layers", 
            "text": "Start by preparing your OS image for use in Unidesk, then import it to create your OSLayer. Then use the instructions listed below to update the layer.  Prepare an OS image for Unidesk               Import the OS into a new Unidesk Layer               Update an OS Layer", 
            "title": "Create and update OS Layers"
        }, 
        {
            "location": "/layer_os_create_ah4/", 
            "text": "OS Layer\n\n\n\n\nFrom Nutanix AHV\n\n\n\n\nCreate an OS Layer (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Import the OS Image into a new OSLayer\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the \nsupported\n Windows OS that you use for your Layered Images.\n\n\nTo create an OS Layer, you create a virtual machine in Nutanix AHV to serve as the OS Machine, and import it into the new OSLayer.\n\n\nBefore you start\n\n\nAssuming you have \ninstalled\n and \nset up\n the Unidesk Enterprise Layer Manager (ELM\n Install the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV)\n, you'll need to:\n\n\n            \nPrepare\n a clean OSimage.\n        \n\n\n\nImport the OS Image into a new OS\n##Layer\n\n\n            \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n in the Action bar. This opens the Create Operating System Layer Wizard.\n            \nIn the Layer Details tab, specify a \nLayer Name\n and \nVersion\n, both required values. You can enter \nDescriptions\n of the Layer and Version, and change the \nMax Layer Size\n to accommodate the OS you are going to import. \n            \n                \nIn the Connector tab, choose a Nutanix AHV \nConnector Configuration\n that specifies where your clean OS is located. If the configuration you need is not listed, add a \nNew\n one and then select it from this list. For information about adding this Connector Configuration, see \nCreate a Connector Configuration\n.\n            \n            \nIn the OS Disk Details tab, click the \nSelect Virtual Machine\n field. The Virtual Machine field appears. \n            \nClick in the \nVirtual Machine\n field to reveal a list of all VMs. \n            \nSelect a VM from the list, or start by typing the name to filter  the list to VMs that contain the search text, and then select the VM. \n            \n                \nClick \nOK\n. The selected VM is validated to ensure that:\n                \n                    \nThe VM has a single OS disk attached as a SCSI disk. (Attaching the OSdisk as IDE is not supported.)\n                    \nThe OS disk can be downloaded via the storage container where that disk resides. The storage container housing the OS disk:\n                    \n                        \n                            \nDoes \nnot\n need to be the same as the configured storage container.\n                        \n                        \n                            \nMust\n be configured so the ELM is in its white list of clients allowed to perform an NFS mount. If the ELM does \nnot\n have permissions to mount the VM's storage container, you must correct this through the Nutanix UI.\n                        \n                    \n                    \nIf there are problems with the VM or OSDisk, an error is displayed. Otherwise, you are returned to the wizard where the VM's name, and the size of the OS disk are listed.\n                \n            \n            \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console displays a \"Deployable\" status.", 
            "title": "layer_os_create_ah4"
        }, 
        {
            "location": "/layer_os_create_ah4/#create-an-os-layer-nutanix-ahv", 
            "text": "In this article:                                                                                            Before you start                                                    Import the OS Image into a new OSLayer                                                                                       The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the  supported  Windows OS that you use for your Layered Images.  To create an OS Layer, you create a virtual machine in Nutanix AHV to serve as the OS Machine, and import it into the new OSLayer.", 
            "title": "Create an OS Layer (Nutanix AHV)"
        }, 
        {
            "location": "/layer_os_create_ah4/#before-you-start", 
            "text": "Assuming you have  installed  and  set up  the Unidesk Enterprise Layer Manager (ELM  Install the Unidesk Enterprise Layer Manager (ELM) (Nutanix AHV) , you'll need to:               Prepare  a clean OSimage.", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_create_az4/", 
            "text": "OS Layer\n\n\n\n\nFrom Azure\n\n\n\n\nCreate an OS Layer (Azure)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Create an OS Machine in Azure\n                        \n                        \n Prepare the OS Image (Windows 2012 R2)\n                        \n                        \n Import the OS Image into a new OSLayer\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you need.\n\n\nThe OS Layer is created using a virtual machine in your infrastructure and the Windows Operating System that you want to use for your Layered Images. You can import the OS from your Azure environment or from the Network File Share attached to the Unidesk ELM. \n\n\nNote: The OSimage must be created from a Microsoft ISO, rather than an existing template. \n\n\nBefore you start\n\n\n            \nDeploy ELM from the Microsoft Azure Marketplace\n            \n            \nConfigure a Network File Share\n            \n        \n\n\n\nCreate an OS Machine in Azure\n\n\nTo create an OS Layer, you create a virtual machine in Azure, prepare the OS in Azure, and then import the resulting OS Disk into Unidesk to create the OSLayer.\n\n\n            \n                \nIn the \nMicrosoft Azure portal\n, create a new VM from the \"Windows Server Remote Desktop Session Host Windows Server 2012 R2\" image (\nNew > Compute > Virtual Machine > From Gallery > Windows Server Remote Desktop Session Host Windows Server 2012 R2\n).\n            \n            \n                \nChoose \nResource Manager\n from the \nSelect a deployment model\n option list and click \nCreate\n. \n                \nNote:\n Unidesk for Azure does not support the \nClassic\n option from the \nSelect a deployment model\n option list.\n            \n            \n                \nComplete the Create virtual machine wizard to create the OS machine.\n                \n                    \nThe name of the new server machine you specify must comply with Azure naming conventions. \n                    \nThe User name and Password of the new server machine you specify becomes the User name  and Password of any Packaging Machines that are subsequently created containing this OS Layer.\n                    \nBe sure that the value for the Resource group location matches the Storage account location that you configured in the Platform Connector Configuration.\n                \n            \n        \n\n\n\nPrepare the OS Image (Windows 2012 R2)\n\n\n            \n                \nAfter the new server machine has been successfully created, reboot the machine, and log into it remotely.\n            \n            \n                \nTurn off Windows Automatic Updates (\nControl Panel > System and Security > Windows Update > Change Settings\n).\n            \n            \n                \nFrom the new machine, open a web browser, navigate to the \nUnidesk Download Center\n and download the Unidesk OS Machine Tools. \n            \n            \n                \nRename or delete the \"Unattend.wsf\" file  in the C:\\Windows\\OEM directory. \n                \nNote:\n Do \nnot\n use the Unattend.exe, as this is \nnot\n needed and will cause issues with Azure.\n            \n            \n                \nOn the new server machine, run the setup_x64.exe file to install the Unidesk drivers on the OS Machine.\n            \n            \n                \nEnsure that this machine is \nnot\n joined to a domain.\n                \nNote:\n Session Hosts will join a domain when you provision them from a Layered Image. \n            \n            \n                \nOptionally, you can shut down the new OS machine.\n                \nNotes:\n                \n                    \nBefore you can import the OS Disk (as described in the following section), the state of the OS Machine must be either Stopped, Stopped (deallocated), or Running. Unidesk cannot import the OS Disk if the OS machine is in a Starting or Updating state. \n                    \nYou must perform any pending reboots to the OS machine before importing the OSDisk.\n                \n            \n        \n\n\n\nImport the OS Image into a new OS\n##Layer\n\n\nTo import an OS disk into Unidesk:\n\n\n            \n                \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n in the Action bar. This opens the Create Operating System Layer Wizard.\n            \n            \n                \nIn the Layer Details tab, specify a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can enter \nDescriptions\n of the Layer and Version, and change the \nMax Layer Size\n to accommodate the OS you are going to import. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the Connector tab, choose a \nConnector Configuration\n for the platform where you'll be publishing your Layered Images. If the configuration you need is not listed, add a \nNew\n one and select it from this list. For information about creating a new Platform Connector Configuration, see \nCreate a Connector Configuration\n.\n                \nNote:\n Alternatively, if you have a *.vhd file of the OS disk in your Network File Share, you can select the file share instead of a Unidesk Connector.\n            \n            \n                \nIn the Import Disk Details tab, enter the name of the Azure Resource Group that contains the OS disk and the name of the OS disk, both required values.\n                \nNote:\n If you specified a file share on the Connector tab, enter the name of the OS disk residing on that file share or click \nBrowse\n to select it. \n            \n            \n                \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \n            \n                \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n            \n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console displays a \"Deployable\" status.\n\n\nReference: Create Operating System Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for, for example, 2012_64_OS. Layer Names can be from 1 to 100 characters in length.\n            \nLayer Description\n - (Optional) Enter a description of the OS Layer.\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the OSLayer. It may be useful to include the date in the version name. Version names can be from 1 to 100 characters in length. \n            \n            \nVersion Description\n - (Optional) Enter a description of the OS version.\n            \nMax Layer Size\n - (Optional) Lets you specify how large the OS is that you are going to import. The default is 30 GB. \n            \nSelect a Connector Configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connect, select it and click \nEdit\n.\n            \nResource Group\n - (Required) The name of the Azure Resource Group containing the OS Import disk.\n            \nVirtual Machine Name\n - (Required) The name of the server machine you created in Azure.\n            \nOS Disk\n - (Required) If you chose a file share in the Connector tab, enter the path to the *.vhd file here or click \nBrowse\n to select it.\n            \nIcon Assignment\n - You can select a default image or browse to select an image of your own. Icon images must have a .jpg or a .png file format.", 
            "title": "layer_os_create_az4"
        }, 
        {
            "location": "/layer_os_create_az4/#create-an-os-layer-azure", 
            "text": "In this article:                                                                                            Before you start                                                    Create an OS Machine in Azure                                                    Prepare the OS Image (Windows 2012 R2)                                                    Import the OS Image into a new OSLayer                                                                                       The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you need.  The OS Layer is created using a virtual machine in your infrastructure and the Windows Operating System that you want to use for your Layered Images. You can import the OS from your Azure environment or from the Network File Share attached to the Unidesk ELM.   Note: The OSimage must be created from a Microsoft ISO, rather than an existing template.", 
            "title": "Create an OS Layer (Azure)"
        }, 
        {
            "location": "/layer_os_create_az4/#before-you-start", 
            "text": "Deploy ELM from the Microsoft Azure Marketplace                           Configure a Network File Share", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_create_az4/#create-an-os-machine-in-azure", 
            "text": "To create an OS Layer, you create a virtual machine in Azure, prepare the OS in Azure, and then import the resulting OS Disk into Unidesk to create the OSLayer.                                In the  Microsoft Azure portal , create a new VM from the \"Windows Server Remote Desktop Session Host Windows Server 2012 R2\" image ( New > Compute > Virtual Machine > From Gallery > Windows Server Remote Desktop Session Host Windows Server 2012 R2 ).                                            Choose  Resource Manager  from the  Select a deployment model  option list and click  Create .                   Note:  Unidesk for Azure does not support the  Classic  option from the  Select a deployment model  option list.                                            Complete the Create virtual machine wizard to create the OS machine.                                       The name of the new server machine you specify must comply with Azure naming conventions.                       The User name and Password of the new server machine you specify becomes the User name  and Password of any Packaging Machines that are subsequently created containing this OS Layer.                      Be sure that the value for the Resource group location matches the Storage account location that you configured in the Platform Connector Configuration.", 
            "title": "Create an OS Machine in Azure"
        }, 
        {
            "location": "/layer_os_create_az4/#prepare-the-os-image-windows-2012-r2", 
            "text": "After the new server machine has been successfully created, reboot the machine, and log into it remotely.                                            Turn off Windows Automatic Updates ( Control Panel > System and Security > Windows Update > Change Settings ).                                            From the new machine, open a web browser, navigate to the  Unidesk Download Center  and download the Unidesk OS Machine Tools.                                             Rename or delete the \"Unattend.wsf\" file  in the C:\\Windows\\OEM directory.                   Note:  Do  not  use the Unattend.exe, as this is  not  needed and will cause issues with Azure.                                            On the new server machine, run the setup_x64.exe file to install the Unidesk drivers on the OS Machine.                                            Ensure that this machine is  not  joined to a domain.                  Note:  Session Hosts will join a domain when you provision them from a Layered Image.                                             Optionally, you can shut down the new OS machine.                  Notes:                                       Before you can import the OS Disk (as described in the following section), the state of the OS Machine must be either Stopped, Stopped (deallocated), or Running. Unidesk cannot import the OS Disk if the OS machine is in a Starting or Updating state.                       You must perform any pending reboots to the OS machine before importing the OSDisk.", 
            "title": "Prepare the OS Image (Windows 2012 R2)"
        }, 
        {
            "location": "/layer_os_create_az4/#reference-create-operating-system-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for, for example, 2012_64_OS. Layer Names can be from 1 to 100 characters in length.              Layer Description  - (Optional) Enter a description of the OS Layer.                               Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the OSLayer. It may be useful to include the date in the version name. Version names can be from 1 to 100 characters in length.                            Version Description  - (Optional) Enter a description of the OS version.              Max Layer Size  - (Optional) Lets you specify how large the OS is that you are going to import. The default is 30 GB.               Select a Connector Configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connect, select it and click  Edit .              Resource Group  - (Required) The name of the Azure Resource Group containing the OS Import disk.              Virtual Machine Name  - (Required) The name of the server machine you created in Azure.              OS Disk  - (Required) If you chose a file share in the Connector tab, enter the path to the *.vhd file here or click  Browse  to select it.              Icon Assignment  - You can select a default image or browse to select an image of your own. Icon images must have a .jpg or a .png file format.", 
            "title": "Reference: Create Operating System Layer Wizard values"
        }, 
        {
            "location": "/layer_os_create_co4/", 
            "text": "OS Layer\n\n\n\n\nCreate an OS Layer\n\n\n\n\nCreate an OS Layer\n\n\nWhere are you importing the OS from?\n\n\nFrom vSphere\n            \n\n\nFrom Azure\n            \n\n\nFrom Nutanix AHV\n            \n\n\nFrom XenServer\n            \n\n\nFrom NFS", 
            "title": "layer_os_create_co4"
        }, 
        {
            "location": "/layer_os_create_co4/#create-an-os-layer", 
            "text": "Where are you importing the OS from?  From vSphere               From Azure               From Nutanix AHV               From XenServer               From NFS", 
            "title": "Create an OS Layer"
        }, 
        {
            "location": "/layer_os_create_fs4/", 
            "text": "OS Layer\n\n\n\n\nFrom NFS\n\n\n\n\nCreate an OS Layer (network file share)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \nCreate an OS Machine\n                        \n                        \nPrepare the OS\n                        \n                        \nImport the OS Disk\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images. You can import the OS from the Network File Share attached to the Unidesk ELM. \n\n\nCreate an OS Machine\n\n\nTo create an OS Layer:\n\n\n            \nPrepare the OS in your hypervisor\n            \nCreate a VM in your hypervisor to serve as the OS Machine.\n            \nImport the resulting OS Disk into Unidesk to create the OSLayer.\n        \n\n\n\nPrepare the OS\n\n\nTo prepare the OS image:\n\n\n            \n                \nAfter the new server machine has been successfully created, reboot the machine, and log into it remotely.\n            \n            \n                \nTurn off Windows Automatic Updates (\nControl Panel -> System and Security -> Windows Update -> Change Settings\n).\n            \n            \n                \nFrom the new machine, open a web browser, navigate to the \nUnidesk Download Center\n for your platform, and download the Unidesk OS Machine Tools. \n            \n            \n                \nRename or delete the \"Unattend.wsf\" file in the C:\\Windows\\OEM directory.\n            \n            \n                \nOn the new server machine, run the setup_x64.exe file to install the Unidesk drivers on the OS Machine.\n            \n            \n                \nEnsure this machine is \nnot\n joined to a domain.\n                \nNote:\n Session Hosts will join a domain when you provision them from a Layered Image. \n            \n            \n                \n(Optional) Shut down the new OS Machine.\n                \nNotes:\n                \n                    \nYou must perform any pending reboots to the OS machine before importing the OSDisk.\n                \n            \n            \nCopy the OS image to the Network File Share for importing into a new OSLayer. \n        \n\n\n\nImport the OS Image\n\n\nTo import an OS disk into Unidesk:\n\n\n            \n                \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n in the Action bar. This opens the Create Operating System Layer Wizard.\n            \n            \n                \nIn the Layer Details tab, specify a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can enter \nDescriptions\n of the Layer and Version, and change the \nMax Layer Size\n to accommodate the OS you are going to import. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the Connector tab, choose  \nNetwork File Share. \n            \n            \n                \nIn the Import Disk Details tab, enter the required values. Enter the name of the OS disk residing on the file share, or click \nBrowse\n to select it. \n            \n            \n                \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \n            \n                \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n            \n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console displays a Deployable status.\n\n\nReference: Create Operating System Layer Wizard values\n\n\n            \nLayer Name\n - (Required) A name that will let you know what app(s) the layer will be used for, for example, 2012_64_OS. Layer Names can be from 1 to 100 characters in length.\n            \nLayer Description\n - (Optional) Enter a description of the OS Layer.\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the OSLayer. It may be useful to include the date in the version name. Version names can be from 1 to 100 characters in length. \n            \n            \nVersion Description\n - (Optional) Enter a description of the OS version.\n            \nMax Layer Size\n - (Optional) Lets you specify how large the OS is that you are going to import. The default is 30 GB. \n            \nSelect a Connector Configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connect, select it and click \nEdit\n.\n            \nResource Group\n - (Required) The name of the Azure Resource Group containing the OS Import disk.\n            \nVirtual Machine Name\n - (Required) The name of the server machine you created in Azure.\n            \nOS Disk\n - (Required) If you chose a file share in the Connector tab, enter the path to the *.vhd file here or click \nBrowse\n to select it.\n            \nIcon Assignment\n - You can select a default image or browse to select an image of your own. Icon images must have a .jpg or a .png file format.", 
            "title": "layer_os_create_fs4"
        }, 
        {
            "location": "/layer_os_create_fs4/#create-an-os-layer-network-file-share", 
            "text": "In this article:                                                                                           Create an OS Machine                                                   Prepare the OS                                                   Import the OS Disk                                                                                       The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images. You can import the OS from the Network File Share attached to the Unidesk ELM.", 
            "title": "Create an OS Layer (network file share)"
        }, 
        {
            "location": "/layer_os_create_fs4/#create-an-os-machine", 
            "text": "To create an OS Layer:               Prepare the OS in your hypervisor              Create a VM in your hypervisor to serve as the OS Machine.              Import the resulting OS Disk into Unidesk to create the OSLayer.", 
            "title": "Create an OS Machine"
        }, 
        {
            "location": "/layer_os_create_fs4/#prepare-the-os", 
            "text": "To prepare the OS image:                                After the new server machine has been successfully created, reboot the machine, and log into it remotely.                                            Turn off Windows Automatic Updates ( Control Panel -> System and Security -> Windows Update -> Change Settings ).                                            From the new machine, open a web browser, navigate to the  Unidesk Download Center  for your platform, and download the Unidesk OS Machine Tools.                                             Rename or delete the \"Unattend.wsf\" file in the C:\\Windows\\OEM directory.                                            On the new server machine, run the setup_x64.exe file to install the Unidesk drivers on the OS Machine.                                            Ensure this machine is  not  joined to a domain.                  Note:  Session Hosts will join a domain when you provision them from a Layered Image.                                             (Optional) Shut down the new OS Machine.                  Notes:                                       You must perform any pending reboots to the OS machine before importing the OSDisk.                                            Copy the OS image to the Network File Share for importing into a new OSLayer.", 
            "title": "Prepare the OS"
        }, 
        {
            "location": "/layer_os_create_fs4/#import-the-os-image", 
            "text": "To import an OS disk into Unidesk:                                In the Unidesk ELM, select  Layers > OS Layers  and click  Create OS Layer  in the Action bar. This opens the Create Operating System Layer Wizard.                                            In the Layer Details tab, specify a  Layer Name  and  Version , both required values. Optionally, you can enter  Descriptions  of the Layer and Version, and change the  Max Layer Size  to accommodate the OS you are going to import. For details, see more about these values  below .                                            In the Connector tab, choose   Network File Share.                                             In the Import Disk Details tab, enter the required values. Enter the name of the OS disk residing on the file share, or click  Browse  to select it.                                             In the Icon Assignment tab, select an icon image to assign to this Layer.                                            In the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click  Create Layer . If you enter comments, they appear in the Information view Audit History.                        When the task completes, the new OS Layer in the Unidesk Management Console displays a Deployable status.", 
            "title": "Import the OS Image"
        }, 
        {
            "location": "/layer_os_create_fs4/#reference-create-operating-system-layer-wizard-values", 
            "text": "Layer Name  - (Required) A name that will let you know what app(s) the layer will be used for, for example, 2012_64_OS. Layer Names can be from 1 to 100 characters in length.              Layer Description  - (Optional) Enter a description of the OS Layer.                               Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the OSLayer. It may be useful to include the date in the version name. Version names can be from 1 to 100 characters in length.                            Version Description  - (Optional) Enter a description of the OS version.              Max Layer Size  - (Optional) Lets you specify how large the OS is that you are going to import. The default is 30 GB.               Select a Connector Configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connect, select it and click  Edit .              Resource Group  - (Required) The name of the Azure Resource Group containing the OS Import disk.              Virtual Machine Name  - (Required) The name of the server machine you created in Azure.              OS Disk  - (Required) If you chose a file share in the Connector tab, enter the path to the *.vhd file here or click  Browse  to select it.              Icon Assignment  - You can select a default image or browse to select an image of your own. Icon images must have a .jpg or a .png file format.", 
            "title": "Reference: Create Operating System Layer Wizard values"
        }, 
        {
            "location": "/layer_os_create_vs4/", 
            "text": "OS Layer\n\n\n\n\nFrom vSphere\n\n\n\n\nCreate an OS Layer (vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Prepare your OS Image\n                        \n                        \n Import the OS Image into a new OSLayer\n                        \n                        \n Reference: Create OS Wizard values\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nTo create an OS Layer, you need to create a virtual machine in vSphere to serve as the OS Machine, download the OS to a network file share, and then import theOS into Unidesk to create the OSLayer.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer, you'll need to:\n\n\n            \nDeploy the Unidesk ELM\n            \n            \nConfigure a Network File Share\n            \n        \n\n\n\nPrepare your OS Image\n\n\n            \nIn vSphere, create a Windows Server 2012 R2 VM, specifying a network adaptor of \nVMXNet3\n.\n            \nLog into the new VM.\n            \nCheck to see if the operating system is configured with a VMXNet3 card, and if not, change the setting to VMXNet3. Then restart the system and ensure the new network adapter setting is working.\n            \nTurn off Windows Automatic Updates.\n            \nDownload the \nUnidesk OS Machine Tools\n. \n            \nIf you are not going to be publishing to PVS or Azure, you should run the Unattend.exe to build your unattend.xlm file for use in machine creation.\n            \nDouble-click the executable to copy the scripts and files to \nC:\\Windows\\Setup\\scripts\n.\n            \nCreate a snapshot of the VM.\n            \nFrom the \nC:\\Windows\\Setup\\scripts\n folder, run the included Setup_x64.exe file on the VM to install the Unidesk tools.\n            \nShut down the new VM. \n            \nLog into a system that has access to the ELM's Network File Share.\n            \n                \nOpen the vCenter console and find VM.\n            \n            \nRight-click the VM and select \nTemplate > Export OVF Template\n. This preserves any snapshots you may have done.\n            \nIn the wizard that opens, select the name of the file that will be created, and the directory in which you would like to store the file and format: \"Folder of files (OVF)\". Files are downloaded to the Network File Share.\n        \n\n\n\nImport the OS Image into a new OS\n##Layer\n\n\n            \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n in the Action bar. This opens the Create Operating System Layer Wizard.\n            \nIn the Layer Details tab, specify a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can enter \nDescriptions\n of the Layer and Version, and change the \nMax Layer Size\n to accommodate the OS you are going to import. For details, see more about these values \nbelow\n.\n            \nIn the Connector tab, select the file share where you downloaded the vSphere OVF file that you exported in the above procedure.\n            \nIn the OS Disk Details tab, click \nBrowse\n to select the  OVF file that you downloaded to your file share.\n            \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console displays a \"Deployable\" status.\n\n\nReference: Create OS Wizard values\n\n\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nMax Layer Size\n - (Optional) Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.\n            \nSelect a Connector configuration\n - (Required) Specify a Unidesk Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to vSphere or PVS, select the vSphere or PVS connector with the credentials required to access the account. If the Connector Configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Connector configuration, select it and click \nEdit\n.\n            \nPackaging Disk Filename\n - (Required) The name of the Packaging Machine you created in your environment.", 
            "title": "layer_os_create_vs4"
        }, 
        {
            "location": "/layer_os_create_vs4/#create-an-os-layer-vsphere", 
            "text": "In this article:                                                                                            Before you start                                                    Prepare your OS Image                                                    Import the OS Image into a new OSLayer                                                    Reference: Create OS Wizard values                                                                                       The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.  To create an OS Layer, you need to create a virtual machine in vSphere to serve as the OS Machine, download the OS to a network file share, and then import theOS into Unidesk to create the OSLayer.", 
            "title": "Create an OS Layer (vSphere)"
        }, 
        {
            "location": "/layer_os_create_vs4/#before-you-start", 
            "text": "Before you can create an OS Layer, you'll need to:               Deploy the Unidesk ELM                           Configure a Network File Share", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_create_vs4/#prepare-your-os-image", 
            "text": "In vSphere, create a Windows Server 2012 R2 VM, specifying a network adaptor of  VMXNet3 .              Log into the new VM.              Check to see if the operating system is configured with a VMXNet3 card, and if not, change the setting to VMXNet3. Then restart the system and ensure the new network adapter setting is working.              Turn off Windows Automatic Updates.              Download the  Unidesk OS Machine Tools .               If you are not going to be publishing to PVS or Azure, you should run the Unattend.exe to build your unattend.xlm file for use in machine creation.              Double-click the executable to copy the scripts and files to  C:\\Windows\\Setup\\scripts .              Create a snapshot of the VM.              From the  C:\\Windows\\Setup\\scripts  folder, run the included Setup_x64.exe file on the VM to install the Unidesk tools.              Shut down the new VM.               Log into a system that has access to the ELM's Network File Share.                               Open the vCenter console and find VM.                           Right-click the VM and select  Template > Export OVF Template . This preserves any snapshots you may have done.              In the wizard that opens, select the name of the file that will be created, and the directory in which you would like to store the file and format: \"Folder of files (OVF)\". Files are downloaded to the Network File Share.", 
            "title": "Prepare your OS Image"
        }, 
        {
            "location": "/layer_os_create_xs4/", 
            "text": "OS Layer\n\n\n\n\nFrom XenServer\n\n\n\n\nCreate an OS Layer (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Prepare your OS Image\n                        \n                        \n Import the OS Image into a new OSLayer\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nTo create an OS Layer, you create a virtual machine in XenServer to serve as the OS Machine, then export the OS to the ELM's network file share, and  import the OS into Unidesk to create the OSLayer.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer, you'll need to:\n\n\n            \nDeploy the Unidesk ELM\n            \n            \nConfigure a Network File Share for the ELM\n            \n        \n\n\n\nPrepare your OS Image\n\n\n            \nIn XenServer, create a Windows Server 2012 R2 VM, specifying a valid network adaptor.\n            \nLog into the new VM.\n            \nTurn off Windows Automatic Updates.\n            \nDownload the \nUnidesk OS Machine Tools\n. \n            \nIf you are not going to be publishing to PVS or Azure, you should run the Unattend.exe to build your unattend.xlm file for use in machine creation.\n            \nDouble-click the executable to copy the scripts and files to \nC:\\Windows\\Setup\\scripts\n.\n            \nCreate a snapshot of the VM.\n            \nFrom the \nC:\\Windows\\Setup\\scripts\n folder, run the included Setup_x64.exe file on the VM to install the Unidesk tools.\n            \nShut down the new VM. \n            \nLog into a system that has access to the ELM's Network File Share.\n            \nLog into XenCenter and select the Infrastructure view.\n            \nShut down the VM, then right-click the VM and choose \nExport\n.\n            \n                \nFor the Location value, select the ELM's \nNetwork File Share\n. \n            \n            \n                \nFor the Format, choose the \nOVF/OVA Package\n.\n            \n            \n                \nComplete the wizard, no specific values required for the remaining choices. The Export runs.\n            \n            \n                \nTo see the status of the Export, click the \nNotifications\n view in the bottom left corner of the XenCenter UI.\n            \n            \nIn the wizard that opens, select the name of the file that will be created, the directory in which you would like to store the file, and the format \nFolder of files (OVF)\n. The files are downloaded to the Network File Share.\n        \n\n\n\nImport the OS Image into a new OS\n##Layer\n\n\n            \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n in the Action bar. This opens the Create Operating System Layer Wizard.\n            \nIn the Layer Details tab, specify a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can enter \nDescriptions\n of the Layer and Version, and change the \nMax Layer Size\n to accommodate the OS you are going to import. For details, see more about these values \nbelow\n.\n            \nIn the Connector tab, select the Network File Share where you downloaded the XenServer .VHD files.\n            \nIn the OS Disk Details tab, click \nBrowse\n to select the  *.VHD file that you downloaded to your file share.\n            \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console displays a \"Deployable\" status.", 
            "title": "layer_os_create_xs4"
        }, 
        {
            "location": "/layer_os_create_xs4/#create-an-os-layer-xenserver", 
            "text": "In this article:                                                                                            Before you start                                                    Prepare your OS Image                                                    Import the OS Image into a new OSLayer                                                                                       The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.  To create an OS Layer, you create a virtual machine in XenServer to serve as the OS Machine, then export the OS to the ELM's network file share, and  import the OS into Unidesk to create the OSLayer.", 
            "title": "Create an OS Layer (XenServer)"
        }, 
        {
            "location": "/layer_os_create_xs4/#before-you-start", 
            "text": "Before you can create an OS Layer, you'll need to:               Deploy the Unidesk ELM                           Configure a Network File Share for the ELM", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_create_xs4/#prepare-your-os-image", 
            "text": "In XenServer, create a Windows Server 2012 R2 VM, specifying a valid network adaptor.              Log into the new VM.              Turn off Windows Automatic Updates.              Download the  Unidesk OS Machine Tools .               If you are not going to be publishing to PVS or Azure, you should run the Unattend.exe to build your unattend.xlm file for use in machine creation.              Double-click the executable to copy the scripts and files to  C:\\Windows\\Setup\\scripts .              Create a snapshot of the VM.              From the  C:\\Windows\\Setup\\scripts  folder, run the included Setup_x64.exe file on the VM to install the Unidesk tools.              Shut down the new VM.               Log into a system that has access to the ELM's Network File Share.              Log into XenCenter and select the Infrastructure view.              Shut down the VM, then right-click the VM and choose  Export .                               For the Location value, select the ELM's  Network File Share .                                             For the Format, choose the  OVF/OVA Package .                                            Complete the wizard, no specific values required for the remaining choices. The Export runs.                                            To see the status of the Export, click the  Notifications  view in the bottom left corner of the XenCenter UI.                           In the wizard that opens, select the name of the file that will be created, the directory in which you would like to store the file, and the format  Folder of files (OVF) . The files are downloaded to the Network File Share.", 
            "title": "Prepare your OS Image"
        }, 
        {
            "location": "/layer_os_delete_co4/", 
            "text": "Delete Layers\n\n\n\n\nDelete OS Layers\n\n\n\n\nDelete an OS Layer\n\n\nYou can delete an OS Layer or Layer version, as long as it is not being used by another Unidesk Layer, or Image Template. Deleting the Layer itself removes all versions, volumes, and resources from Unidesk, where it is stored.\n\n\nIn this article:\n\n\nBefore you can delete a Layer or Layer Version \n        \n\n\nDelete a Layer or Layer Version\n        \n\n\nBefore you can delete a Layer or Layer Version\n\n\nYou can delete an entire layer or a layer version if it is:\n\n\n            \nNot deployed to an Image Template. \n            \nNot the required OS Layer (or Layer Version) for any compatible App Layers.\n            \nNot a prerequisite for another Layer that is deployed to an Image Template.\n        \n\n\n\nDelete a Layer or Layer Version\n\n\n            \nIn the Unidesk Management Console, select \nLayers\n.\n            \nSelect an OS Layer to delete.\n            \nSelect \nDelete Versions\n in the Action bar. This opens the Delete Version Layer wizard.\n            \nIn the Version Selection tab, select the Version you want to delete, or select the \nDelete Layer\n check box to delete the entire Layer.\n            \nIn the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click \nDelete Versions\n.(missing or bad snippet)", 
            "title": "layer_os_delete_co4"
        }, 
        {
            "location": "/layer_os_delete_co4/#delete-an-os-layer", 
            "text": "You can delete an OS Layer or Layer version, as long as it is not being used by another Unidesk Layer, or Image Template. Deleting the Layer itself removes all versions, volumes, and resources from Unidesk, where it is stored.  In this article:  Before you can delete a Layer or Layer Version            Delete a Layer or Layer Version", 
            "title": "Delete an OS Layer"
        }, 
        {
            "location": "/layer_os_delete_co4/#before-you-can-delete-a-layer-or-layer-version", 
            "text": "You can delete an entire layer or a layer version if it is:               Not deployed to an Image Template.               Not the required OS Layer (or Layer Version) for any compatible App Layers.              Not a prerequisite for another Layer that is deployed to an Image Template.", 
            "title": "Before you can delete a Layer or Layer Version"
        }, 
        {
            "location": "/layer_os_delete_co4/#delete-a-layer-or-layer-version", 
            "text": "In the Unidesk Management Console, select  Layers .              Select an OS Layer to delete.              Select  Delete Versions  in the Action bar. This opens the Delete Version Layer wizard.              In the Version Selection tab, select the Version you want to delete, or select the  Delete Layer  check box to delete the entire Layer.              In the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click  Delete Versions .(missing or bad snippet)", 
            "title": "Delete a Layer or Layer Version"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/", 
            "text": "OS Layer\n\n\n\n\nIn Nutanix AHV\n\n\n\n\nPrepare the OS#Image (Nutanix AHV)\n\n\nThis topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk \nDownload\n page. \n\n\nNotes:\n\n\n            \nThe OS Image should \nnot\n be in a domain. \n            \nThe OS Image should get its IP address from DHCP. \n            \nEnsure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.\n            \nUsing Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image. \n        \n\n\n\nWhich operating system are you using?\n\n\nChoose the operating system you are using for the OS Image: \n\n\n            \nWindows Server 2016 (Session Host)\n            \n            \nWindows Server 2012 R2 (Session Host)\n            \n            \nWindows Server 2008 R2 \n            \n            \nWindows 10\n            \n            \nWindows 7 \n            \n        \n\n\n\nPrepare a Windows Server 2016 image (Session Host)\n\n\nSTEP 1: Set up a Windows Server 2016 OS Image on a virtual machine\n\n\nIn the Prism Console:\n\n\n            \nSelect \nTask > VM\n, and switch to \nTable View\n to see the existing VMs. \n            \nClick \n+Create VM\n in the upper right corner, and enter the specifics about the new VM:\nEnter a \nName\n and add a \nDescription\n.\nSelect the number of \nVCPUs\n.\nSet the \nCores per CPU\n.\nSet \nMemory\n.\nSelect \nDisks\n, and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned. \nEdit the values for the assigned CD-ROM:\nFor Operation, select \nClone from ADSF file\n.\nFor Bus Type, select \nIDE\n.\nEnter the \npath\n to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example: \n/ISOStore/en_windows_16_enterprise_version_1511_x64_dvd_7224901.iso\nClick \nUpdate\n.\nAdd another disk by clicking the \n+Add New Disk\n button:\nSet the Type to \nCDROM\n.\nSet the Operation to \nClone from ADSF file\n.\nSet the Bus Type to \nIDE\nEnter the path to the Windows VIRTIO Drivers. For example:\n/ISOStore/virtio-win-0.1.102.iso\nClick \nAdd\n.\nClick the \n+Add New Disk\n button.\nSet the Type to \nDisk\n.\nSet the Operation to \nAllocate on Container.\nSet the Bus Type to \nSCSI\n.\nSelect the Container  you want to use.\nEnter the \nSize\n \nClick \nAdd\n.\nClick \n+Add new Nic\n.\nEnter the \nVLAN Name\n.\nClick \nSave\n.\n            \n                \nPower on the VM:\n                \n                    \nSelect \nTasks > VM\n.\n                    \nSwitch to the Table View to see existing VMs.\n                    \nSelect the VM in the Table, and click \nPower On\n.\n                \n            \n            \n                \nLaunch the Console by selecting the VM and clicking \nLaunch Console\n. When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will \nbegi\nn to install the Windows OS from the ISO disk. \n                \n                    \n                        \n When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.\n                    \n                    \n                        \nSelect the Load Driver option, and select Browse.\n                    \n                    \n                        \nSelect the CD with the virtio-win-0.1.1 drivers.\n                    \n                    \n                        \nSelect the vioscsi folder, and choose the folder for your Windows OS. \n                    \n                    \n                        \nOnce the driver is installed, select the hard drive that you added earlier and finish installing the OS.\n                    \n                \n            \n            \n                \nAfter the OS is installed, manually install the VirtIO drivers:\n                \n                    \n                        \nLaunch Device Manager.\n                    \n                    \n                        \nSelect \nOther Devices\n, right-click \nEthernet Controller\n and choose \nUpdate Driver Software\n.\n                    \n                    \n                        \nBrowse My Computer, and choose the \nVirtIO CD\n. The ethernet drivers are stored in the \nNetKVM\n folder.\n                    \n                \n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n        \n\n\n\nSTEP 2: Copy the Unidesk OS\n###Machine Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select \nEnable\n. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows Server 2012 R2 image (Session Host)\n\n\nSTEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine\n\n\nIn the Prism Console:\n\n\n            \nSelect \nTask > VM\n, and switch to \nTable View\n to see the existing VMs. \n            \nClick \n+Create VM\n in the upper right corner, and enter the specifics about the new VM:\nEnter a \nName\n and add a \nDescription\n.\nSelect the number of \nVCPUs\n.\nSet the \nCores per CPU\n.\nSet \nMemory\n.\nSelect \nDisks\n, and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned. \nEdit the values for the assigned CD-ROM:\nFor Operation, select \nClone from ADSF file\n.\nFor Bus Type, select \nIDE\n.\nEnter the \npath\n to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example: \n/ISOStore/en_windows_12_enterprise_version_1511_x64_dvd_7224901.iso\nClick \nUpdate\n.\nAdd another disk by clicking the \n+Add New Disk\n button:\nSet the Type to \nCDROM\n.\nSet the Operation to \nClone from ADSF file\n.\nSet the Bus Type to \nIDE\nEnter the path to the Windows VIRTIO Drivers. For example:\n/ISOStore/virtio-win-0.1.102.iso\nClick \nAdd\n.\nClick the \n+Add New Disk\n button.\nSet the Type to \nDisk\n.\nSet the Operation to \nAllocate on Container.\nSet the Bus Type to \nSCSI\n.\nSelect the Container  you want to use.\nEnter the \nSize\nClick \nAdd\n.\nClick \n+Add new Nic\n.\nEnter the \nVLAN Name\n.\nClick \nSave\n.\n            \n                \nPower on the VM:\n                \n                    \nSelect \nTasks > VM\n.\n                    \nSwitch to the Table View to see existing VMs.\n                    \nSelect the VM in the Table, and click \nPower On\n.\n                \n            \n            \n                \nLaunch the Console by selecting the VM and clicking \nLaunch Console\n. When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will \nbegi\nn to install the Windows OS from the ISO disk. \n                \n                    \n                        \n When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.\n                    \n                    \n                        \nSelect the Load Driver option, and select Browse.\n                    \n                    \n                        \nSelect the CD with the virtio-win-0.1.1 drivers.\n                    \n                    \n                        \nSelect the vioscsi folder, and choose the folder for your Windows OS. \n                    \n                    \n                        \nOnce the driver is installed, select the hard drive that you added earlier and finish installing the OS.\n                    \n                \n            \n            \n                \nAfter the OS is installed, manually install the VirtIO drivers:\n                \n                    \n                        \nLaunch Device Manager.\n                    \n                    \n                        \nSelect \nOther Devices\n, right-click \nEthernet Controller\n and choose \nUpdate Driver Software\n.\n                    \n                    \n                        \nBrowse My Computer, and choose the \nVirtIO CD\n. The ethernet drivers are stored in the \nNetKVM\n folder.\n                    \n                \n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n        \n\n\n\nSTEP 2: Copy the Unidesk OS\n###Machine Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select \nEnable\n. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 2008 R2 image\n\n\nSTEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine\n\n\nIn the Prism Console:\n\n\n            \nSelect \nTask > VM\n, and switch to \nTable View\n to see the existing VMs. \n            \nClick \n+Create VM\n in the upper right corner, and enter the specifics about the new VM:\nEnter a \nName\n and add a \nDescription\n.\nSelect the number of \nVCPUs\n.\nSet the \nCores per CPU\n.\nSet \nMemory\n.\nSelect \nDisks\n, and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned. \nEdit the values for the assigned CD-ROM:\nFor Operation, select \nClone from ADSF file\n.\nFor Bus Type, select \nIDE\n.\nEnter the \npath\n to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example: \n/ISOStore/en_windows_08_enterprise_version_1511_x64_dvd_7224901.iso\nClick \nUpdate\n.\nAdd another disk by clicking the \n+Add New Disk\n button:\nSet the Type to \nCDROM\n.\nSet the Operation to \nClone from ADSF file\n.\nSet the Bus Type to \nIDE\nEnter the path to the Windows VIRTIO Drivers. For example:\n/ISOStore/virtio-win-0.1.102.iso\nClick \nAdd\n.\nClick the \n+Add New Disk\n button.\nSet the Type to \nDisk\n.\nSet the Operation to \nAllocate on Container.\nSet the Bus Type to \nSCSI\n.\nSelect the Container  you want to use.\nEnter the \nSize\nClick \nAdd\n.\nClick \n+Add new Nic\n.\nEnter the \nVLAN Name\n.\nClick \nSave\n.\n            \n                \nPower on the VM:\n                \n                    \nSelect \nTasks > VM\n.\n                    \nSwitch to the Table View to see existing VMs.\n                    \nSelect the VM in the Table, and click \nPower On\n.\n                \n            \n            \n                \nLaunch the Console by selecting the VM and clicking \nLaunch Console\n. When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will \nbegi\nn to install the Windows OS from the ISO disk. \n                \n                    \n                        \n When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.\n                    \n                    \n                        \nSelect the Load Driver option, and select Browse.\n                    \n                    \n                        \nSelect the CD with the virtio-win-0.1.1 drivers.\n                    \n                    \n                        \nSelect the vioscsi folder, and choose the folder for your Windows OS. \n                    \n                    \n                        \nOnce the driver is installed, select the hard drive that you added earlier and finish installing the OS.\n                    \n                \n            \n            \n                \nAfter the OS is installed, manually install the VirtIO drivers:\n                \n                    \n                        \nLaunch Device Manager.\n                    \n                    \n                        \nSelect \nOther Devices\n, right-click \nEthernet Controller\n and choose \nUpdate Driver Software\n.\n                    \n                    \n                        \nBrowse My Computer, and choose the \nVirtIO CD\n. The ethernet drivers are stored in the \nNetKVM\n folder.\n                    \n                \n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts, see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows Server 2008 R2\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 10 image\n\n\nWhen preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by \nremoving Windows 10 built-in applications\n. If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer. \n\n\nSTEP 1: Set up a Windows 10 image on a virtual machine\n\n\nIn the Prism console:\n\n\n            \n                \nCreate a VM for your OS image.\n                \nImportant:\n When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates: \n                \n                    \n                        \nLog into the VM.\n                    \n                    \nSelect \nComputer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates\n.\n                    \nSet this to \nDisabled\n.\n                \n                \nThe Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nIf using KMSlicensing, run a command window as Administrator, and enter these commands:\nslmgr /skms \nslmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato\n            \n            \nInstall the VMware Tools on the OS image. \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\n                    \n                        \nFor KMS activation, select KMS Server.\n                        \nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\n                        \nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \n                \n                \n                    \nDomain Join\n                    \n                        \nSelect Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\n                        \nYou can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.\n                        \nIf you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \n                \n                \n                    \nLocal Administrator account\n                    \n                        \nYou can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.\n                        \nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account \ncannot\n be preconfigured in the OS Image.\n                        \nYou can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \n                \n                \n                    \nTime Zone\n                    \n                        \nIf your time zone is not listed, you can add it to the \nOther\n box. Be sure to use the \ntime zone\n, \nnot\n the display setting.  \n                    \n                \n                \n                    \nDisabling automatic activation\n                    \n                        \nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.  \n                    \n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose  \nRun as administrator\n. This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.\n            \n            \n                \nFollow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Install .Net Framework 3.5.1\n\n\nThe .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.\n\n\n            \n                \nOn the Start menu, select \nControl Panel > Programs and Features\n.\n            \n            \n                \nIn the left panel select \nTurn Windows features on or off.\n A window opens.\n            \n            \n                \nSelect \n.NET Framework 3.5\n, click \nOK\n, and wait for the installation to complete.\n                \nImportant:\n Even if .NET is already installed, continue with the rest of these steps.\n            \n            \n                \nExit the Control Panel.\n            \n            \n                \nIn Notifications in the right-side of your taskbar, click \nAll Settings\n, and open the Windows 10 Settings app.\n            \n            \n                \nSelect Settings > Update ; Security.\n            \n            \n                \nCheck for updates, and install all updates available.\n            \n            \n                \nExit Settings.\n            \n            \n                \nOpen an administrator-level command prompt, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force\n            \n            \n                \nWait for the command to complete, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force\n            \n            \nExit the command prompt.\n        \n\n\n\nSTEP 6: If using PVS, follow these steps to avoid ghost NICs.\n\n\n            \n                \nEnter the commands:\nset devmgr_show_nonpresent_devices=devmgmt.msc\n            \n            \n                \nRemove any ghost NICs.\n            \n            \n                \nReboot the system.\n            \n        \n\n\n\nSTEP 7: Create a backup copy of the OS Image\n\n\nOnce the OS Image is ready, create a copy of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.\n\n\nSTEP 8: Install the Unidesk software onto the OS Image\n\n\n            \nRun setup_x64.exe from c:\\Windows\\setup\\scripts.\n        \n\n\n\nOnce this is done, you are ready to create a Unidesk Operating System Layer.\n\n\nPrepare a Windows 7 image\n\n\nSTEP 1: Set up a Windows 7 OS Image on a virtual machine\n\n\nIn the Prism console:\n\n\n            \n                \nCreate a VM for your OS Image.\n                \nImportant: When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nMake sure you have installed VMware Tools on the OSimage. \n            \n        \n\n\n\nSTEP 2: Mount or copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts,see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows 2008 R2\nUsing PowerShell for Advanced Domain Join Operations\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: If using PVS, follow these steps to avoid ghost NICs\n\n\n            \nInstall KB2550978 hotfix.\n            \nReboot the VM,\n            \n                \nEnter the commands: \nset devmgr_show_nonpresent_devices=1devmgmt.msc\n            \n            \nRemove any ghost NICs.\n            \nReboot the system.\n        \n\n\n\nSTEP 6: Create a snapshot of the OS Image\n\n\n            \n                \nCreate a snapshot of the OSimage so you can return to this state at any time.\n                \nImportant:\n It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n            \n        \n\n\n\nSTEP 7: Install the Unidesk software onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.", 
            "title": "layer_os_image_prep_ah4"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-the-osimage-nutanix-ahv", 
            "text": "This topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk  Download  page.   Notes:               The OS Image should  not  be in a domain.               The OS Image should get its IP address from DHCP.               Ensure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.              Using Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image.", 
            "title": "Prepare the OS#Image (Nutanix AHV)"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#which-operating-system-are-you-using", 
            "text": "Choose the operating system you are using for the OS Image:                Windows Server 2016 (Session Host)                           Windows Server 2012 R2 (Session Host)                           Windows Server 2008 R2                            Windows 10                           Windows 7", 
            "title": "Which operating system are you using?"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-a-windows-server-2016-image-session-host", 
            "text": "", 
            "title": "Prepare a Windows Server 2016 image (Session Host)"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-1-set-up-a-windows-server-2016-os-image-on-a-virtual-machine", 
            "text": "In the Prism Console:               Select  Task > VM , and switch to  Table View  to see the existing VMs.               Click  +Create VM  in the upper right corner, and enter the specifics about the new VM: Enter a  Name  and add a  Description . Select the number of  VCPUs . Set the  Cores per CPU . Set  Memory . Select  Disks , and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned.  Edit the values for the assigned CD-ROM: For Operation, select  Clone from ADSF file . For Bus Type, select  IDE . Enter the  path  to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example:  /ISOStore/en_windows_16_enterprise_version_1511_x64_dvd_7224901.iso Click  Update . Add another disk by clicking the  +Add New Disk  button: Set the Type to  CDROM . Set the Operation to  Clone from ADSF file . Set the Bus Type to  IDE Enter the path to the Windows VIRTIO Drivers. For example: /ISOStore/virtio-win-0.1.102.iso Click  Add . Click the  +Add New Disk  button. Set the Type to  Disk . Set the Operation to  Allocate on Container. Set the Bus Type to  SCSI . Select the Container  you want to use. Enter the  Size   Click  Add . Click  +Add new Nic . Enter the  VLAN Name . Click  Save .                               Power on the VM:                                       Select  Tasks > VM .                      Switch to the Table View to see existing VMs.                      Select the VM in the Table, and click  Power On .                                                             Launch the Console by selecting the VM and clicking  Launch Console . When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will  begi n to install the Windows OS from the ISO disk.                                                                  When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.                                                                    Select the Load Driver option, and select Browse.                                                                    Select the CD with the virtio-win-0.1.1 drivers.                                                                    Select the vioscsi folder, and choose the folder for your Windows OS.                                                                     Once the driver is installed, select the hard drive that you added earlier and finish installing the OS.                                                                                  After the OS is installed, manually install the VirtIO drivers:                                                                Launch Device Manager.                                                                    Select  Other Devices , right-click  Ethernet Controller  and choose  Update Driver Software .                                                                    Browse My Computer, and choose the  VirtIO CD . The ethernet drivers are stored in the  NetKVM  folder.                                                                                  Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.", 
            "title": "STEP 1: Set up a Windows Server 2016 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select  Enable . Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-5-create-a-snapshot-of-the-os-image", 
            "text": "Once the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.  Important: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-6-install-the-unidesk-tools-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-a-windows-server-2012-r2-image-session-host", 
            "text": "", 
            "title": "Prepare a Windows Server 2012 R2 image (Session Host)"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-1-set-up-a-windows-server-2012-r2-os-image-on-a-virtual-machine", 
            "text": "In the Prism Console:               Select  Task > VM , and switch to  Table View  to see the existing VMs.               Click  +Create VM  in the upper right corner, and enter the specifics about the new VM: Enter a  Name  and add a  Description . Select the number of  VCPUs . Set the  Cores per CPU . Set  Memory . Select  Disks , and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned.  Edit the values for the assigned CD-ROM: For Operation, select  Clone from ADSF file . For Bus Type, select  IDE . Enter the  path  to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example:  /ISOStore/en_windows_12_enterprise_version_1511_x64_dvd_7224901.iso Click  Update . Add another disk by clicking the  +Add New Disk  button: Set the Type to  CDROM . Set the Operation to  Clone from ADSF file . Set the Bus Type to  IDE Enter the path to the Windows VIRTIO Drivers. For example: /ISOStore/virtio-win-0.1.102.iso Click  Add . Click the  +Add New Disk  button. Set the Type to  Disk . Set the Operation to  Allocate on Container. Set the Bus Type to  SCSI . Select the Container  you want to use. Enter the  Size Click  Add . Click  +Add new Nic . Enter the  VLAN Name . Click  Save .                               Power on the VM:                                       Select  Tasks > VM .                      Switch to the Table View to see existing VMs.                      Select the VM in the Table, and click  Power On .                                                             Launch the Console by selecting the VM and clicking  Launch Console . When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will  begi n to install the Windows OS from the ISO disk.                                                                  When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.                                                                    Select the Load Driver option, and select Browse.                                                                    Select the CD with the virtio-win-0.1.1 drivers.                                                                    Select the vioscsi folder, and choose the folder for your Windows OS.                                                                     Once the driver is installed, select the hard drive that you added earlier and finish installing the OS.                                                                                  After the OS is installed, manually install the VirtIO drivers:                                                                Launch Device Manager.                                                                    Select  Other Devices , right-click  Ethernet Controller  and choose  Update Driver Software .                                                                    Browse My Computer, and choose the  VirtIO CD . The ethernet drivers are stored in the  NetKVM  folder.                                                                                  Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.", 
            "title": "STEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select  Enable . Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-5-create-a-snapshot-of-the-os-image_1", 
            "text": "Once the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.  Important: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-6-install-the-unidesk-tools-onto-the-os-image_1", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-a-windows-2008-r2-image", 
            "text": "", 
            "title": "Prepare a Windows 2008 R2 image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-1-set-up-a-windows-server-2008-r2-os-image-on-a-virtual-machine", 
            "text": "In the Prism Console:               Select  Task > VM , and switch to  Table View  to see the existing VMs.               Click  +Create VM  in the upper right corner, and enter the specifics about the new VM: Enter a  Name  and add a  Description . Select the number of  VCPUs . Set the  Cores per CPU . Set  Memory . Select  Disks , and create a VM with three disks. The first CD-ROM is the ISO for the OS, the second CD-ROM is for the Nutanix VIRTIO drivers that allow the Nutanix VM to access the disk where you install the OS. To start, one CD-ROMis assigned.  Edit the values for the assigned CD-ROM: For Operation, select  Clone from ADSF file . For Bus Type, select  IDE . Enter the  path  to your Windows ISO. The path is the combination of the Storage Container and the ISO Name. For example:  /ISOStore/en_windows_08_enterprise_version_1511_x64_dvd_7224901.iso Click  Update . Add another disk by clicking the  +Add New Disk  button: Set the Type to  CDROM . Set the Operation to  Clone from ADSF file . Set the Bus Type to  IDE Enter the path to the Windows VIRTIO Drivers. For example: /ISOStore/virtio-win-0.1.102.iso Click  Add . Click the  +Add New Disk  button. Set the Type to  Disk . Set the Operation to  Allocate on Container. Set the Bus Type to  SCSI . Select the Container  you want to use. Enter the  Size Click  Add . Click  +Add new Nic . Enter the  VLAN Name . Click  Save .                               Power on the VM:                                       Select  Tasks > VM .                      Switch to the Table View to see existing VMs.                      Select the VM in the Table, and click  Power On .                                                             Launch the Console by selecting the VM and clicking  Launch Console . When the VM boots it begins to install the Windows OS from the ISO disk. When the VM boots it will  begi n to install the Windows OS from the ISO disk.                                                                  When asked, \"Where do you want to install Windows?\" notice that even though you added a disk in the VM creation wizard,  there is no disk.                                                                    Select the Load Driver option, and select Browse.                                                                    Select the CD with the virtio-win-0.1.1 drivers.                                                                    Select the vioscsi folder, and choose the folder for your Windows OS.                                                                     Once the driver is installed, select the hard drive that you added earlier and finish installing the OS.                                                                                  After the OS is installed, manually install the VirtIO drivers:                                                                Launch Device Manager.                                                                    Select  Other Devices , right-click  Ethernet Controller  and choose  Update Driver Software .                                                                    Browse My Computer, and choose the  VirtIO CD . The ethernet drivers are stored in the  NetKVM  folder.                                                                                  Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.", 
            "title": "STEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-2-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts, see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows Server 2008 R2                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-5-create-a-snapshot-of-the-os-image_2", 
            "text": "Once the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.  Important: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-6-install-the-unidesk-tools-onto-the-os-image_2", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-a-windows-10-image", 
            "text": "When preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by  removing Windows 10 built-in applications . If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer.", 
            "title": "Prepare a Windows 10 image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-1-set-up-a-windows-10-image-on-a-virtual-machine", 
            "text": "In the Prism console:                                Create a VM for your OS image.                  Important:  When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates:                                                                 Log into the VM.                                           Select  Computer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates .                      Set this to  Disabled .                                   The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            If using KMSlicensing, run a command window as Administrator, and enter these commands: slmgr /skms  slmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato                           Install the VMware Tools on the OS image.", 
            "title": "STEP 1: Set up a Windows 10 image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-2-copy-the-unidesk-tools-onto-the-os-image_1", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation                                               For KMS activation, select KMS Server.                          For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.                          For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                                                                             Domain Join                                               Select Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected.                          You can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.                          If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                                                                             Local Administrator account                                               You can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.                          If you want to add an alternate Administrator account, select Enable and enter the account information. This account  cannot  be preconfigured in the OS Image.                          You can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                                                                             Time Zone                                               If your time zone is not listed, you can add it to the  Other  box. Be sure to use the  time zone ,  not  the display setting.                                                                               Disabling automatic activation                                               Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                                                    Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose   Run as administrator . This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.                                            Follow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-5-install-net-framework-351", 
            "text": "The .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.                                On the Start menu, select  Control Panel > Programs and Features .                                            In the left panel select  Turn Windows features on or off.  A window opens.                                            Select  .NET Framework 3.5 , click  OK , and wait for the installation to complete.                  Important:  Even if .NET is already installed, continue with the rest of these steps.                                            Exit the Control Panel.                                            In Notifications in the right-side of your taskbar, click  All Settings , and open the Windows 10 Settings app.                                            Select Settings > Update ; Security.                                            Check for updates, and install all updates available.                                            Exit Settings.                                            Open an administrator-level command prompt, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force                                            Wait for the command to complete, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force                           Exit the command prompt.", 
            "title": "STEP 5: Install .Net Framework 3.5.1"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-6-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Enter the commands: set devmgr_show_nonpresent_devices=devmgmt.msc                                            Remove any ghost NICs.                                            Reboot the system.", 
            "title": "STEP 6: If using PVS, follow these steps to avoid ghost NICs."
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-7-create-a-backup-copy-of-the-os-image", 
            "text": "Once the OS Image is ready, create a copy of it so you can return to this state at any time.  Important: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.", 
            "title": "STEP 7: Create a backup copy of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-8-install-the-unidesk-software-onto-the-os-image", 
            "text": "Run setup_x64.exe from c:\\Windows\\setup\\scripts.           Once this is done, you are ready to create a Unidesk Operating System Layer.", 
            "title": "STEP 8: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#prepare-a-windows-7-image", 
            "text": "", 
            "title": "Prepare a Windows 7 image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-1-set-up-a-windows-7-os-image-on-a-virtual-machine", 
            "text": "In the Prism console:                                Create a VM for your OS Image.                  Important: When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            Make sure you have installed VMware Tools on the OSimage.", 
            "title": "STEP 1: Set up a Windows 7 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-2-mount-or-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Mount or copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_4", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts,see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows 2008 R2 Using PowerShell for Advanced Domain Join Operations                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_4", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-5-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Install KB2550978 hotfix.              Reboot the VM,                               Enter the commands:  set devmgr_show_nonpresent_devices=1devmgmt.msc                           Remove any ghost NICs.              Reboot the system.", 
            "title": "STEP 5: If using PVS, follow these steps to avoid ghost NICs"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-6-create-a-snapshot-of-the-os-image", 
            "text": "Create a snapshot of the OSimage so you can return to this state at any time.                  Important:  It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 6: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_ah4/#step-7-install-the-unidesk-software-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 7: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_az4/", 
            "text": "OS Layer\n\n\n\n\nIn Azure\n\n\n\n\nPrepare the OS Image (Azure)\n\n\nThis topic explains how to prepare an OS Image for the Unidesk environment. \n\n\nPrepare a Windows 2012 R2 image (Session Host)\n\n\nThis topic explains how to prepare an OS Image for Session Hosts in the Unidesk environment. \n\n\nNotes:\n\n\n            \nThe OS Image should \nnot\n be in a domain.\n            \nThe OS Image should get its IP address from DHCP.\n            \nEnsure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools. \n        \n\n\n\nSTEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine\n\n\n            \nIn the Azure Portal, create a new VM from the \"Windows Server Remote Desktop Session Host Windows Server 2012 R2\" image (\nNew > Compute > Virtual Machine > From Gallery > Windows  Server Remote Desktop Session Host Windows Server 2012 R2\n). \n            \nWhen specifying the Size of the virtual machine, we recommend you select A2 or larger.\n            \nImportant:\n When specifying the Cloud Service, select the same Cloud Service that contains your (Undefined variable: Unidesk.MA).\n            \nSelect the same Storage Account that contains your appliances, unless your appliances are in \nPremium Storage\n, in which case you must use a \nStandard Storage\n group. \n            \nLog into the new VM, open a Windows PowerShell window, and run the \nEnable-PSRemoting\n command.\n            \nRestart the new VM.\n        \n\n\n\nSTEP 2: Apply Windows Updates\n\n\n            \n                \nApply all Windows Updates to the image so that it is at the most current Microsoft patch level and complete any reboot processes that Windows Updates may require.\n            \n        \n\n\n\nSTEP 3: Copy the Unidesk Tools onto the OS Image\n\n\n            \nCopy the Unidesk_OS_Machine_Tools RAR file onto the OS Image. You can find these tools in the Unidesk Download center.\n            \nRun the RAR file. This copies the tools to the C:windows\\setup\\scripts directory.\n        \n\n\n\nSTEP 4: Install the Unidesk tools onto the OS Image\n\n\n            \n                \nIn the c:\\Windows\\Setup\\Scripts folder, run Unidesk setup_x64.exe.\n            \n            \n                \nThe installation prompts for the location of the Management Appliance \nIPaddress\n and the location of the unattend.xml file (the default location is c:\\windows\\panther).\n                \nNote: Do \nnot\n run the UnattendBuilder included with the tools. \n            \n        \n\n\n\nSTEP 5: Run NGen\n\n\nAbout Microsoft NGen operations\n\n\nNGen is the Microsoft \"Native Image Generator\". It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nForce an NGen operation to the foreground\n\n\nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible.\n\n\n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \n                            \nEnsure that all NGen processes have run to completion. Optionally, you can now shut down the OS Image VM.\n                        \n                    \n                \n\n\n\nOnce you have completed these steps, you are ready to \ncreate a Unidesk Operating System Layer\n.", 
            "title": "layer_os_image_prep_az4"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#prepare-the-os-image-azure", 
            "text": "This topic explains how to prepare an OS Image for the Unidesk environment.", 
            "title": "Prepare the OS Image (Azure)"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#prepare-a-windows-2012-r2-image-session-host", 
            "text": "This topic explains how to prepare an OS Image for Session Hosts in the Unidesk environment.   Notes:               The OS Image should  not  be in a domain.              The OS Image should get its IP address from DHCP.              Ensure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.", 
            "title": "Prepare a Windows 2012 R2 image (Session Host)"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#step-1-set-up-a-windows-server-2012-r2-os-image-on-a-virtual-machine", 
            "text": "In the Azure Portal, create a new VM from the \"Windows Server Remote Desktop Session Host Windows Server 2012 R2\" image ( New > Compute > Virtual Machine > From Gallery > Windows  Server Remote Desktop Session Host Windows Server 2012 R2 ).               When specifying the Size of the virtual machine, we recommend you select A2 or larger.              Important:  When specifying the Cloud Service, select the same Cloud Service that contains your (Undefined variable: Unidesk.MA).              Select the same Storage Account that contains your appliances, unless your appliances are in  Premium Storage , in which case you must use a  Standard Storage  group.               Log into the new VM, open a Windows PowerShell window, and run the  Enable-PSRemoting  command.              Restart the new VM.", 
            "title": "STEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#step-2-apply-windows-updates", 
            "text": "Apply all Windows Updates to the image so that it is at the most current Microsoft patch level and complete any reboot processes that Windows Updates may require.", 
            "title": "STEP 2: Apply Windows Updates"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#step-3-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Copy the Unidesk_OS_Machine_Tools RAR file onto the OS Image. You can find these tools in the Unidesk Download center.              Run the RAR file. This copies the tools to the C:windows\\setup\\scripts directory.", 
            "title": "STEP 3: Copy the Unidesk Tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#step-4-install-the-unidesk-tools-onto-the-os-image", 
            "text": "In the c:\\Windows\\Setup\\Scripts folder, run Unidesk setup_x64.exe.                                            The installation prompts for the location of the Management Appliance  IPaddress  and the location of the unattend.xml file (the default location is c:\\windows\\panther).                  Note: Do  not  run the UnattendBuilder included with the tools.", 
            "title": "STEP 4: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_az4/#step-5-run-ngen", 
            "text": "About Microsoft NGen operations  NGen is the Microsoft \"Native Image Generator\". It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  Force an NGen operation to the foreground  Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible.                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                                                        Ensure that all NGen processes have run to completion. Optionally, you can now shut down the OS Image VM.                                                                 Once you have completed these steps, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 5: Run NGen"
        }, 
        {
            "location": "/layer_os_image_prep_co4/", 
            "text": "OS Layer\n\n\n\n\nPrepare an OS image \n\n\n\n\nPrepare an OS image\n\n\nOn which platform are you preparing the OS?\n\n\nIn vSphere\n            \n\n\nIn Azure\n            \n\n\nIn Nutanix AHV\n            \n\n\nIn XenServer", 
            "title": "layer_os_image_prep_co4"
        }, 
        {
            "location": "/layer_os_image_prep_co4/#prepare-an-os-image", 
            "text": "On which platform are you preparing the OS?  In vSphere               In Azure               In Nutanix AHV               In XenServer", 
            "title": "Prepare an OS image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/", 
            "text": "OS Layer\n\n\n\n\nIn vSphere\n\n\n\n\nPrepare the OS#Image (vSphere)\n\n\nThis topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk \nDownload\n page. \n\n\nNotes:\n\n\n            \nThe OS Image should \nnot\n be in a domain. \n            \nThe OS Image should get its IP address from DHCP.\n            \nUsing Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image. \n            \nEnsure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.\n            \nThe Paravirtual SCSI controller is \nnot\n supported. You must use the default controller (SCSI BusLogic) for the OS to be functional. Unidesk supports the LSI Logic SAS controller type. If you subsequently change the SCSI controller type to anything else, such as VMware Paravirtual SCSI controller, the OS Layer import will fail.\n        \n\n\n\nWhich operating system are you using?\n\n\nChoose the operating system you are using for the OS Image: \n\n\n            \nWindows Server 2012 R2 (Session Host)\n            \n            \nWindows Server 2008 R2\n            \n            \nWindows 10\n            \n            \nWindows 7 \n            \n        \n\n\n\nPrepare a Windows Server 2012 R2 image (Session Host)\n\n\nSTEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine\n\n\nIn the vSphere client:\n\n\n            \nCreate a VM for the OSimage.\n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n                \nImportant:\n You can have just \none network device\n for the virtual machine, and it must be the VMXNET 3 network adapter, as the default E1000 adapter (or even a ghost NIC leftover from an E1000 adapter) can cause customization timeout errors on the VM when attempting to boot the image in environments such as Citrix PVS, Citrix MCS, or VMware Horizon View. \n            \n            \nConfigure a virtual hard disk that is large enough for a Windows operating system installation, and make sure it is accessible by the Unidesk Management Appliance.\n            \nInstall Windows Server 2012 R2.\n            \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \nInstall VMware Tools on your OSimage. \n        \n\n\n\nSTEP 2: Copy the Unidesk OS\n###Machine Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select \nEnable\n. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a VMware snapshot of it, so that you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 2008 R2 image\n\n\nSTEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine\n\n\nIn the vSphere client:\n\n\n            \n                \nCreate a VM for your OSimage, making sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n                \nImportant:\n You can have just \none network device\n for the virtual machine, and it must be the VMXNET 3 network adapter, as the default E1000 adapter (or even a ghost NIC leftover from an E1000 adapter) can cause customization timeout errors on the VM when attempting to boot the image in environments such as Citrix PVS, Citrix MCS, or VMware Horizon View. \n            \n            \n                \nIf you are using Citrix PVS or VMware Horizon View, install Windows Server 2008 R2 Service Pack 1 (SP1).\n                \nNotes:\n \n                \n                    \nIf you do not install SP1, an error occurs when you try to install View Agent in the virtual machine.\n                    \nWhen creating the image, be sure to choose the default cluster allocation size of 4K.\n                \n            \n            \n                \nIf using PVS: \n                \n                    \n                        \nIn the VMproperties, make sure the PCI slot number is 192, as shown below (mouse over the image to enlarge it):\n                        \n                        \n                    \n                    \n                        \nInstall KB2550978 hotfix:\n                        \nhttps://support.microsoft.com/en-us/kb/2550978\n                    \n                    \n                        \nRun cmd as Administrator, and enter the following commands:\nset devmgr_show_nonpresent_devices=1run devmgmt.msc in the same cmd window\n                        \nNote:\n You must run these commands, or the next command will not show hidden devices (ghost NICs)\n                    \n                    \nSelect \nView >Show hidden devices \n in Device Manager. This shows dead NICs as grayed out.\n                    \n                        \nUninstall the dead NIC and reboot the system.\n                    \n                \n            \n            \n                \nInstall VMware Tools on the OSimage. \n            \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts, see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows Server 2008 R2\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a VMware snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 10 image\n\n\nWhen preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by \nremoving Windows 10 built-in applications\n. If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer. \n\n\nSTEP 1: Set up a Windows 10 image on a virtual machine\n\n\nIn the vSphere client:\n\n\n            \n                \nCreate a VM for your OS image.\n                \nImportant:\n When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates: \n                \n                    \n                        \nLog into the VM.\n                    \n                    \nSelect \nComputer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates\n.\n                    \nSet this to \nDisabled\n.\n                \n                \nThe Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nIf using KMSlicensing, run a command window as Administrator, and enter these commands:\nslmgr /skms \nslmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato\n            \n            \nInstall the VMware Tools on the OS image. \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\n                    \n                        \nFor KMS activation, select KMS Server.\n                        \nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\n                        \nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \n                \n                \n                    \nDomain Join\n                    \n                        \nSelect Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\n                        \nYou can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.\n                        \nIf you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \n                \n                \n                    \nLocal Administrator account\n                    \n                        \nYou can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.\n                        \nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account \ncannot\n be preconfigured in the OS Image.\n                        \nYou can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \n                \n                \n                    \nTime Zone\n                    \n                        \nIf your time zone is not listed, you can add it to the \nOther\n box. Be sure to use the \ntime zone\n, \nnot\n the display setting.  \n                    \n                \n                \n                    \nDisabling automatic activation\n                    \n                        \nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.  \n                    \n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose  \nRun as administrator\n. This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.\n            \n            \n                \nFollow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Install .Net Framework 3.5.1\n\n\nThe .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.\n\n\n            \n                \nOn the Start menu, select \nControl Panel > Programs and Features\n.\n            \n            \n                \nIn the left panel select \nTurn Windows features on or off.\n A window opens.\n            \n            \n                \nSelect \n.NET Framework 3.5\n, click \nOK\n, and wait for the installation to complete.\n                \nImportant:\n Even if .NET is already installed, continue with the rest of these steps.\n            \n            \n                \nExit the Control Panel.\n            \n            \n                \nIn Notifications in the right-side of your taskbar, click \nAll Settings\n, and open the Windows 10 Settings app.\n            \n            \n                \nSelect Settings > Update ; Security.\n            \n            \n                \nCheck for updates, and install all updates available.\n            \n            \n                \nExit Settings.\n            \n            \n                \nOpen an administrator-level command prompt, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force\n            \n            \n                \nWait for the command to complete, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force\n            \n            \nExit the command prompt.\n        \n\n\n\nSTEP 6: If using PVS, follow these steps to avoid ghost NICs.\n\n\n            \n                \nInstall KB2550978 hotfix.\n            \n            \n                \nReboot the VM,\n            \n            \n                \nEnter the commands:\nset devmgr_show_nonpresent_devices=devmgmt.msc\n            \n            \n                \nRemove any ghost NICs.\n            \n            \n                \nReboot the system.\n            \n        \n\n\n\nSTEP 7: Create a backup copy of the OS Image\n\n\nOnce the OS Image is ready, create a copy of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.\n\n\nSTEP 8: Install the Unidesk software onto the OS Image\n\n\n            \nRun setup_x64.exe from c:\\Windows\\setup\\scripts.\n        \n\n\n\nOnce this is done, you are ready to create a Unidesk Operating System Layer.\n\n\nPrepare a Windows 7 image\n\n\nSTEP 1: Set up a Windows 7 OS Image on a virtual machine\n\n\nIn the vSphere client:\n\n\n            \n                \nCreate a VM for your OS Image.\n                \nImportant: When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nMake sure you have installed VMware Tools on the OSimage. \n            \n        \n\n\n\nSTEP 2: Mount or copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts,see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows 2008 R2\nUsing PowerShell for Advanced Domain Join Operations\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: If using PVS, follow these steps to avoid ghost NICs\n\n\n            \nInstall KB2550978 hotfix.\n            \nReboot the VM,\n            \n                \nEnter the commands: \nset devmgr_show_nonpresent_devices=1devmgmt.msc\n            \n            \nRemove any ghost NICs.\n            \nReboot the system.\n        \n\n\n\nSTEP 6: Create a VMware snapshot of the OS Image\n\n\n            \n                \nCreate a VMware snapshot of the OSimage so you can return to this state at any time.\n                \nImportant:\n It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n            \n        \n\n\n\nSTEP 7: Install the Unidesk software onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.", 
            "title": "layer_os_image_prep_vs4"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#prepare-the-osimage-vsphere", 
            "text": "This topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk  Download  page.   Notes:               The OS Image should  not  be in a domain.               The OS Image should get its IP address from DHCP.              Using Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image.               Ensure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.              The Paravirtual SCSI controller is  not  supported. You must use the default controller (SCSI BusLogic) for the OS to be functional. Unidesk supports the LSI Logic SAS controller type. If you subsequently change the SCSI controller type to anything else, such as VMware Paravirtual SCSI controller, the OS Layer import will fail.", 
            "title": "Prepare the OS#Image (vSphere)"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#which-operating-system-are-you-using", 
            "text": "Choose the operating system you are using for the OS Image:                Windows Server 2012 R2 (Session Host)                           Windows Server 2008 R2                           Windows 10                           Windows 7", 
            "title": "Which operating system are you using?"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#prepare-a-windows-server-2012-r2-image-session-host", 
            "text": "", 
            "title": "Prepare a Windows Server 2012 R2 image (Session Host)"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-1-set-up-a-windows-server-2012-r2-os-image-on-a-virtual-machine", 
            "text": "In the vSphere client:               Create a VM for the OSimage.                               Configure the virtual machine hardware settings, for example, the NIC and video memory.                  Important:  You can have just  one network device  for the virtual machine, and it must be the VMXNET 3 network adapter, as the default E1000 adapter (or even a ghost NIC leftover from an E1000 adapter) can cause customization timeout errors on the VM when attempting to boot the image in environments such as Citrix PVS, Citrix MCS, or VMware Horizon View.                            Configure a virtual hard disk that is large enough for a Windows operating system installation, and make sure it is accessible by the Unidesk Management Appliance.              Install Windows Server 2012 R2.              Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.              Install VMware Tools on your OSimage.", 
            "title": "STEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select  Enable . Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-5-create-a-snapshot-of-the-os-image", 
            "text": "Once the OS Image is ready, create a VMware snapshot of it, so that you can return to this state at any time.  Important: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-6-install-the-unidesk-tools-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#prepare-a-windows-2008-r2-image", 
            "text": "", 
            "title": "Prepare a Windows 2008 R2 image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-1-set-up-a-windows-server-2008-r2-os-image-on-a-virtual-machine", 
            "text": "In the vSphere client:                                Create a VM for your OSimage, making sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                  Important:  You can have just  one network device  for the virtual machine, and it must be the VMXNET 3 network adapter, as the default E1000 adapter (or even a ghost NIC leftover from an E1000 adapter) can cause customization timeout errors on the VM when attempting to boot the image in environments such as Citrix PVS, Citrix MCS, or VMware Horizon View.                                             If you are using Citrix PVS or VMware Horizon View, install Windows Server 2008 R2 Service Pack 1 (SP1).                  Notes:                                         If you do not install SP1, an error occurs when you try to install View Agent in the virtual machine.                      When creating the image, be sure to choose the default cluster allocation size of 4K.                                                             If using PVS:                                                                 In the VMproperties, make sure the PCI slot number is 192, as shown below (mouse over the image to enlarge it):                                                                                                                      Install KB2550978 hotfix:                          https://support.microsoft.com/en-us/kb/2550978                                                                    Run cmd as Administrator, and enter the following commands: set devmgr_show_nonpresent_devices=1run devmgmt.msc in the same cmd window                          Note:  You must run these commands, or the next command will not show hidden devices (ghost NICs)                                           Select  View >Show hidden devices   in Device Manager. This shows dead NICs as grayed out.                                               Uninstall the dead NIC and reboot the system.                                                                                  Install VMware Tools on the OSimage.", 
            "title": "STEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-2-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts, see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows Server 2008 R2                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-5-create-a-vmware-snapshot-of-the-os-image", 
            "text": "Once the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.  Important: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a VMware snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-6-install-the-unidesk-tools-onto-the-os-image_1", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#prepare-a-windows-10-image", 
            "text": "When preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by  removing Windows 10 built-in applications . If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer.", 
            "title": "Prepare a Windows 10 image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-1-set-up-a-windows-10-image-on-a-virtual-machine", 
            "text": "In the vSphere client:                                Create a VM for your OS image.                  Important:  When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates:                                                                 Log into the VM.                                           Select  Computer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates .                      Set this to  Disabled .                                   The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            If using KMSlicensing, run a command window as Administrator, and enter these commands: slmgr /skms  slmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato                           Install the VMware Tools on the OS image.", 
            "title": "STEP 1: Set up a Windows 10 image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-2-copy-the-unidesk-tools-onto-the-os-image_1", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation                                               For KMS activation, select KMS Server.                          For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.                          For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                                                                             Domain Join                                               Select Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected.                          You can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.                          If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                                                                             Local Administrator account                                               You can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.                          If you want to add an alternate Administrator account, select Enable and enter the account information. This account  cannot  be preconfigured in the OS Image.                          You can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                                                                             Time Zone                                               If your time zone is not listed, you can add it to the  Other  box. Be sure to use the  time zone ,  not  the display setting.                                                                               Disabling automatic activation                                               Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                                                    Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose   Run as administrator . This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.                                            Follow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-5-install-net-framework-351", 
            "text": "The .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.                                On the Start menu, select  Control Panel > Programs and Features .                                            In the left panel select  Turn Windows features on or off.  A window opens.                                            Select  .NET Framework 3.5 , click  OK , and wait for the installation to complete.                  Important:  Even if .NET is already installed, continue with the rest of these steps.                                            Exit the Control Panel.                                            In Notifications in the right-side of your taskbar, click  All Settings , and open the Windows 10 Settings app.                                            Select Settings > Update ; Security.                                            Check for updates, and install all updates available.                                            Exit Settings.                                            Open an administrator-level command prompt, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force                                            Wait for the command to complete, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force                           Exit the command prompt.", 
            "title": "STEP 5: Install .Net Framework 3.5.1"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-6-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Install KB2550978 hotfix.                                            Reboot the VM,                                            Enter the commands: set devmgr_show_nonpresent_devices=devmgmt.msc                                            Remove any ghost NICs.                                            Reboot the system.", 
            "title": "STEP 6: If using PVS, follow these steps to avoid ghost NICs."
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-7-create-a-backup-copy-of-the-os-image", 
            "text": "Once the OS Image is ready, create a copy of it so you can return to this state at any time.  Important: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.", 
            "title": "STEP 7: Create a backup copy of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-8-install-the-unidesk-software-onto-the-os-image", 
            "text": "Run setup_x64.exe from c:\\Windows\\setup\\scripts.           Once this is done, you are ready to create a Unidesk Operating System Layer.", 
            "title": "STEP 8: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#prepare-a-windows-7-image", 
            "text": "", 
            "title": "Prepare a Windows 7 image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-1-set-up-a-windows-7-os-image-on-a-virtual-machine", 
            "text": "In the vSphere client:                                Create a VM for your OS Image.                  Important: When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            Make sure you have installed VMware Tools on the OSimage.", 
            "title": "STEP 1: Set up a Windows 7 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-2-mount-or-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Mount or copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts,see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows 2008 R2 Using PowerShell for Advanced Domain Join Operations                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-5-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Install KB2550978 hotfix.              Reboot the VM,                               Enter the commands:  set devmgr_show_nonpresent_devices=1devmgmt.msc                           Remove any ghost NICs.              Reboot the system.", 
            "title": "STEP 5: If using PVS, follow these steps to avoid ghost NICs"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-6-create-a-vmware-snapshot-of-the-os-image", 
            "text": "Create a VMware snapshot of the OSimage so you can return to this state at any time.                  Important:  It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 6: Create a VMware snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_vs4/#step-7-install-the-unidesk-software-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 7: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/", 
            "text": "OS Layer\n\n\n\n\nIn XenServer\n\n\n\n\nPrepare the OS#Image (XenServer)\n\n\nThis topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk \nDownload\n page. \n\n\nNotes:\n\n\n            \nThe OS Image should \nnot\n be in a domain. \n            \nThe OS Image should get its IP address from DHCP. \n            \nUsing Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image. \n            \nEnsure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.\n            \nXenCenter uses Port 5900  to access the console on each VM. Make sure that this port is open on your OSimage. Otherwise, the packaging machines or publish images the console will not work until you reboot the VM. \n        \n\n\n\nWhich operating system are you using?\n\n\nChoose the operating system you are using for the OS Image: \n\n\n            \nWindows Server 2012 R2 (Session Host)\n            \n            \nWindows Server 2008 R2 \n            \n            \nWindows 10\n            \n            \nWindows 7 \n            \n        \n\n\n\nPrepare a Windows Server 2012 R2 image (Session Host)\n\n\nSTEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine\n\n\nIn the XenServer client:\n\n\n            \nCreate a VM for the OSimage.\n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \nConfigure a virtual hard disk that is large enough for a Windows operating system installation, and make sure it is accessible by the Unidesk Management Appliance.\n            \nInstall Windows Server 2012 R2.\n            \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \nInstall XenServer Tools on your OSimage. \n        \n\n\n\nSTEP 2: Copy the Unidesk OS\n###Machine Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select \nEnable\n. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 2008 R2 image\n\n\nSTEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine\n\n\nIn the XenServer client:\n\n\n            \n                \nCreate a VM for your OSimage, making sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nIf you are using Citrix PVS or VMware Horizon View, install Windows Server 2008 R2 Service Pack 1 (SP1).\n                \nNotes:\n \n                \n                    \nWhen creating the image, be sure to choose the default cluster allocation size of 4K.\n                \n            \n            \n                \nIf using PVS: \n                \n                    \n                        \nInstall KB255098 hitfix.\n                    \n                    \n                        \nReboot the VM.\n                    \n                    \n                        \nEnter the commands: \nset devmgr_show_nonpresent_devices=1devmgmt.msc\n                    \n                    \n                        \nUninstall any dead (guost) NICs.\n                    \n                    \n                        \nReboot the system.\n                    \n                \n            \n            \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n                \nInstall XenTools on the OSimage. \n            \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts, see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows Server 2008 R2\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Create a snapshot of the OS Image\n\n\nOnce the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n\n\nSTEP 6: Install the Unidesk tools onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.\n\n\nPrepare a Windows 10 image\n\n\nWhen preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by \nremoving Windows 10 built-in applications\n. If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer. \n\n\nSTEP 1: Set up a Windows 10 image on a virtual machine\n\n\nIn the XenServer client:\n\n\n            \n                \nCreate a VM for your OS image.\n                \nImportant:\n When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates: \n                \n                    \n                        \nLog into the VM.\n                    \n                    \nSelect \nComputer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates\n.\n                    \nSet this to \nDisabled\n.\n                \n                \nThe Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nIf using KMSlicensing, run a command window as Administrator, and enter these commands:\nslmgr /skms \nslmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato\n            \n            \nInstall the VMware Tools on the OS image. \n        \n\n\n\nSTEP 2: Copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\n                    \n                        \nFor KMS activation, select KMS Server.\n                        \nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\n                        \nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \n                \n                \n                    \nDomain Join\n                    \n                        \nSelect Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\n                        \nYou can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.\n                        \nIf you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\n                    \n                \n                \n                    \nLocal Administrator account\n                    \n                        \nYou can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.\n                        \nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account \ncannot\n be preconfigured in the OS Image.\n                        \nYou can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \n                \n                \n                    \nTime Zone\n                    \n                        \nIf your time zone is not listed, you can add it to the \nOther\n box. Be sure to use the \ntime zone\n, \nnot\n the display setting.  \n                    \n                \n                \n                    \nDisabling automatic activation\n                    \n                        \nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.  \n                    \n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment \n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose  \nRun as administrator\n. This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.\n            \n            \n                \nFollow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: Install .Net Framework 3.5.1\n\n\nThe .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.\n\n\n            \n                \nOn the Start menu, select \nControl Panel > Programs and Features\n.\n            \n            \n                \nIn the left panel select \nTurn Windows features on or off.\n A window opens.\n            \n            \n                \nSelect \n.NET Framework 3.5\n, click \nOK\n, and wait for the installation to complete.\n                \nImportant:\n Even if .NET is already installed, continue with the rest of these steps.\n            \n            \n                \nExit the Control Panel.\n            \n            \n                \nIn Notifications in the right-side of your taskbar, click \nAll Settings\n, and open the Windows 10 Settings app.\n            \n            \n                \nSelect Settings > Update ; Security.\n            \n            \n                \nCheck for updates, and install all updates available.\n            \n            \n                \nExit Settings.\n            \n            \n                \nOpen an administrator-level command prompt, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force\n            \n            \n                \nWait for the command to complete, and enter the following commands:\ncd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force\n            \n            \nExit the command prompt.\n        \n\n\n\nSTEP 6: If using PVS, follow these steps to avoid ghost NICs.\n\n\n            \n                \nEnter the commands:\nset devmgr_show_nonpresent_devices=devmgmt.msc\n            \n            \n                \nRemove any ghost NICs.\n            \n            \n                \nReboot the system.\n            \n        \n\n\n\nSTEP 7: Create a backup copy of the OS Image\n\n\nOnce the OS Image is ready, create a copy of it so you can return to this state at any time.\n\n\nImportant: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.\n\n\nSTEP 8: Install the Unidesk software onto the OS Image\n\n\n            \nRun setup_x64.exe from c:\\Windows\\setup\\scripts.\n        \n\n\n\nOnce this is done, you are ready to create a Unidesk Operating System Layer.\n\n\nPrepare a Windows 7 image\n\n\nSTEP 1: Set up a Windows 7 OS Image on a virtual machine\n\n\nIn the XenServer client:\n\n\n            \n                \nCreate a VM for your OS Image.\n                \nImportant: When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nConfigure the virtual machine hardware settings, for example, the NIC and video memory.\n            \n            \n                \nDisable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.\n            \n            \n                \nMake sure you have installed VMware Tools on the OSimage. \n            \n        \n\n\n\nSTEP 2: Mount or copy the Unidesk Tools onto the OS Image \n\n\n            \nDownload\n the Unidesk_OS_Machine_Tools ZIP file onto the OS Image. \n            \nExtract the Unidesk_OS_Machine_Tools_\nx.x.x\n to c:\\windows\\setup\\scripts.\n        \n\n\n\nSTEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose  \nRun as administrator\n. The unattend builder form opens.\n            \n            \n                \nComplete  the unattend form.\n                \n                    \nProduct key activation\nFor KMS activation, select KMS Server.\nFor KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.\nFor Retail Licensing with a MAK, select Retail with MAK, and the MAK.\n                    \nDomain Join\nSelect Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is \nnot\n selected.\nYou can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.\n  If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.\nFor information about domain join scripts,see the following Support articles:\nDebugging Domain Join Problems in Windows 7 and Windows 2008 R2\nUsing PowerShell for Advanced Domain Join Operations\n                    \nLocal Administrator account\nIf you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box.\nIf you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image.\nYou can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.\n                    \nTime zone\nSelect the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone, \nnot\n the display setting.  A list of time zone settings can be found \nhere\n.\n                    \nDisabling automatic activation\nSelect this option if you plan to use the Microsoft Volume Activation Management Tool.\n                \n            \n            \n                \nClick \nSave File\n. \n            \n        \n\n\n\nSTEP 4: (Optional) Optimize the OS Image for the Unidesk environment\n\n\n            \n                \nIn the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.\n            \n            \n                \nFollow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.\n                \nIf you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called \nDisable Unnecessary Services to Save Memory and CPU\n, \ndeselect\n the option to \nDisable Offline File Service\n, and click \nSave File\n. This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.  \n            \n        \n\n\n\nSTEP 5: If using PVS, follow these steps to avoid ghost NICs\n\n\n            \nInstall KB2550978 hotfix.\n            \nReboot the VM,\n            \n                \nEnter the commands: \nset devmgr_show_nonpresent_devices=1devmgmt.msc\n            \n            \nRemove any ghost NICs.\n            \nReboot the system.\n        \n\n\n\nSTEP 6: Create a snapshot of the OS Image\n\n\n            \n                \nCreate a snapshot of the OSimage so you can return to this state at any time.\n                \nImportant:\n It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.\n            \n        \n\n\n\nSTEP 7: Install the Unidesk software onto the OS Image\n\n\n            \nIn the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).\n            \n                \nThe installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).\n            \n        \n\n\n\nOnce this is done, you are ready to \ncreate a Unidesk Operating System Layer\n.", 
            "title": "layer_os_image_prep_xs4"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#prepare-the-osimage-xenserver", 
            "text": "This topic explains how to prepare an OSImage for the Unidesk environment, using the OSMachine Tools available for download on the Unidesk  Download  page.   Notes:               The OS Image should  not  be in a domain.               The OS Image should get its IP address from DHCP.               Using Third-party optimization scripts can have adverse effects in Unidesk, as they can change services and features that Unidesk uses, for example, Universal Plug and Play and the 8.3 file names setting. Use the optimization tools in the Unidesk Installer download to optimize your image.               Ensure that the VM for your OSLayer is  MBR partitioned, rather than GPT partitioned. Otherwise, you will not be able to install the Unidesk OS Machine Tools.              XenCenter uses Port 5900  to access the console on each VM. Make sure that this port is open on your OSimage. Otherwise, the packaging machines or publish images the console will not work until you reboot the VM.", 
            "title": "Prepare the OS#Image (XenServer)"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#which-operating-system-are-you-using", 
            "text": "Choose the operating system you are using for the OS Image:                Windows Server 2012 R2 (Session Host)                           Windows Server 2008 R2                            Windows 10                           Windows 7", 
            "title": "Which operating system are you using?"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#prepare-a-windows-server-2012-r2-image-session-host", 
            "text": "", 
            "title": "Prepare a Windows Server 2012 R2 image (Session Host)"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-1-set-up-a-windows-server-2012-r2-os-image-on-a-virtual-machine", 
            "text": "In the XenServer client:               Create a VM for the OSimage.                               Configure the virtual machine hardware settings, for example, the NIC and video memory.                           Configure a virtual hard disk that is large enough for a Windows operating system installation, and make sure it is accessible by the Unidesk Management Appliance.              Install Windows Server 2012 R2.              Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.              Install XenServer Tools on your OSimage.", 
            "title": "STEP 1: Set up a Windows Server 2012 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select  Enable . Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimization.cmd) that will be run to optimize the image during Desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-5-create-a-snapshot-of-the-os-image", 
            "text": "Once the OS Image is ready, create a snapshot of it, so that you can return to this state at any time.  Important: It is critical to create a snapshot  before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-6-install-the-unidesk-tools-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the  location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#prepare-a-windows-2008-r2-image", 
            "text": "", 
            "title": "Prepare a Windows 2008 R2 image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-1-set-up-a-windows-server-2008-r2-os-image-on-a-virtual-machine", 
            "text": "In the XenServer client:                                Create a VM for your OSimage, making sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            If you are using Citrix PVS or VMware Horizon View, install Windows Server 2008 R2 Service Pack 1 (SP1).                  Notes:                                         When creating the image, be sure to choose the default cluster allocation size of 4K.                                                             If using PVS:                                                                 Install KB255098 hitfix.                                                                    Reboot the VM.                                                                    Enter the commands:  set devmgr_show_nonpresent_devices=1devmgmt.msc                                                                    Uninstall any dead (guost) NICs.                                                                    Reboot the system.                                                                 Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                               Install XenTools on the OSimage.", 
            "title": "STEP 1: Set up a Windows Server 2008 R2 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-2-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts, see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows Server 2008 R2                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_1", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-5-create-a-snapshot-of-the-os-image_1", 
            "text": "Once the OS Image is ready, create a VMware snapshot of it so you can return to this state at any time.  Important: It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 5: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-6-install-the-unidesk-tools-onto-the-os-image_1", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 6: Install the Unidesk tools onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#prepare-a-windows-10-image", 
            "text": "When preparing the OS Image for import into a Unidesk Operating System Layer, you can speed up start times by  removing Windows 10 built-in applications . If you do, we recommend removing these applications either on the OS Image itself, or on the Operating System Layer.", 
            "title": "Prepare a Windows 10 image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-1-set-up-a-windows-10-image-on-a-virtual-machine", 
            "text": "In the XenServer client:                                Create a VM for your OS image.                  Important:  When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates:                                                                 Log into the VM.                                           Select  Computer Config > Administrative Templates > Windows Components > Windows Updates > Config Auto Updates .                      Set this to  Disabled .                                   The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            If using KMSlicensing, run a command window as Administrator, and enter these commands: slmgr /skms  slmgr /rearmrebootslmgr /ipk XXXX-YOUR-KMS-KEY-XXXXslmgr /ato                           Install the VMware Tools on the OS image.", 
            "title": "STEP 1: Set up a Windows 10 image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-2-copy-the-unidesk-tools-onto-the-os-image_1", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation                                               For KMS activation, select KMS Server.                          For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK.                          For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                                                                             Domain Join                                               Select Enable if you want to configure the unattend.xml file to join Desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected.                          You can add Desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk Desktops, both to segregate the Desktop from other machines and to avoid applying virtual Desktop-specific GPOs to other types of machines.                          If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers.                                                                             Local Administrator account                                               You can enable the Administrator account on each Unidesk Desktop by selecting Enable. Remember to also enable this account in your OS Image or Operating System Layer version. You can also enable the Administrator account for your OS Image and then have it disabled in the deployed Desktops by clearing the check box.                          If you want to add an alternate Administrator account, select Enable and enter the account information. This account  cannot  be preconfigured in the OS Image.                          You can create a Desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                                                                             Time Zone                                               If your time zone is not listed, you can add it to the  Other  box. Be sure to use the  time zone ,  not  the display setting.                                                                               Disabling automatic activation                                               Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                                                    Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk Desktops"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_2", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the optimizations.exe tool and choose   Run as administrator . This creates  a .cmd file (optimizations.cmd) that will be run during Desktop creation to optimize the image.                                            Follow the instructions to run the optimizations.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-5-install-net-framework-351", 
            "text": "The .Net Framework is a software framework provided by Microsoft that is required for many 3rd party applications to run. To install this feature, follow the steps below.                                On the Start menu, select  Control Panel > Programs and Features .                                            In the left panel select  Turn Windows features on or off.  A window opens.                                            Select  .NET Framework 3.5 , click  OK , and wait for the installation to complete.                  Important:  Even if .NET is already installed, continue with the rest of these steps.                                            Exit the Control Panel.                                            In Notifications in the right-side of your taskbar, click  All Settings , and open the Windows 10 Settings app.                                            Select Settings > Update ; Security.                                            Check for updates, and install all updates available.                                            Exit Settings.                                            Open an administrator-level command prompt, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework\\v4.nnnnnngen update /force                                            Wait for the command to complete, and enter the following commands: cd \\windows\\Microsoft.Net\\Framework64\\v4.nnnnnngen update /force                           Exit the command prompt.", 
            "title": "STEP 5: Install .Net Framework 3.5.1"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-6-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Enter the commands: set devmgr_show_nonpresent_devices=devmgmt.msc                                            Remove any ghost NICs.                                            Reboot the system.", 
            "title": "STEP 6: If using PVS, follow these steps to avoid ghost NICs."
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-7-create-a-backup-copy-of-the-os-image", 
            "text": "Once the OS Image is ready, create a copy of it so you can return to this state at any time.  Important: It is critical to create a backup copy before installing the Unidesk software onto the OS Image. Without this backup copy, returning  to this state requires rebuilding the image.", 
            "title": "STEP 7: Create a backup copy of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-8-install-the-unidesk-software-onto-the-os-image", 
            "text": "Run setup_x64.exe from c:\\Windows\\setup\\scripts.           Once this is done, you are ready to create a Unidesk Operating System Layer.", 
            "title": "STEP 8: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#prepare-a-windows-7-image", 
            "text": "", 
            "title": "Prepare a Windows 7 image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-1-set-up-a-windows-7-os-image-on-a-virtual-machine", 
            "text": "In the XenServer client:                                Create a VM for your OS Image.                  Important: When creating the image, be sure to choose the default cluster allocation size of 4K.                                            Configure the virtual machine hardware settings, for example, the NIC and video memory.                                            Disable Windows System Restore and Windows Automatic Updates. The Unidesk system handles restore points for you, and Unidesk layer versions allow you to control when updates occur.                                            Make sure you have installed VMware Tools on the OSimage.", 
            "title": "STEP 1: Set up a Windows 7 OS Image on a virtual machine"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-2-mount-or-copy-the-unidesk-tools-onto-the-os-image", 
            "text": "Download  the Unidesk_OS_Machine_Tools ZIP file onto the OS Image.               Extract the Unidesk_OS_Machine_Tools_ x.x.x  to c:\\windows\\setup\\scripts.", 
            "title": "STEP 2: Mount or copy the Unidesk Tools onto the OS Image "
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-3-optional-create-an-answer-file-for-unattended-installation-on-unidesk-desktops_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, right-click the unattend.exe tool and choose   Run as administrator . The unattend builder form opens.                                            Complete  the unattend form.                                       Product key activation For KMS activation, select KMS Server. For KMS with a Multiple Activation Key (MAK), select KMS with MAK and enter the MAK. For Retail Licensing with a MAK, select Retail with MAK, and the MAK.                      Domain Join Select Enable if you want to configure the unattend.xml file to join desktops to a specific domain.  If you plan to use AD join scripts, ensure Enable is  not  selected. You can add desktops to the Computer's container in Active Directory by deleting the OU entry. However, we recommend that you use an alternate OU for Unidesk desktops, both to segregate the desktop from other machines and to avoid applying virtual desktop-specific GPOs to other types of machines.   If you are supporting multiple OUs within one or more domains, you can join machines in different Domains or OUs by creating different unattend.xml files in different application layers. For information about domain join scripts,see the following Support articles: Debugging Domain Join Problems in Windows 7 and Windows 2008 R2 Using PowerShell for Advanced Domain Join Operations                      Local Administrator account If you want to use the unattend.xml file to enable the Administrator account on each Unidesk desktop, select Enable. Remember to also enable this account in your OS Image or Operating System Layer revision. It is possible to enable the Administrator account for your OS Image and then have it disabled in the deployed desktops by clearing the check box. If you want to add an alternate Administrator account, select Enable and enter the account information. This account cannot be pre-configured in the OS Image. You can create a desktop where the Administrator is disabled and the alternate administrator is created and enabled.  However for this to work, the Administrator account must be enabled in the OS Image and it cannot be renamed.                      Time zone Select the time zone.  If your time zone is not listed, you can add it to the Other box. Be sure to use the time zone,  not  the display setting.  A list of time zone settings can be found  here .                      Disabling automatic activation Select this option if you plan to use the Microsoft Volume Activation Management Tool.                                                             Click  Save File .", 
            "title": "STEP 3: (Optional) Create an answer file for unattended installation on Unidesk desktops"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-4-optional-optimize-the-os-image-for-the-unidesk-environment_3", 
            "text": "In the c:\\windows\\setup\\scripts folder, run the Optimize executable to create a .cmd file (optimize.cmd) that will be run to optimize the image during desktop creation.                                            Follow the instructions to run the optimize.cmd file on the OS Image. This removes installation-specific drivers and settings.                  If you are using the Unidesk Optimizer script and you are enabling the View Persona feature, you must go to the section of the Optimizer script called  Disable Unnecessary Services to Save Memory and CPU ,  deselect  the option to  Disable Offline File Service , and click  Save File . This is because View Persona folder redirection requires Offline files to be enabled, and by default, the Unidesk Optimizer turns off Offline files, which are not a requirement for Unidesk.", 
            "title": "STEP 4: (Optional) Optimize the OS Image for the Unidesk environment"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-5-if-using-pvs-follow-these-steps-to-avoid-ghost-nics", 
            "text": "Install KB2550978 hotfix.              Reboot the VM,                               Enter the commands:  set devmgr_show_nonpresent_devices=1devmgmt.msc                           Remove any ghost NICs.              Reboot the system.", 
            "title": "STEP 5: If using PVS, follow these steps to avoid ghost NICs"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-6-create-a-snapshot-of-the-os-image", 
            "text": "Create a snapshot of the OSimage so you can return to this state at any time.                  Important:  It is critical to create a snapshot before installing the Unidesk software onto the OS Image. Without this snapshot, returning  to this state requires rebuilding the image.", 
            "title": "STEP 6: Create a snapshot of the OS Image"
        }, 
        {
            "location": "/layer_os_image_prep_xs4/#step-7-install-the-unidesk-software-onto-the-os-image", 
            "text": "In the Unidesk_OS_Machine_Tools folder, run the Unidesk setup_x86.exe (32-bit) or setup_x64.exe (64-bit).                               The installation prompts for   the location of the unattend.xml file (the default location is c:\\windows\\panther).                        Once this is done, you are ready to  create a Unidesk Operating System Layer .", 
            "title": "STEP 7: Install the Unidesk software onto the OS Image"
        }, 
        {
            "location": "/layer_os_version_ah4/", 
            "text": "OS Layer\n\n\n\n\nIn Nutanix AHV\n\n\n\n\nAdd a version to an OS Layer (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \nBefore you start \n                        \n                        \nAdd a Version to an OS Layer\n                        \n                        \nDeploy a Packaging Machine\n                        \n                        \nInstall your changes\n                        \n                        \nVerify the Layer and shut down the Packaging Machine\n                        \n                        \nFinalize the OS Layer\n                        \n                        \nReference: Create OS Version Wizard values\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk OS Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer version, you'll need to:\n\n\n            \nConfigure a fileshare\n            \n        \n\n\n\nAdd a version of an OS Layer\n\n\nTo add a version of an OS Layer, take the following steps: \n\n\n            \n                \nIn the Unidesk Management Console, select \nLayers > OS Layers.\n            \n            \n                \nSelect or right-click an OS Layer icon and click \nAdd Version\n. This opens the Create OS Version Wizard.\n            \n            \n                \n(Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.  \n            \n            \n                \nIn the Connector tab, select a \nConnector configuration\n for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking \nEdit\n. If you have not yet created a Connector Configuration or if the configuration you need is not present, click \nNew\n to create a new \nConnector Configuration\n and select it from this list. \n                \nExample: If you're using the Nutanix AHV environment to create the Layer, select the \nNutanix AHV\n connector with the credentials and location required to access the Nutanix Storage Container where you want to build the Layer.  \n            \n            \n                \nIn the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package the OS when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nConfirm and Complete tab - Verify your settings and click \nCreate Version\n. Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of \nAction Required\n. When you double-click the task to expand it, the task contains the following text (refer to the image in the next section): \n                \n\"The Packaging Disk has been published. The virtual machine '\n<\n...>' can be found in folder '\n<\n...>' in datacenter '\n<\n...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"\n            \n        \n\n\n\nNext, you can deploy a Packaging Machine for this OS Layer version.\n\n\nAccess the Packaging Machine in Nutanix AHV\n\n\n            \nLog into Nutanix Prism. \n            \n                \nBack in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the \nCreate Platform Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in Prism.\n            \nInstall the app for your Layer. This may require a reboot as part of the installation. Once complete, you should see that you have access to the tools, as well as all of the \ndata\n available under the Performance tab for your VM.\n        \n\n\n\nDeploy a Packaging Machine to Nutanix AHV\n\n\nThe Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.\n\n\nThe Task Description (example shown in the last step above) contains directions to navigate to the Storage Container in Nutanix AHV, where the Packaging Machine for this Layer has been created.\n\n\nTo create your Packaging Machine in Nutanix AHV, begin with the expanded Packaging Disk task shown in step 2 below.\n\n\n            \n                \nLog into Nutanix Prism.\n            \n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine. \n                \n                \n                \nThe Packaging Machine will be powered on. \n            \n            \n                \nUse the instructions in the Task Description to navigate to the Packaging Machine in Prism.\n            \n        \n\n\n\nInstall the OS\n##update \n\n\n            \n                \nRemote log into the Packaging Machine in Nutanix AHV. Be sure to log in with the User account you used to create the OSin Nutanix AHV.\n            \n            \n                \nInstall any updates or applications you want to include in the new OSLayer version, such as Windows Updates or anti-virus applications.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state in which you want it to be in for the user.\n            \n        \n\n\n\nNext, you will shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during \n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the OS Layer\n\n\nOnce the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.\n\n\nNote: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs. \n\n\nWhen a layer is ready to finalize:\n\n\n            \n                \nReturn to the Unidesk Management Console.\n            \n            \n                \nIn the Layers module, select the Layer.\n            \n            \n                \nSelect \nFinalize\n in the Action bar.\n            \n            \n                \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.\n            \n        \n\n\n\nReference: Create OS Version Wizard values\n\n\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nMax Layer Size\n - (Optional) Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.\n            \nSelect a Platform Connector configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click \nEdit\n.\n            \nPackaging Disk Filename\n - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "layer_os_version_ah4"
        }, 
        {
            "location": "/layer_os_version_ah4/#add-a-version-to-an-os-layer-nutanix-ahv", 
            "text": "In this article:                                                                                           Before you start                                                    Add a Version to an OS Layer                                                   Deploy a Packaging Machine                                                   Install your changes                                                   Verify the Layer and shut down the Packaging Machine                                                   Finalize the OS Layer                                                   Reference: Create OS Version Wizard values                                                                                       The Unidesk OS Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.", 
            "title": "Add a version to an OS Layer (Nutanix AHV)"
        }, 
        {
            "location": "/layer_os_version_ah4/#before-you-start", 
            "text": "Before you can create an OS Layer version, you'll need to:               Configure a fileshare", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_version_ah4/#add-a-version-of-an-os-layer", 
            "text": "To add a version of an OS Layer, take the following steps:                                 In the Unidesk Management Console, select  Layers > OS Layers.                                            Select or right-click an OS Layer icon and click  Add Version . This opens the Create OS Version Wizard.                                            (Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.                                              In the Connector tab, select a  Connector configuration  for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking  Edit . If you have not yet created a Connector Configuration or if the configuration you need is not present, click  New  to create a new  Connector Configuration  and select it from this list.                   Example: If you're using the Nutanix AHV environment to create the Layer, select the  Nutanix AHV  connector with the credentials and location required to access the Nutanix Storage Container where you want to build the Layer.                                              In the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package the OS when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            Confirm and Complete tab - Verify your settings and click  Create Version . Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of  Action Required . When you double-click the task to expand it, the task contains the following text (refer to the image in the next section):                   \"The Packaging Disk has been published. The virtual machine ' < ...>' can be found in folder ' < ...>' in datacenter ' < ...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"                        Next, you can deploy a Packaging Machine for this OS Layer version.", 
            "title": "Add a version of an OS Layer"
        }, 
        {
            "location": "/layer_os_version_ah4/#access-the-packaging-machine-in-nutanix-ahv", 
            "text": "Log into Nutanix Prism.                                Back in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the  Create Platform Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in Prism.              Install the app for your Layer. This may require a reboot as part of the installation. Once complete, you should see that you have access to the tools, as well as all of the  data  available under the Performance tab for your VM.", 
            "title": "Access the Packaging Machine in Nutanix AHV"
        }, 
        {
            "location": "/layer_os_version_ah4/#deploy-a-packaging-machine-to-nutanix-ahv", 
            "text": "The Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.  The Task Description (example shown in the last step above) contains directions to navigate to the Storage Container in Nutanix AHV, where the Packaging Machine for this Layer has been created.  To create your Packaging Machine in Nutanix AHV, begin with the expanded Packaging Disk task shown in step 2 below.                                Log into Nutanix Prism.                                            Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine.                                                     The Packaging Machine will be powered on.                                             Use the instructions in the Task Description to navigate to the Packaging Machine in Prism.", 
            "title": "Deploy a Packaging Machine to Nutanix AHV"
        }, 
        {
            "location": "/layer_os_version_ah4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_os_version_ah4/#layer-integrity-messages-you-may-see-during", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during "
        }, 
        {
            "location": "/layer_os_version_ah4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_os_version_ah4/#finalize-the-os-layer", 
            "text": "Once the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.  Note: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs.   When a layer is ready to finalize:                                Return to the Unidesk Management Console.                                            In the Layers module, select the Layer.                                            Select  Finalize  in the Action bar.                                            Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the OS Layer"
        }, 
        {
            "location": "/layer_os_version_ah4/#reference-create-os-version-wizard-values", 
            "text": "Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.                           Version Description  - (Optional) Enter a description of the version.              Max Layer Size  - (Optional) Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.              Select a Platform Connector configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click  Edit .              Packaging Disk Filename  - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "Reference: Create OS Version Wizard values"
        }, 
        {
            "location": "/layer_os_version_az4/", 
            "text": "OS Layer\n\n\n\n\nIn MS Azure\n\n\n\n\nAdd a version to an OS Layer (Azure)\n\n\nIn this article:\n\n\nBefore you start \n        \n\n\nAdd a Version to an OS Layer\n        \n\n\nDeploy a Packaging Machine\n        \n\n\nInstall your changes\n        \n\n\nVerify the Layer and shut down the Packaging Machine\n        \n\n\nFinalize the OS Layer\n        \n\n\nReference: Create OS Version Wizard values\n        \n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer version, you'll need to:\n\n\n            \nConfigure a fileshare\n            \n        \n\n\n\nAdd a version of an OS Layer\n\n\nTo add a version of an OS Layer, take the following steps: \n\n\n            \n                \nIn the Unidesk UMC, select \nLayers > OS Layers.\n            \n            \n                \nSelect or right-click an OS Layer icon and click \nAdd Version\n. This opens the Create OS Version Wizard.\n            \n            \n                \n(Required) In the Version Details tab, enter a version identifier. This can be the application version, or anything you choose.  \n            \n            \n                \nIn the Connector tab, select a \nConnector Configuration\n for the platform where you'll be publishing your Layered Images. If you have not yet created a Platform Connector configuration or if the configuration you need is not present, click \nNew\n to create a new \nConnector Configuration\n and select it from this list.\n            \n            \n                \nPackaging Disk tab - Specify the file name and format of the packaging disk. \n            \n            \n                \nConfirm and Complete tab - Verify your settings and click \nCreate Version\n. Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of Action Required and contains the following text: \n                \n\"The Packaging Disk has been published to Azure. Click \nhere\n to create a Packaging Machine and install your app. When the app installation is complete, finish creating the new Layer Version by clicking Finalize on the Action bar.\"\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task. In the description, either Click here, or copy the link to Azure portal where the Packaging Disk has been published. Click the link in the task to open the Custom deployment window in Azure. Unidesk has pre-populated the fields of the Custom VM window with default values. Log into Azure and create the VM.\n            \n            \n                \nLog into the new VM and install any apps on it that you want to include in the new version of the OS, such as Windows Updates or anti-virus software.\n                \n                \n            \n        \n\n\n\nNext, you can deploy a Packaging Machine for this OS Layer.\n\n\nDeploy a Packaging Machine\n\n\nThe Packaging Machine is a virtual machine where you install any applications or updates you want to include in this Layer. Typically, we recommend using a unique VM for each Layer.\n\n\nAzure environment\n\n\nTo deploy your Packaging Machine to Azure:\n\n\n            \n                \nClick the link (shown in red below) in the Unidesk Management Console task to open the Azure portal to the Custom deployment area where you can create the virtual machine that you will use as your Unidesk Packaging Machine.\n                \nNote:\n We recommend that you log into the Microsoft Azure account that has the same Subscription before clicking the link or pasting it into a browser.                \n                \n                \n            \n            \n                \nComplete the required fields for customizing your Azure parameters. \n                \n                \n            \n        \n\n\n\nNotes:\n\n\n            \nUnidesk does not recommend using less than two CPUs for the Packaging Machine. Consequently, the machine size must be at least A2.\n            \nOn the Custom deployment panel, ensure that the value for the Resource Group location matches the Storage location you specified earlier.\n        \n\n\n\nInstall your changes \n\n\nThis section explains how to install your changes on the Packaging Machine you created in Azure.\n\n\nTo make changes to this version of the OSLayer:\n\n\n            \n                \nRemote log into the Packaging Machine you created in Azure. \n                \nNote:\n The User Name and Password to use when you log into the Packaging Machine are the same User Name and Password that were used when the OS Machine was created for the current OS Layer.\n            \n            \n                \nInstall any updates or applications you want to include in the new OSLayer version, such as Windows Updates or anti-virus applications.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, shut down the Packaging Machine when you have verified that the Layer is ready to finalize as described in the following section.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during \n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the OS Layer\n\n\nOnce the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.\n\n\nNote: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs. \n\n\nWhen a layer is ready to finalize:\n\n\n            \n                \nReturn to the Unidesk Management Console.\n            \n            \n                \nIn the Layers module, select the layer.\n            \n            \n                \nSelect \nFinalize\n in the Action bar.\n            \n            \n                \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.\n            \n        \n\n\n\nReference: Create OS Version Wizard values\n\n\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nMax Layer Size\n - (Optional) Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.\n            \nSelect a Platform Connector configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click \nEdit\n.\n            \nPackaging Disk Filename\n - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "layer_os_version_az4"
        }, 
        {
            "location": "/layer_os_version_az4/#add-a-version-to-an-os-layer-azure", 
            "text": "In this article:  Before you start            Add a Version to an OS Layer           Deploy a Packaging Machine           Install your changes           Verify the Layer and shut down the Packaging Machine           Finalize the OS Layer           Reference: Create OS Version Wizard values           The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.", 
            "title": "Add a version to an OS Layer (Azure)"
        }, 
        {
            "location": "/layer_os_version_az4/#before-you-start", 
            "text": "Before you can create an OS Layer version, you'll need to:               Configure a fileshare", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_version_az4/#add-a-version-of-an-os-layer", 
            "text": "To add a version of an OS Layer, take the following steps:                                 In the Unidesk UMC, select  Layers > OS Layers.                                            Select or right-click an OS Layer icon and click  Add Version . This opens the Create OS Version Wizard.                                            (Required) In the Version Details tab, enter a version identifier. This can be the application version, or anything you choose.                                              In the Connector tab, select a  Connector Configuration  for the platform where you'll be publishing your Layered Images. If you have not yet created a Platform Connector configuration or if the configuration you need is not present, click  New  to create a new  Connector Configuration  and select it from this list.                                            Packaging Disk tab - Specify the file name and format of the packaging disk.                                             Confirm and Complete tab - Verify your settings and click  Create Version . Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of Action Required and contains the following text:                   \"The Packaging Disk has been published to Azure. Click  here  to create a Packaging Machine and install your app. When the app installation is complete, finish creating the new Layer Version by clicking Finalize on the Action bar.\"                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task. In the description, either Click here, or copy the link to Azure portal where the Packaging Disk has been published. Click the link in the task to open the Custom deployment window in Azure. Unidesk has pre-populated the fields of the Custom VM window with default values. Log into Azure and create the VM.                                            Log into the new VM and install any apps on it that you want to include in the new version of the OS, such as Windows Updates or anti-virus software.                                                          Next, you can deploy a Packaging Machine for this OS Layer.", 
            "title": "Add a version of an OS Layer"
        }, 
        {
            "location": "/layer_os_version_az4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install any applications or updates you want to include in this Layer. Typically, we recommend using a unique VM for each Layer.", 
            "title": "Deploy a Packaging Machine"
        }, 
        {
            "location": "/layer_os_version_az4/#azure-environment", 
            "text": "To deploy your Packaging Machine to Azure:                                Click the link (shown in red below) in the Unidesk Management Console task to open the Azure portal to the Custom deployment area where you can create the virtual machine that you will use as your Unidesk Packaging Machine.                  Note:  We recommend that you log into the Microsoft Azure account that has the same Subscription before clicking the link or pasting it into a browser.                                                                                              Complete the required fields for customizing your Azure parameters.                                                           Notes:               Unidesk does not recommend using less than two CPUs for the Packaging Machine. Consequently, the machine size must be at least A2.              On the Custom deployment panel, ensure that the value for the Resource Group location matches the Storage location you specified earlier.", 
            "title": "Azure environment"
        }, 
        {
            "location": "/layer_os_version_az4/#install-your-changes", 
            "text": "This section explains how to install your changes on the Packaging Machine you created in Azure.  To make changes to this version of the OSLayer:                                Remote log into the Packaging Machine you created in Azure.                   Note:  The User Name and Password to use when you log into the Packaging Machine are the same User Name and Password that were used when the OS Machine was created for the current OS Layer.                                            Install any updates or applications you want to include in the new OSLayer version, such as Windows Updates or anti-virus applications.                  If an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the applications you install require any post-installation setup or application registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, shut down the Packaging Machine when you have verified that the Layer is ready to finalize as described in the following section.", 
            "title": "Install your changes "
        }, 
        {
            "location": "/layer_os_version_az4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_os_version_az4/#layer-integrity-messages-you-may-see-during", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during "
        }, 
        {
            "location": "/layer_os_version_az4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_os_version_az4/#finalize-the-os-layer", 
            "text": "Once the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.  Note: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs.   When a layer is ready to finalize:                                Return to the Unidesk Management Console.                                            In the Layers module, select the layer.                                            Select  Finalize  in the Action bar.                                            Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the OS Layer"
        }, 
        {
            "location": "/layer_os_version_az4/#reference-create-os-version-wizard-values", 
            "text": "Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.                           Version Description  - (Optional) Enter a description of the version.              Max Layer Size  - (Optional) Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.              Select a Platform Connector configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click  Edit .              Packaging Disk Filename  - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "Reference: Create OS Version Wizard values"
        }, 
        {
            "location": "/layer_os_version_co4/", 
            "text": "OS Layer\n\n\n\n\nAdd a version to an OS Layer\n\n\n\n\nAdd a version to an OS Layer\n\n\nWhere are you creating this App Layer Version?\n\n\nIn Citrix XenServer\n            \n\n\nIn MS Azure\n            \n\n\nIn Nutanix AHV\n            \n\n\nIn VMware vSphere", 
            "title": "layer_os_version_co4"
        }, 
        {
            "location": "/layer_os_version_co4/#add-a-version-to-an-os-layer", 
            "text": "Where are you creating this App Layer Version?  In Citrix XenServer               In MS Azure               In Nutanix AHV               In VMware vSphere", 
            "title": "Add a version to an OS Layer"
        }, 
        {
            "location": "/layer_os_version_vs4/", 
            "text": "OS Layer\n\n\n\n\nIn VMware vSphere\n\n\n\n\nAdd a version to an OS Layer (vSphere)\n\n\nIn this article:\n\n\nBefore you start \n        \n\n\nAdd a Version to an OS Layer\n        \n\n\nDeploy a Packaging Machine\n        \n\n\nInstall your changes\n        \n\n\nVerify the Layer and shut down the Packaging Machine\n        \n\n\nFinalize the OS Layer\n        \n\n\nReference: Create OS Version Wizard values\n        \n\n\nThe Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer version, you'll need to:\n\n\n            \nConfigure a fileshare\n            \n        \n\n\n\nAdd a version of an OS Layer\n\n\nTo add a version of an OS Layer, take the following steps: \n\n\n            \n                \nIn the Unidesk Management Console, select \nLayers > OS Layers.\n            \n            \n                \nSelect or right-click an OS Layer icon and click \nAdd Version\n. This opens the Create OS Version Wizard.\n            \n            \n                \n(Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.  \n            \n            \n                \nIn the Connector tab, select a \nPlatform Connector configuration\n for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking \nEdit\n. If you have not yet created a Platform Connector configuration or if the configuration you need is not present, click \nNew\n to create a new \nConnector Configuration\n and select it from this list.  \n            \n            \n                \nIn the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package an application when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nConfirm and Complete tab - Verify your settings and click \nCreate Version\n. Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of Action Required. When you double-click the task to expand it, the task contains the following text (refer to the image in the next section): \n                \n\"The Packaging Disk has been published. The virtual machine '\n<\n...>' can be found in folder '\n<\n...>' in datacenter '\n<\n...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"\n            \n        \n\n\n\nNext, you can deploy a Packaging Machine for this OS Layer.\n\n\nDeploy a Packaging Machine to vSphere\n\n\nThe Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.\n\n\nThe Task Description (example shown in the last step above) contains directions to navigate to the location in vSphere where the Packaging Machine for this Layer has been created.\n\n\nTo create your Packaging Machine in vSphere, begin with the expanded Packaging Disk task shown in step 2 below.\n\n\n            \nLog into your vSphere web client.\n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine. \n                \n                \n                \nThe Packaging Machine will be powered on.\n            \n        \n\n\n\nInstall the OS\n##update \n\n\n            \n                \nRemote log into the Packaging Machine in vSphere. Be sure to log in with the User account you used to create the OSin vSphere.\n            \n            \n                \nInstall any updates or applications you want to include in the new OSLayer version, such as Windows Updates or anti-virus applications.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you will shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during \n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the OS Layer\n\n\nOnce the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.\n\n\nNote: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs. \n\n\nWhen a layer is ready to finalize:\n\n\n            \n                \nReturn to the Unidesk Management Console.\n            \n            \n                \nIn the Layers module, select the layer.\n            \n            \n                \nSelect \nFinalize\n in the Action bar.\n            \n            \n                \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.\n            \n        \n\n\n\nReference: Create OS Version Wizard values\n\n\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nMax Layer Size\n - (Optional) Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.\n            \nSelect a Platform Connector configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click \nEdit\n.\n            \nPackaging Disk Filename\n - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "layer_os_version_vs4"
        }, 
        {
            "location": "/layer_os_version_vs4/#add-a-version-to-an-os-layer-vsphere", 
            "text": "In this article:  Before you start            Add a Version to an OS Layer           Deploy a Packaging Machine           Install your changes           Verify the Layer and shut down the Packaging Machine           Finalize the OS Layer           Reference: Create OS Version Wizard values           The Unidesk Operating System (OS) Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.", 
            "title": "Add a version to an OS Layer (vSphere)"
        }, 
        {
            "location": "/layer_os_version_vs4/#before-you-start", 
            "text": "Before you can create an OS Layer version, you'll need to:               Configure a fileshare", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_version_vs4/#add-a-version-of-an-os-layer", 
            "text": "To add a version of an OS Layer, take the following steps:                                 In the Unidesk Management Console, select  Layers > OS Layers.                                            Select or right-click an OS Layer icon and click  Add Version . This opens the Create OS Version Wizard.                                            (Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.                                              In the Connector tab, select a  Platform Connector configuration  for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking  Edit . If you have not yet created a Platform Connector configuration or if the configuration you need is not present, click  New  to create a new  Connector Configuration  and select it from this list.                                              In the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package an application when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            Confirm and Complete tab - Verify your settings and click  Create Version . Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of Action Required. When you double-click the task to expand it, the task contains the following text (refer to the image in the next section):                   \"The Packaging Disk has been published. The virtual machine ' < ...>' can be found in folder ' < ...>' in datacenter ' < ...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"                        Next, you can deploy a Packaging Machine for this OS Layer.", 
            "title": "Add a version of an OS Layer"
        }, 
        {
            "location": "/layer_os_version_vs4/#deploy-a-packaging-machine-to-vsphere", 
            "text": "The Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.  The Task Description (example shown in the last step above) contains directions to navigate to the location in vSphere where the Packaging Machine for this Layer has been created.  To create your Packaging Machine in vSphere, begin with the expanded Packaging Disk task shown in step 2 below.               Log into your vSphere web client.                               Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine.                                                     The Packaging Machine will be powered on.", 
            "title": "Deploy a Packaging Machine to vSphere"
        }, 
        {
            "location": "/layer_os_version_vs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_os_version_vs4/#layer-integrity-messages-you-may-see-during", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during "
        }, 
        {
            "location": "/layer_os_version_vs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_os_version_vs4/#finalize-the-os-layer", 
            "text": "Once the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.  Note: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs.   When a layer is ready to finalize:                                Return to the Unidesk Management Console.                                            In the Layers module, select the layer.                                            Select  Finalize  in the Action bar.                                            Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the OS Layer"
        }, 
        {
            "location": "/layer_os_version_vs4/#reference-create-os-version-wizard-values", 
            "text": "Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.                           Version Description  - (Optional) Enter a description of the version.              Max Layer Size  - (Optional) Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.              Select a Platform Connector configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click  Edit .              Packaging Disk Filename  - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "Reference: Create OS Version Wizard values"
        }, 
        {
            "location": "/layer_os_version_xs4/", 
            "text": "OS Layer\n\n\n\n\nIn Citrix XenServer\n\n\n\n\nAdd a version to an OS Layer (XenServer)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \nBefore you start \n                        \n                        \nAdd a Version to an OS Layer\n                        \n                        \nDeploy a Packaging Machine\n                        \n                        \nInstall your changes\n                        \n                        \nVerify the Layer and shut down the Packaging Machine\n                        \n                        \nFinalize the OS Layer\n                        \n                        \nReference: Create OS Version Wizard values\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk OS Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.\n\n\nThe OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.\n\n\nBefore you start\n\n\nBefore you can create an OS Layer version, you'll need to:\n\n\n            \nConfigure a fileshare\n            \n        \n\n\n\nAdd a version of an OS Layer\n\n\nTo add a version of an OS Layer, take the following steps: \n\n\n            \n                \nIn the Unidesk Management Console, select \nLayers > OS Layers.\n            \n            \n                \nSelect or right-click an OS Layer icon and click \nAdd Version\n. This opens the Create OS Version Wizard.\n            \n            \n                \n(Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.  \n            \n            \n                \nIn the Connector tab, select a \nConnector configuration\n for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking \nEdit\n. If you have not yet created a Connector Configuration or if the configuration you need is not present, click \nNew\n to create a new \nConnector Configuration\n and select it from this list.  \n            \n            \n                \nIn the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package the OS when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.\n            \n            \n                \nConfirm and Complete tab - Verify your settings and click \nCreate Version\n. Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of \nAction Required\n. When you double-click the task to expand it, the task contains the following text (refer to the image in the next section): \n                \n\"The Packaging Disk has been published. The virtual machine '\n<\n...>' can be found in folder '\n<\n...>' in datacenter '\n<\n...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"\n            \n        \n\n\n\nNext, you can deploy a Packaging Machine for this OS Layer version.\n\n\nDeploy a Packaging Machine to XenServer\n\n\nThe Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.\n\n\nThe Task Description (example shown in the last step above) contains directions to navigate to the location in XenServer where the Packaging Machine for this Layer has been created.\n\n\nTo create your Packaging Machine in XenServer, begin with the expanded Packaging Disk task shown in step 2 below.\n\n\n            \nLog into your XenServer web client.\n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine. \n                \n                \n                \nThe Packaging Machine will be powered on.\n            \n        \n\n\n\nInstall the OS\n##update \n\n\n            \n                \nRemote log into the Packaging Machine in XenServer. Be sure to log in with the User account you used to create the OSin XenServer.\n            \n            \n                \nInstall any updates or applications you want to include in the new OSLayer version, such as Windows Updates or anti-virus applications.\n                \nIf an application installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the applications you install require any post-installation setup or application registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you will shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during \n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the OS Layer\n\n\nOnce the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.\n\n\nNote: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs. \n\n\nWhen a layer is ready to finalize:\n\n\n            \n                \nReturn to the Unidesk Management Console.\n            \n            \n                \nIn the Layers module, select the Layer.\n            \n            \n                \nSelect \nFinalize\n in the Action bar.\n            \n            \n                \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.\n            \n        \n\n\n\nReference: Create OS Version Wizard values\n\n\n            \n                \nVersion\n - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.\n            \n            \nVersion Description\n - (Optional) Enter a description of the version.\n            \nMax Layer Size\n - (Optional) Maximum layer size in gigabytes. Layers are \nthin provisioned\n, and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.\n            \nSelect a Platform Connector configuration\n - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a \nNew\n one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click \nEdit\n.\n            \nPackaging Disk Filename\n - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "layer_os_version_xs4"
        }, 
        {
            "location": "/layer_os_version_xs4/#add-a-version-to-an-os-layer-xenserver", 
            "text": "In this article:                                                                                           Before you start                                                    Add a Version to an OS Layer                                                   Deploy a Packaging Machine                                                   Install your changes                                                   Verify the Layer and shut down the Packaging Machine                                                   Finalize the OS Layer                                                   Reference: Create OS Version Wizard values                                                                                       The Unidesk OS Layer contains the Windows Operating System that is assigned to any Unidesk Layered Images you create using that OS Layer. Once created, you can use the OS Layer to build as many Layered Images as you want.  The OS Layer includes a virtual machine in your infrastructure running the Unidesk-supported Windows Operating System that you want to use for your Layered Images.", 
            "title": "Add a version to an OS Layer (XenServer)"
        }, 
        {
            "location": "/layer_os_version_xs4/#before-you-start", 
            "text": "Before you can create an OS Layer version, you'll need to:               Configure a fileshare", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_os_version_xs4/#add-a-version-of-an-os-layer", 
            "text": "To add a version of an OS Layer, take the following steps:                                 In the Unidesk Management Console, select  Layers > OS Layers.                                            Select or right-click an OS Layer icon and click  Add Version . This opens the Create OS Version Wizard.                                            (Required) In the Version Details tab, enter a Version identifier. This can be the application version, or anything you choose.                                              In the Connector tab, select a  Connector configuration  for the platform where you'll be publishing your Layered Images.  You can also modify an existing configuration by selecting it and clicking  Edit . If you have not yet created a Connector Configuration or if the configuration you need is not present, click  New  to create a new  Connector Configuration  and select it from this list.                                              In the Platform Layer tab, select a Platform Layer that contains the tools and hardware settings that you need to install and package the OS when adding a Layer Version. Once created, the new Layer Version can be used in Layered Images published to any platform.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the application, as described in the next two sections.                                            Confirm and Complete tab - Verify your settings and click  Create Version . Unidesk runs the task of creating a new OS version. When the task completes, it shows a status of  Action Required . When you double-click the task to expand it, the task contains the following text (refer to the image in the next section):                   \"The Packaging Disk has been published. The virtual machine ' < ...>' can be found in folder ' < ...>' in datacenter ' < ...>'. Power on this virtual machine to install your application. When the installation is complete, power off the virtual machine before clicking Finalize on the Action bar.\"                        Next, you can deploy a Packaging Machine for this OS Layer version.", 
            "title": "Add a version of an OS Layer"
        }, 
        {
            "location": "/layer_os_version_xs4/#deploy-a-packaging-machine-to-xenserver", 
            "text": "The Packaging Machine is a virtual machine where you install any updates or applications you want to include in the OS Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the OS Layer has been finalized.  The Task Description (example shown in the last step above) contains directions to navigate to the location in XenServer where the Packaging Machine for this Layer has been created.  To create your Packaging Machine in XenServer, begin with the expanded Packaging Disk task shown in step 2 below.               Log into your XenServer web client.                               Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task (example shown below) to navigate to the Packaging Machine.                                                     The Packaging Machine will be powered on.", 
            "title": "Deploy a Packaging Machine to XenServer"
        }, 
        {
            "location": "/layer_os_version_xs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_os_version_xs4/#layer-integrity-messages-you-may-see-during", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note: If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during "
        }, 
        {
            "location": "/layer_os_version_xs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_os_version_xs4/#finalize-the-os-layer", 
            "text": "Once the Packaging Machine is created and any apps or updates installed, you'll need to finalize the layer.  Note: When you finalize a new version of an OS Layer, Unidesk deletes the Packaging Machine so as not to incur more costs.   When a layer is ready to finalize:                                Return to the Unidesk Management Console.                                            In the Layers module, select the Layer.                                            Select  Finalize  in the Action bar.                                            Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the OS Layer"
        }, 
        {
            "location": "/layer_os_version_xs4/#reference-create-os-version-wizard-values", 
            "text": "Version  - (Required) This can be the version of the OS Layer or a version you assign to the Layer. This value is displayed in the Details view of the Layer.                           Version Description  - (Optional) Enter a description of the version.              Max Layer Size  - (Optional) Maximum layer size in gigabytes. Layers are  thin provisioned , and will grow as needed, up to the maximum size. The default Max Layer Size is 100 gigabytes. If the version you are creating could requires more space, change this to a realistic value.              Select a Platform Connector configuration  - (Required) Specify a Unidesk Platform Connector for the platform where you'll be publishing your Layered Images. For example, if you're publishing to Azure RD Session Host, select the Azure RDSH connector with the credentials required to access the account. If the configuration you need is not listed, add a  New  one and select it from this list. If you want to change the settings of a Platform Connector configuration, select it and click  Edit .              Packaging Disk Filename  - (Required) The name of the Packaging Machine you created in Azure.", 
            "title": "Reference: Create OS Version Wizard values"
        }, 
        {
            "location": "/layer_platform_create_ah4/", 
            "text": "Platform Layers\n\n\n\n\nNutanix AHV\n\n\n\n\nCreate a Platform Layer (Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Install the required platform tools\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n Finalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nFor cross-platform deployments, a Platform Layer  includes the platform software and settings required to deploy images in your environment. \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. Use this type of Platform Layer when publishing Layered Images to a platform other than the one where you created the OSLayer.\n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment. Use this type of Platform Layer when creating Layers on a platform other than the one from which you imported the OS for your OSLayer.\n            \n        \n\n\n\nPrerequisites\n\n\nNutanix AHV###(Acropolis) prerequisites\n\n\n            \n                \nNutanix Prism account and privileges\n                \n                \n                    \nA Nutanix Prism account (new or existing) to use for Unidesk.\n                    \nThe account must have  privileges to perform the following operations: \nVM operations:\nclone\ndelete\npower on/off\nattach virtual disks\nImage operations:\ncreate\nupdate (aka upload)\ndelete\nVirtual disks\ncreate\nattach to VMs\n                \n            \n            \n                \nNutanix AHVsoftware and settings\n                \nAccess to the VM Mobility Tools to install on the layer. \n            \n            \n                \nNutanix AHVresource information\n                \nThe Acropolis Serverinfo listed in \nNutanix AHV Connector Configuration\n or \nMCSfor Nutanix AHV Connector Configuration\n.\n            \n            \n                \nNutanix AHV Connector\n \n                \nWhen creating Layers for the Nutanix environment, you must use a Nutanix AHVConnector Configuration. The MCS for Nutanix AHVConnector does not support Layer creation.\n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click \nNew\n, select a Nutanix AHV Connector from this list, and \nAdd a Configuration\n for it.\n                \nImportant:\n You must use a Nutanix AHV Connector to create a Layer in Nutanix. The MCSfor Nutanix AHV Connector can only be used for publishing Layered Images, not for creating Layers.\n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see \n Platform Layers\n.\n            \n            \n                \nFrom the dropdown menus, select the platform(s) you are using.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below). \n                \n                \n            \n        \n\n\n\nNext, you can access the Packaging Machine for your Layer, and install the software for your environment. \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.\n\n\nAccess the Packaging Machine in Nutanix AHV\n\n\n            \nLog into Nutanix Prism. \n            \n                \nBack in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the \nCreate Platform Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in Prism.\n        \n\n\n\nInstall the required platform tools\n\n\nIf this is a Platform Layer for Publishing and you created the OSLayer using a different hypervisor than Nutanix AHV, install the VMMobility Tools. (If the OS was created in Nutanix, it already has the tools installed.) The tools installation may require multiple reboots. Once complete, you should see that you have access to the tools, as well as all of the data available under the Performance tab for your VM.\n\n\nIf this is a Platform Layer for Packaging a Layer, install the application software, and configure the app settings as you want them to be for the user.\n\n\nWhen installing your platform software on the Packaging Machine, keep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\nTo install the tools for the selected platform:\n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the platform software and tools, along with any drivers, boot-level applications, or files needed.\n                \n                    \nIf this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.\n                    \nIf this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.\n                    \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n                \n            \n            \n                \nInstall an empty \nflag\n file called \nShutdown_published_Image.txt\n in the following directory:\n  c:\\windows\\setup\\scripts\\kmsdir\n                \nThis enables automated shutdown of the OS.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \n                \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \n            \n                \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \n            \n                \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n            \n        \n\n\n\nThe Shutdown for Finalize task will remain in the Action Required state until you finalize the Layer. \n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the tools are installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer. \n\n\nWhen a layer is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers > Platform Layers\n, and select the Platform Layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "layer_platform_create_ah4"
        }, 
        {
            "location": "/layer_platform_create_ah4/#create-a-platform-layer-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Prepare a new Platform Layer                                                    Install the required platform tools                                                    Verify the Layer and shut down the Packaging Machine                                                    Finalize the Layer                                                                                       For cross-platform deployments, a Platform Layer  includes the platform software and settings required to deploy images in your environment.   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. Use this type of Platform Layer when publishing Layered Images to a platform other than the one where you created the OSLayer.                                            Platform Layers for  packaging Layers  (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment. Use this type of Platform Layer when creating Layers on a platform other than the one from which you imported the OS for your OSLayer.", 
            "title": "Create a Platform Layer (Nutanix AHV)"
        }, 
        {
            "location": "/layer_platform_create_ah4/#prerequisites", 
            "text": "", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ah4/#nutanix-ahvacropolis-prerequisites", 
            "text": "Nutanix Prism account and privileges                                                        A Nutanix Prism account (new or existing) to use for Unidesk.                      The account must have  privileges to perform the following operations:  VM operations: clone delete power on/off attach virtual disks Image operations: create update (aka upload) delete Virtual disks create attach to VMs                                                             Nutanix AHVsoftware and settings                  Access to the VM Mobility Tools to install on the layer.                                             Nutanix AHVresource information                  The Acropolis Serverinfo listed in  Nutanix AHV Connector Configuration  or  MCSfor Nutanix AHV Connector Configuration .                                            Nutanix AHV Connector                    When creating Layers for the Nutanix environment, you must use a Nutanix AHVConnector Configuration. The MCS for Nutanix AHVConnector does not support Layer creation.", 
            "title": "Nutanix AHV###(Acropolis) prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ah4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values.                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click  New , select a Nutanix AHV Connector from this list, and  Add a Configuration  for it.                  Important:  You must use a Nutanix AHV Connector to create a Layer in Nutanix. The MCSfor Nutanix AHV Connector can only be used for publishing Layered Images, not for creating Layers.                                            In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see   Platform Layers .                                            From the dropdown menus, select the platform(s) you are using.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below).                                                           Next, you can access the Packaging Machine for your Layer, and install the software for your environment.   The Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_ah4/#access-the-packaging-machine-in-nutanix-ahv", 
            "text": "Log into Nutanix Prism.                                Back in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the  Create Platform Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in Prism.", 
            "title": "Access the Packaging Machine in Nutanix AHV"
        }, 
        {
            "location": "/layer_platform_create_ah4/#install-the-required-platform-tools", 
            "text": "If this is a Platform Layer for Publishing and you created the OSLayer using a different hypervisor than Nutanix AHV, install the VMMobility Tools. (If the OS was created in Nutanix, it already has the tools installed.) The tools installation may require multiple reboots. Once complete, you should see that you have access to the tools, as well as all of the data available under the Performance tab for your VM.  If this is a Platform Layer for Packaging a Layer, install the application software, and configure the app settings as you want them to be for the user.  When installing your platform software on the Packaging Machine, keep in mind that the state of the software before you finalize the layer is what the image will use.   To install the tools for the selected platform:                                Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the platform software and tools, along with any drivers, boot-level applications, or files needed.                                       If this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.                      If this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.                      If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                                             Install an empty  flag  file called  Shutdown_published_Image.txt  in the following directory:   c:\\windows\\setup\\scripts\\kmsdir                  This enables automated shutdown of the OS.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_ah4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:                                If you are not logged into the Packaging Machine, remote log in as the user who created the machine.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.                                             If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .                                            Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.                         The Shutdown for Finalize task will remain in the Action Required state until you finalize the Layer.   The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_ah4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_ah4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_ah4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the tools are installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer.   When a layer is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers > Platform Layers , and select the Platform Layer you just prepared.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/", 
            "text": "Platform Layers\n\n\n\n\nCitrix MCS (Citric MCS for Nutanix AHV connector)\n\n\n\n\nCreate a Platform Layer (Citrix MCS for Nutanix AHV)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Install the required platform tools\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n Finalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nFor cross-platform deployments, a Platform Layer  includes the platform software and settings required to deploy images in your environment. \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. Use this type of Platform Layer when publishing Layered Images to a platform other than the one where you created the OSLayer.\n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment. Use this type of Platform Layer when creating Layers on a platform other than the one from which you imported the OS for your OSLayer.\n            \n        \n\n\n\nPrerequisites\n\n\nCitrix MCS prerequisites\n\n\nWhen creating a Platform Layer for publishing images to an MCS environment, you need:\n\n\n            \n                \nAn OSLayer\n                \n            \n            \n                \nNetwork access to Unidesk Tools\n                \nAccess from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).\n            \n            \n                \nCitrix Virtual Delivery Agent (VDA) installed on the Platform Layer\n                \n                \nThe Citrix VDA installer for the Windows OS you are using must be installed on the Platform Layer. \n            \n            \n                \nCitrix Desktop Delivery Controller (DDC)\n                \n                \nThe Citrix DDC software must be installed on the server where the Layered Image will be published.\n                \nAs part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the following:\n                \n                    \nUnidesk Agent\n - Installed and running on the DDC. This allows Unidesk to run the script on the DDC.\n                    \nPowerShell Snap-in\n - Appropriate PowerShell Snap-in must be installed on the DDC.\n                \n            \n            \n                \nCitrixresource information\n                \n                \nThe Citrixinfo listed in this \nMCS Connector Configuration\n topic.\n            \n        \n\n\n\nNutanix AHV###(Acropolis) prerequisites\n\n\n            \n                \nNutanix Prism account and privileges\n                \n                \n                    \nA Nutanix Prism account (new or existing) to use for Unidesk.\n                    \nThe account must have  privileges to perform the following operations: \nVM operations:\nclone\ndelete\npower on/off\nattach virtual disks\nImage operations:\ncreate\nupdate (aka upload)\ndelete\nVirtual disks\ncreate\nattach to VMs\n                \n            \n            \n                \nNutanix AHVsoftware and settings\n                \nAccess to the VM Mobility Tools to install on the layer. \n            \n            \n                \nNutanix AHVresource information\n                \nThe Acropolis Serverinfo listed in \nNutanix AHV Connector Configuration\n or \nMCSfor Nutanix AHV Connector Configuration\n.\n            \n            \n                \nNutanix AHV Connector\n \n                \nWhen creating Layers for the Nutanix environment, you must use a Nutanix AHVConnector Configuration. The MCS for Nutanix AHVConnector does not support Layer creation.\n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click \nNew\n, select an \nMCS for Nutanix AHV\n Connector from this list, and \nAdd a Configuration\n for it.\n                \nImportant:\n The MCSfor Nutanix AHV Connector can \nonly\n be used to publish Layered Images, \nnot\n to create Layers. \n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see \n Platform Layers\n.\n            \n            \n                \nFrom the drop-down menus, select the hypervisor, provisioning service, and connection broker you are using, in this case, \nNutanix AHV \n and \nCitrix MCS\n.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below). \n                \n                \n            \n        \n\n\n\nNext, you can access the Packaging Machine for your Layer, and install the software for your environment. \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.\n\n\nAccess the Packaging Machine in Nutanix AHV\n\n\n            \nLog into Nutanix Prism. \n            \n                \nBack in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the \nCreate Platform Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in Prism.\n        \n\n\n\nInstall the required platform tools\n\n\nIf you created the OSLayer on a hypervisor other than Nutanix, install the VMMobility Tools. (If the OS was created in Nutanix, it already has the tools installed.) The tools installation may require multiple reboots. Once complete, you should see that you have access to the tools, as well as all of the data available under the Performance tab for your VM.\n\n\nWhen installing your platform software on the Packaging Machine, keep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\nTo install the tools for the selected platform:\n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the platform software and tools, along with any drivers, boot-level applications, or files needed.\n                \n                    \nIf this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.\n                    \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n                \n            \n            \n                \nInstall an empty \nflag\n file called \nShutdown_published_Image.txt\n in the following directory:\n  c:\\windows\\setup\\scripts\\kmsdir\n                \nThis enables automated shutdown of the OS.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \n                \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \n            \n                \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \n            \n                \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n            \n        \n\n\n\nThe Shutdown for Finalize task will remain in the Action Required state until you finalize the Layer. \n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the tools are installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer. \n\n\nWhen a layer is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers > Platform Layers\n, and select the Platform Layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "layer_platform_create_ah_mc4"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#create-a-platform-layer-citrix-mcs-for-nutanix-ahv", 
            "text": "In this article:                                                                                            Prerequisites                                                    Prepare a new Platform Layer                                                    Install the required platform tools                                                    Verify the Layer and shut down the Packaging Machine                                                    Finalize the Layer                                                                                       For cross-platform deployments, a Platform Layer  includes the platform software and settings required to deploy images in your environment.   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. Use this type of Platform Layer when publishing Layered Images to a platform other than the one where you created the OSLayer.                                            Platform Layers for  packaging Layers  (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment. Use this type of Platform Layer when creating Layers on a platform other than the one from which you imported the OS for your OSLayer.", 
            "title": "Create a Platform Layer (Citrix MCS for Nutanix AHV)"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#prerequisites", 
            "text": "", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#citrix-mcs-prerequisites", 
            "text": "When creating a Platform Layer for publishing images to an MCS environment, you need:                                An OSLayer                                                             Network access to Unidesk Tools                  Access from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).                                            Citrix Virtual Delivery Agent (VDA) installed on the Platform Layer                                   The Citrix VDA installer for the Windows OS you are using must be installed on the Platform Layer.                                             Citrix Desktop Delivery Controller (DDC)                                   The Citrix DDC software must be installed on the server where the Layered Image will be published.                  As part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the following:                                       Unidesk Agent  - Installed and running on the DDC. This allows Unidesk to run the script on the DDC.                      PowerShell Snap-in  - Appropriate PowerShell Snap-in must be installed on the DDC.                                                             Citrixresource information                                   The Citrixinfo listed in this  MCS Connector Configuration  topic.", 
            "title": "Citrix MCS prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#nutanix-ahvacropolis-prerequisites", 
            "text": "Nutanix Prism account and privileges                                                        A Nutanix Prism account (new or existing) to use for Unidesk.                      The account must have  privileges to perform the following operations:  VM operations: clone delete power on/off attach virtual disks Image operations: create update (aka upload) delete Virtual disks create attach to VMs                                                             Nutanix AHVsoftware and settings                  Access to the VM Mobility Tools to install on the layer.                                             Nutanix AHVresource information                  The Acropolis Serverinfo listed in  Nutanix AHV Connector Configuration  or  MCSfor Nutanix AHV Connector Configuration .                                            Nutanix AHV Connector                    When creating Layers for the Nutanix environment, you must use a Nutanix AHVConnector Configuration. The MCS for Nutanix AHVConnector does not support Layer creation.", 
            "title": "Nutanix AHV###(Acropolis) prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values.                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click  New , select an  MCS for Nutanix AHV  Connector from this list, and  Add a Configuration  for it.                  Important:  The MCSfor Nutanix AHV Connector can  only  be used to publish Layered Images,  not  to create Layers.                                             In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see   Platform Layers .                                            From the drop-down menus, select the hypervisor, provisioning service, and connection broker you are using, in this case,  Nutanix AHV   and  Citrix MCS .                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below).                                                           Next, you can access the Packaging Machine for your Layer, and install the software for your environment.   The Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#access-the-packaging-machine-in-nutanix-ahv", 
            "text": "Log into Nutanix Prism.                                Back in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the  Create Platform Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in Prism.", 
            "title": "Access the Packaging Machine in Nutanix AHV"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#install-the-required-platform-tools", 
            "text": "If you created the OSLayer on a hypervisor other than Nutanix, install the VMMobility Tools. (If the OS was created in Nutanix, it already has the tools installed.) The tools installation may require multiple reboots. Once complete, you should see that you have access to the tools, as well as all of the data available under the Performance tab for your VM.  When installing your platform software on the Packaging Machine, keep in mind that the state of the software before you finalize the layer is what the image will use.   To install the tools for the selected platform:                                Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the platform software and tools, along with any drivers, boot-level applications, or files needed.                                       If this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.                      If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                                             Install an empty  flag  file called  Shutdown_published_Image.txt  in the following directory:   c:\\windows\\setup\\scripts\\kmsdir                  This enables automated shutdown of the OS.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:                                If you are not logged into the Packaging Machine, remote log in as the user who created the machine.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.                                             If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .                                            Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.                         The Shutdown for Finalize task will remain in the Action Required state until you finalize the Layer.   The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_ah_mc4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the tools are installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer.   When a layer is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers > Platform Layers , and select the Platform Layer you just prepared.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_az4/", 
            "text": "Platform Layers\n\n\n\n\nAzure RDSH (Azure connector)\n\n\n\n\nCreate a Platform Layer (Azure connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Create a Platform Layer (Azure connector)\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Install the platform software\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n Finalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well). \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.\n            \n        \n\n\n\nPrerequisites\n\n\nWhen creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create. \n\n\n            \n            \n            \n                \n                    \nType of Platform Layer\n                    \nPrerequisites\n                \n            \n            \n                \n                    \nPublishing Layered Images\n                    \n                        \nSoftware installers, and settings you use for your:\n                        \n                            \nHypervisor\n                            \nProvisioning service\n                            \nConnection broker  \n                        \n                    \n                \n                \n                    \nPackaging Layers\n                    \n                        \nThe software and settings for your:\n                        \n                            \nHypervisor\n                        \n                        \nFor example, your hypervisor installer and settings. \n                        \nNote:\n You only need a Platform Layer for \npackaging\n Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.\n                    \n                \n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a \nNew\nConnector Configuration\n and select it from this list.\n                \nExample: If you are creating the layer in a vSphere environment, select the vSphere connector with the information needed to access the location where you will package this layer.\n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see \n Platform Layers\n.\n            \n            \n                \nFrom the dropdown menus, select the platform(s) you are using.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a virtual machine where you install the app(s) you want to include in this Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the Layer has been finalized.\n\n\nDeploy a Packaging Machine to Azure\n\n\nThe Task Description (example shown in the last step above) contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.\n\n\nTo create your Packaging Machine in Azure, begin with the expanded Packaging Disk Task shown in the last step above.\n\n\n            \nLog into the Azure portal (https://portal.azure.com) from your web browser.\n            \n                \nIn the expanded Packaging Disk Task shown below, copy the full URL and paste it into the web browser where you logged into the Azure portal. This opens the Microsoft Azure portal to the \nCustom deployment\n template where you can create the virtual machine that you will use as your Unidesk Packaging Machine. \n                \nNote:\n We recommend copying the full URL instead of using the Click \nhere\n link. \n                \n                \n            \n            \n                \nOn the Custom deployment panel, complete the required fields for customizing your Azure parameters. \n                \n                    \nPackaging Machine Name - must conform to Azure VM name requirements.\n                    \nSize - the Azure VM size of the packaging machine.\n                    \nVirtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.\n                \n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.\n                \n                \n            \n        \n\n\n\nInstall the platform software\n\n\nThis section explains how to install your application(s) on the Packaging Machine you created in Azure. Keep in mind that the state of the software before you finalize the layer is what users experience when they access it. \n\n\nTo install the application(s):\n\n\n            \n                \nRemote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.\n            \n            \n                \nInstall the Azure hypervisor software, along with any drivers, boot-level applications,  or files that you need for packaging Layers in Azure.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be for the user:\n                \n                    \nIf the software you install requires any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the platform software is installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer. \n\n\nNote: When you finalize a Platform Layer, Unidesk deletes the Packaging Machine. \n\n\nWhen a layer is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nIn the Layers module, select the layer.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "layer_platform_create_az4"
        }, 
        {
            "location": "/layer_platform_create_az4/#create-a-platform-layer-azure-connector", 
            "text": "In this article:                                                                                            Create a Platform Layer (Azure connector)                                                    Prepare a new Platform Layer                                                    Deploy a Packaging Machine                                                     Install the platform software                                                    Verify the Layer and shut down the Packaging Machine                                                    Finalize the Layer                                                                                       A Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well).   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.", 
            "title": "Create a Platform Layer (Azure connector)"
        }, 
        {
            "location": "/layer_platform_create_az4/#prerequisites", 
            "text": "When creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create.                                                                                Type of Platform Layer                      Prerequisites                                                                                  Publishing Layered Images                                               Software installers, and settings you use for your:                                                       Hypervisor                              Provisioning service                              Connection broker                                                                                                        Packaging Layers                                               The software and settings for your:                                                       Hypervisor                                                   For example, your hypervisor installer and settings.                           Note:  You only need a Platform Layer for  packaging  Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_az4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a  New Connector Configuration  and select it from this list.                  Example: If you are creating the layer in a vSphere environment, select the vSphere connector with the information needed to access the location where you will package this layer.                                            In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see   Platform Layers .                                            From the dropdown menus, select the platform(s) you are using.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment.                                                           Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_az4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install the app(s) you want to include in this Layer. It is strongly recommended that you use a unique Packaging Machine for each Layer. The Packaging Machine is a temporary VM that will be deleted once the Layer has been finalized.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_platform_create_az4/#deploy-a-packaging-machine-to-azure", 
            "text": "The Task Description (example shown in the last step above) contains a link to the location in the Azure portal where the Packaging Machine for this Layer has been published.  To create your Packaging Machine in Azure, begin with the expanded Packaging Disk Task shown in the last step above.               Log into the Azure portal (https://portal.azure.com) from your web browser.                               In the expanded Packaging Disk Task shown below, copy the full URL and paste it into the web browser where you logged into the Azure portal. This opens the Microsoft Azure portal to the  Custom deployment  template where you can create the virtual machine that you will use as your Unidesk Packaging Machine.                   Note:  We recommend copying the full URL instead of using the Click  here  link.                                                                               On the Custom deployment panel, complete the required fields for customizing your Azure parameters.                                        Packaging Machine Name - must conform to Azure VM name requirements.                      Size - the Azure VM size of the packaging machine.                      Virtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.                                   IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.", 
            "title": "Deploy a Packaging Machine to Azure"
        }, 
        {
            "location": "/layer_platform_create_az4/#install-the-platform-software", 
            "text": "This section explains how to install your application(s) on the Packaging Machine you created in Azure. Keep in mind that the state of the software before you finalize the layer is what users experience when they access it.   To install the application(s):                                Remote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.                                            Install the Azure hypervisor software, along with any drivers, boot-level applications,  or files that you need for packaging Layers in Azure.                                            Make sure the Packaging Machine is in the state you want it to be for the user:                                       If the software you install requires any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Layer is ready to finalize.", 
            "title": "Install the platform software"
        }, 
        {
            "location": "/layer_platform_create_az4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the application is installed on the Packaging Machine, the next step is to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_az4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_az4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_az4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the platform software is installed and ready to finalize, and you have shut down the machine, you'll need to finalize the layer.   Note: When you finalize a Platform Layer, Unidesk deletes the Packaging Machine.   When a layer is ready to finalize:               Return to the Unidesk Management Console.              In the Layers module, select the layer.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n Create a Platform Layer \n\n\nCreate a Platform Layer\n\n\nWhich Connector are you using to create this Platform Layer? \n\n\nAzure RDSH (Azure connector)\n            \n\n\nCitrix MCS (Ctrix MCS for vSphere connector) \n            \n\n\nCitrix MCS (Citric MCS for Nutanix AHV connector)\n            \n\n\nCitrix PVS (Citrix PVS connector)\n            \n\n\nCitrix XenServer (Citrix XenServer connector)\n            \n\n\nCross platform (NFS connector)\n            \n\n\nNutanix AHV\n            \n\n\nVMware Horizon View (Horizon View connector)\n            \n\n\nVMware vSphere (vSphere connector)\n            \n\n\nFor more about Platform Layers, see \nLayer Essentials: Platform Layers", 
            "title": "layer_platform_create_co4"
        }, 
        {
            "location": "/layer_platform_create_co4/#create-a-platform-layer", 
            "text": "Which Connector are you using to create this Platform Layer?   Azure RDSH (Azure connector)               Citrix MCS (Ctrix MCS for vSphere connector)                Citrix MCS (Citric MCS for Nutanix AHV connector)               Citrix PVS (Citrix PVS connector)               Citrix XenServer (Citrix XenServer connector)               Cross platform (NFS connector)               Nutanix AHV               VMware Horizon View (Horizon View connector)               VMware vSphere (vSphere connector)               For more about Platform Layers, see  Layer Essentials: Platform Layers", 
            "title": "Create a Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_mc4/", 
            "text": "Platform Layers\n\n\n\n\nCitrix MCS (Ctrix MCS for vSphere connector) \n\n\n\n\nCreate a Platform Layer (Citrix MCS for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n \n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Create a Platform Layer (Citrix MCS for vSphere)\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \nFinalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to Citrix MCS in vSphere with XenApp as the broker would include the MCS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well). \n\n\nThis article explains the next steps to create a Platform Layer, based on your connector and platform choices. If you need more information than is included here, check these other Unidesk sources: \nLayer essentials (Unidesk Learning Center)\n and the \nUnidesk Forum\n.\n\n\nA Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker. \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - A Platform Layer for \npublishing\n is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - A Platform Layer for \npackaging\n is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor. \n            \n        \n\n\n\nPrerequisites\n\n\nWhen creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create. \n\n\n            \n            \n            \n                \n                    \nType of Platform Layer\n                    \nPrerequisites\n                \n            \n            \n                \n                    \nPublishing Layered Images\n                    \n                        \nSoftware installers, and settings you use for your:\n                        \n                            \nHypervisor\n                            \nProvisioning service\n                            \nConnection broker  \n                        \n                    \n                \n                \n                    \nPackaging Layers\n                    \n                        \nThe software and settings for your:\n                        \n                            \nHypervisor\n                        \n                        \nFor example, your hypervisor installer and settings. \n                        \nNote:\n You only need a Platform Layer for \npackaging\n Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.\n                    \n                \n            \n        \n\n\n\nCitrix MCS prerequisites\n\n\nWhen creating a Platform Layer for publishing images to an MCS environment, you need:\n\n\n            \n                \nAn OSLayer\n                \n            \n            \n                \nNetwork access to Unidesk Tools\n                \nAccess from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).\n            \n            \n                \nCitrix Virtual Delivery Agent (VDA) installed on the Platform Layer\n                \n                \nThe Citrix VDA installer for the Windows OS you are using must be installed on the Platform Layer. \n            \n            \n                \nCitrix Desktop Delivery Controller (DDC)\n                \n                \nThe Citrix DDC software must be installed on the server where the Layered Image will be published.\n                \nAs part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the following:\n                \n                    \nUnidesk Agent\n - Installed and running on the DDC. This allows Unidesk to run the script on the DDC.\n                    \nPowerShell Snap-in\n - Appropriate PowerShell Snap-in must be installed on the DDC.\n                \n            \n            \n                \nCitrixresource information\n                \n                \nThe Citrixinfo listed in this \nMCS Connector Configuration\n topic.\n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\nTo create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for MCS, and finalize the Layer. \n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list.\n                \nExample: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.\n            \n            \n                \nIn the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image. \n                \nExample: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. \n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.\n\n\nLog into the Packaging Machine\n\n\nThe Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.\n\n\n            \nLog into your vSphere web client.\n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine. \n                \n                \n            \n            \nPower on the Packaging Machine.\n        \n\n\n\nInstall the required platform tools\n\n\nThis section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment. \n\n\nPlatform software to install\n\n\nYou need the installers for your hypervisor, provisioning service, and connection broker. \n\n\nIf you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.\n\n\nKeep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.\n                \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer. \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "layer_platform_create_mc4"
        }, 
        {
            "location": "/layer_platform_create_mc4/#create-a-platform-layer-citrix-mcs-for-vsphere", 
            "text": "In this article:                                                                                                                                                Prepare a new Platform Layer                                                    Deploy a Packaging Machine                                                     Create a Platform Layer (Citrix MCS for vSphere)                                                    Verify the Layer and shut down the Packaging Machine                                                   Finalize the Layer                                                                                       A Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to Citrix MCS in vSphere with XenApp as the broker would include the MCS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well).   This article explains the next steps to create a Platform Layer, based on your connector and platform choices. If you need more information than is included here, check these other Unidesk sources:  Layer essentials (Unidesk Learning Center)  and the  Unidesk Forum .  A Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker.   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - A Platform Layer for  publishing  is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - A Platform Layer for  packaging  is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor.", 
            "title": "Create a Platform Layer (Citrix MCS for vSphere)"
        }, 
        {
            "location": "/layer_platform_create_mc4/#prerequisites", 
            "text": "When creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create.                                                                                Type of Platform Layer                      Prerequisites                                                                                  Publishing Layered Images                                               Software installers, and settings you use for your:                                                       Hypervisor                              Provisioning service                              Connection broker                                                                                                        Packaging Layers                                               The software and settings for your:                                                       Hypervisor                                                   For example, your hypervisor installer and settings.                           Note:  You only need a Platform Layer for  packaging  Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_mc4/#citrix-mcs-prerequisites", 
            "text": "When creating a Platform Layer for publishing images to an MCS environment, you need:                                An OSLayer                                                             Network access to Unidesk Tools                  Access from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).                                            Citrix Virtual Delivery Agent (VDA) installed on the Platform Layer                                   The Citrix VDA installer for the Windows OS you are using must be installed on the Platform Layer.                                             Citrix Desktop Delivery Controller (DDC)                                   The Citrix DDC software must be installed on the server where the Layered Image will be published.                  As part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the following:                                       Unidesk Agent  - Installed and running on the DDC. This allows Unidesk to run the script on the DDC.                      PowerShell Snap-in  - Appropriate PowerShell Snap-in must be installed on the DDC.                                                             Citrixresource information                                   The Citrixinfo listed in this  MCS Connector Configuration  topic.", 
            "title": "Citrix MCS prerequisites"
        }, 
        {
            "location": "/layer_platform_create_mc4/#prepare-a-new-platform-layer", 
            "text": "To create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for MCS, and finalize the Layer.                                 Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                  Example: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.                                            In the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image.                   Example: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                             Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment.                                                           Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_mc4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install the tools for your selected environment.   Note: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_platform_create_mc4/#log-into-the-packaging-machine", 
            "text": "The Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.               Log into your vSphere web client.                               Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine.                                                              Power on the Packaging Machine.", 
            "title": "Log into the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_mc4/#install-the-required-platform-tools", 
            "text": "This section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_mc4/#platform-software-to-install", 
            "text": "You need the installers for your hypervisor, provisioning service, and connection broker.   If you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.  Keep in mind that the state of the software before you finalize the layer is what the image will use.                                 Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.                  If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.  Verify the Layer and shut down the Packaging Machine  Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Platform software to install"
        }, 
        {
            "location": "/layer_platform_create_mc4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_mc4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_mc4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer.   Note: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_ot4/", 
            "text": "Platform Layers\n\n\n\n\nCross platform (NFS connector)\n\n\n\n\nCreate a Platform Layer (Network File Share Connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Install the required platform tools\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n Finalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well). \n\n\nWhen do you need a Platform Layer? \n\n\n            \nWhen creating your App Layers and OSLayer Versions, you will need a Platform Layer for Packaging Layers, if you imported your OSimage (aka  gold image)  from a different hypervisor than the one where the ELMis installed.\n            \nWhenever you publish a Layered Image, you will need a Platform Layer for Publishing.\n        \n\n\n\nYou can create two kinds of Platform Layers:\n\n\n            \nPlatform Layers for \npublishing Layered Images\n (Required) \nThese Layers include the software and settings required for a Layered Image to run flawlessly in your environment. \n            \nPlatform Layers for \npackaging Layers\n (Required in some cases) \nThese Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.\n        \n\n\n\nPrerequisites\n\n\n            \n                \nPrerequisites for creating a Platform Layer for Packaging Layers \n                \nYou need the \nhypervisor\n software for your environment.\n            \n            \n                \nPrerequisites for creating a Platform Layer for publishing Layered Images\n                \nYou need the \nhypervisor\n prerequisites, plus the prerequisites for the \nprovisioning service\n and/or \nconnection broker\n software for your environment.\n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose the \nNetwork File Share\n for your Connector Configuration.\n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: \n                \n                    \nFor creating and updating Layers - \nOnly\n required if you will create Layers on a different hypervisor than the one from which you imported your OS.\n                    \nFor publishing Layered Images - Required whenever you publish Layered Images.\n                \n                \nFor more about these choices, see \n Platform Layer Essentials\n.\n            \n            \n                \nIf this Platform Layer is for:\n                \n                    \nCreating and updating Layers - Select the Hypervisor where you will be creating and updating (packaging) Layers. \n                    \nPublishing Layered Images - Select the Hypervisor, Provisioning Service, and Connector Broker that make up the environment where you will be \npublishing\n images. \n                \n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n                \nA Boot disk and a Packaging disk are created, and the Tasks bar displays instructions to navigate to them.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the disks have been created, the Task bar displays the location of the disks on the Network File Share: /Unidesk/Packaging Disks.\n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a temporary VM where you install the platform tools you want to include in the Layer. \n\n\nCreate the Packaging Machine\n\n\nThe Task Description (example shown in the last step above) contains the location in your environment where the disks for this Layer have been created.\n\n\n            \nLog into the client for your hypervisor. \n            \n                \nLocate the Packaging disks in the following directory on the Network File Share: \n                \n\\Unidesk\\Packaging Disks\n            \n            \n                \nCopy the disks to the hypervisor where you will install the software for the Layer.\n                \nNote:\n Even if the Packaging Disks in \\Unidesk\\Packaging Disks are already in the hypervisor where you will be installing the tools, we recommend copying the disks to another location. This is because when you use the disk to create a new VM, the directory will quickly become crowded with files generated by your hypervisor.\n                \nImportant:\n Do not copy the disk to the Finalize folder until it is ready to finalize. A disk in the Finalize folder cannot be attached to the new VM that you are going to create next.\n            \n            \n                \nIn your hypervisor, create a VM from the \nBoot\n disk and name it \nLayer_Name\nBoot\n.\nxxx\n.\n            \n            \n                \nIn your hypervisor, select the VM, and attach the disk called \nLayer_Name\nPkg\n.\nxxx\n to the VM.\n            \n            \n                \nCreate a virtual machine using the Packaging Disk as the boot disk. This is the Packaging Machine where you will install the application(s) to include in the layer. \n            \n            \nPower on the Packaging Machine.\n        \n\n\n\nInstall the required platform tools\n\n\nThis section explains how to install the tools your Layered Images will need to run your the target platform onto the Packaging Machine you just created. Keep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\nTo install the tools for the selected platform:\n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.\n                \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \n                \n Copy the Packaging Machine to the Finalize folder on the Network File Share: \n                \n\\Unidesk\\Finalize\n            \n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the platform tools are installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer. \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used. \n\n\n            \nReturn to the Unidesk Management Console (UMC).\n            \nSelect \nLayers > Platform Layers\n.\n            \nSelect the Layer to finalize, and then select \nFinalize\n on the Action bar. The Layer is finalized and becomes Deployable.\n        \n\n\n\nWhen a layer is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers > Platform Layers\n.\n            \nSelect the Platform Layer you just prepared, and select \nFinalize\n in the Action bar.\n            \nMonitor the Task bar and verify that the layer becomes deployable.", 
            "title": "layer_platform_create_ot4"
        }, 
        {
            "location": "/layer_platform_create_ot4/#create-a-platform-layer-network-file-share-connector", 
            "text": "In this article:                                                                                            Prerequisites                                                    Prepare a new Platform Layer                                                    Deploy a Packaging Machine                                                     Install the required platform tools                                                    Verify the Layer and shut down the Packaging Machine                                                    Finalize the Layer                                                                                       A Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well).   When do you need a Platform Layer?                When creating your App Layers and OSLayer Versions, you will need a Platform Layer for Packaging Layers, if you imported your OSimage (aka  gold image)  from a different hypervisor than the one where the ELMis installed.              Whenever you publish a Layered Image, you will need a Platform Layer for Publishing.           You can create two kinds of Platform Layers:               Platform Layers for  publishing Layered Images  (Required)  These Layers include the software and settings required for a Layered Image to run flawlessly in your environment.               Platform Layers for  packaging Layers  (Required in some cases)  These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.", 
            "title": "Create a Platform Layer (Network File Share Connector)"
        }, 
        {
            "location": "/layer_platform_create_ot4/#prerequisites", 
            "text": "Prerequisites for creating a Platform Layer for Packaging Layers                   You need the  hypervisor  software for your environment.                                            Prerequisites for creating a Platform Layer for publishing Layered Images                  You need the  hypervisor  prerequisites, plus the prerequisites for the  provisioning service  and/or  connection broker  software for your environment.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_ot4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose the  Network File Share  for your Connector Configuration.                                            In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer:                                        For creating and updating Layers -  Only  required if you will create Layers on a different hypervisor than the one from which you imported your OS.                      For publishing Layered Images - Required whenever you publish Layered Images.                                   For more about these choices, see   Platform Layer Essentials .                                            If this Platform Layer is for:                                       Creating and updating Layers - Select the Hypervisor where you will be creating and updating (packaging) Layers.                       Publishing Layered Images - Select the Hypervisor, Provisioning Service, and Connector Broker that make up the environment where you will be  publishing  images.                                                              In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                  A Boot disk and a Packaging disk are created, and the Tasks bar displays instructions to navigate to them.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the disks have been created, the Task bar displays the location of the disks on the Network File Share: /Unidesk/Packaging Disks.                                                          Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_ot4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a temporary VM where you install the platform tools you want to include in the Layer.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_platform_create_ot4/#create-the-packaging-machine", 
            "text": "The Task Description (example shown in the last step above) contains the location in your environment where the disks for this Layer have been created.               Log into the client for your hypervisor.                                Locate the Packaging disks in the following directory on the Network File Share:                   \\Unidesk\\Packaging Disks                                            Copy the disks to the hypervisor where you will install the software for the Layer.                  Note:  Even if the Packaging Disks in \\Unidesk\\Packaging Disks are already in the hypervisor where you will be installing the tools, we recommend copying the disks to another location. This is because when you use the disk to create a new VM, the directory will quickly become crowded with files generated by your hypervisor.                  Important:  Do not copy the disk to the Finalize folder until it is ready to finalize. A disk in the Finalize folder cannot be attached to the new VM that you are going to create next.                                            In your hypervisor, create a VM from the  Boot  disk and name it  Layer_Name Boot . xxx .                                            In your hypervisor, select the VM, and attach the disk called  Layer_Name Pkg . xxx  to the VM.                                            Create a virtual machine using the Packaging Disk as the boot disk. This is the Packaging Machine where you will install the application(s) to include in the layer.                            Power on the Packaging Machine.", 
            "title": "Create the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_ot4/#install-the-required-platform-tools", 
            "text": "This section explains how to install the tools your Layered Images will need to run your the target platform onto the Packaging Machine you just created. Keep in mind that the state of the software before you finalize the layer is what the image will use.   To install the tools for the selected platform:                                Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.                  If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_ot4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:                                 Copy the Packaging Machine to the Finalize folder on the Network File Share:                   \\Unidesk\\Finalize                           If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_ot4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_ot4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_ot4/#finalize-the-layer", 
            "text": "Once the platform tools are installed and the Packaging Machine has been verified and shut down, you are ready to finalize the layer.   Note: When you finalize a Layer, Unidesk may delete the Packaging Machine to minimize storage space used.                Return to the Unidesk Management Console (UMC).              Select  Layers > Platform Layers .              Select the Layer to finalize, and then select  Finalize  on the Action bar. The Layer is finalized and becomes Deployable.           When a layer is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers > Platform Layers .              Select the Platform Layer you just prepared, and select  Finalize  in the Action bar.              Monitor the Task bar and verify that the layer becomes deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_pv4/", 
            "text": "Platform Layers\n\n\n\n\nCitrix PVS (Citrix PVS connector)\n\n\n\n\nCreate a Platform Layer (PVS)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Create a Platform Layer (PVS)\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \nFinalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well). \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.\n            \n        \n\n\n\nTo create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for PVS, and finalize the Layer. \n\n\nBefore you start\n\n\nPlatform Layer Prerequisites\n\n\n            \n                \nAn OSLayer\n                \n            \n        \n\n\n\nPVS###Prerequisites\n\n\n            \n                \nIPv6 must be \ndisabled\n on the OSLayer.\n \n                \nIf IPv6 is not disabled on your OSLayer, add a new Version to the OSLayer and disable IPv6 in the new Version. \n                \nIMPORTANT:\n If you disable IPv6 on the \nPlatform Layer\n instead of on the \nOSLayer\n, the resulting PVSmachines  will lose their network connection and hang when they are booted. \n            \n            \n                \nUnidesk Agent\n                \n                \nThe Unidesk Agent must be installed on all PVS servers used to access the PVS servers to which you will publish images. (Each Agent must be registered wit the Unidesk ELM.)\n            \n            \n                \nPVSservers where the Unidesk Agent is installed\n                \n                \nThe PVSConsole must be installed on all PVS servers where the Unidesk Agent is installed.\n            \n            \n                \nPVS Target Device Imaging software\n                \n                \nThe PVS Target Device Imaging software must be available to install on the Platform Layer. The version must match the PVS server where the Layered Image will be published.\n            \n            \n                \nPVSresource information\n                \n                \nThe PVSinfo listed in this \nPVS Connector Configuration\n topic.\n            \n            \n                \nPowerShell Snap-in\n                \n                \nAppropriate PowerShell Snap-in must be installed.\n            \n            \n                \nUnique CMID for each target device (if using KMS)\n                \n                \nWhen using KMS licensing, PVS requires that each target device has a unique CMID. For the full story, check out this Citrix article, \nDemystifying KMS and Provisioning Services\n. Rearming KMS is covered in the steps to Create a Platform Layer. \n            \n            \n                \nAny additional PVS settings you use in your environment\n                \n                \nAny settings you need to configure PVSon your Platform Layer so that it matches the environment where the Layered Image will be used.\n            \n        \n\n\n\nRequired Tools and Settings\n\n\n            \nUnidesk Tools download\n            \nPVS settings\n            \nKMS settings\n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list.\n                \nExample: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.\n            \n            \n                \nIn the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image. \n                \nExample: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. \n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.\n\n\nLog into the Packaging Machine\n\n\nThe Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.\n\n\n            \nLog into your vSphere web client.\n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine. \n                \n                \n            \n            \nPower on the Packaging Machine.\n        \n\n\n\nInstall the required platform tools\n\n\nThis section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment. \n\n\nPlatform software to install\n\n\nYou need the installers for your hypervisor, provisioning service, and connection broker. \n\n\nIf you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.\n\n\nKeep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.\n                \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer. \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "layer_platform_create_pv4"
        }, 
        {
            "location": "/layer_platform_create_pv4/#create-a-platform-layer-pvs", 
            "text": "In this article:                                                                                            Before you start                                                    Prepare a new Platform Layer                                                    Deploy a Packaging Machine                                                     Create a Platform Layer (PVS)                                                    Verify the Layer and shut down the Packaging Machine                                                   Finalize the Layer                                                                                       A Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well).   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.                        To create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for PVS, and finalize the Layer.", 
            "title": "Create a Platform Layer (PVS)"
        }, 
        {
            "location": "/layer_platform_create_pv4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_platform_create_pv4/#platform-layer-prerequisites", 
            "text": "An OSLayer", 
            "title": "Platform Layer Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_pv4/#pvsprerequisites", 
            "text": "IPv6 must be  disabled  on the OSLayer.                    If IPv6 is not disabled on your OSLayer, add a new Version to the OSLayer and disable IPv6 in the new Version.                   IMPORTANT:  If you disable IPv6 on the  Platform Layer  instead of on the  OSLayer , the resulting PVSmachines  will lose their network connection and hang when they are booted.                                             Unidesk Agent                                   The Unidesk Agent must be installed on all PVS servers used to access the PVS servers to which you will publish images. (Each Agent must be registered wit the Unidesk ELM.)                                            PVSservers where the Unidesk Agent is installed                                   The PVSConsole must be installed on all PVS servers where the Unidesk Agent is installed.                                            PVS Target Device Imaging software                                   The PVS Target Device Imaging software must be available to install on the Platform Layer. The version must match the PVS server where the Layered Image will be published.                                            PVSresource information                                   The PVSinfo listed in this  PVS Connector Configuration  topic.                                            PowerShell Snap-in                                   Appropriate PowerShell Snap-in must be installed.                                            Unique CMID for each target device (if using KMS)                                   When using KMS licensing, PVS requires that each target device has a unique CMID. For the full story, check out this Citrix article,  Demystifying KMS and Provisioning Services . Rearming KMS is covered in the steps to Create a Platform Layer.                                             Any additional PVS settings you use in your environment                                   Any settings you need to configure PVSon your Platform Layer so that it matches the environment where the Layered Image will be used.", 
            "title": "PVS###Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_pv4/#required-tools-and-settings", 
            "text": "Unidesk Tools download              PVS settings              KMS settings", 
            "title": "Required Tools and Settings"
        }, 
        {
            "location": "/layer_platform_create_pv4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                  Example: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.                                            In the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image.                   Example: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                             Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment.                                                           Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_pv4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install the tools for your selected environment.   Note: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_platform_create_pv4/#log-into-the-packaging-machine", 
            "text": "The Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.               Log into your vSphere web client.                               Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine.                                                              Power on the Packaging Machine.", 
            "title": "Log into the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_pv4/#install-the-required-platform-tools", 
            "text": "This section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_pv4/#platform-software-to-install", 
            "text": "You need the installers for your hypervisor, provisioning service, and connection broker.   If you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.  Keep in mind that the state of the software before you finalize the layer is what the image will use.                                 Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.                  If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.  Verify the Layer and shut down the Packaging Machine  Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Platform software to install"
        }, 
        {
            "location": "/layer_platform_create_pv4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_pv4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_pv4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer.   Note: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_vs4/", 
            "text": "Platform Layers\n\n\n\n\nVMware vSphere (vSphere connector)\n\n\n\n\nCreate a Platform Layer (vSphere connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Prerequisites\n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Connect to and log into the Packaging Machine\n                        \n                        \n Install the required platform tools\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \n \n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well). \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.\n            \n        \n\n\n\nThe general steps for creating a Platform Layer are:\n\n\n            \nPrepare a Platform Layer\n            \nConnect to and log into the Packaging Machine\n            \nInstall the Platform Software\n            \nVerify the Layer and Shutdown the Packaging Machine\n            \nCopy the Packaging Machine to the ELM's Network File Share (if needed)\n            \nFinalize the Layer\n        \n\n\n\nPrerequisites\n\n\nvSphere prerequisites\n\n\n            \n                \n \nNetwork access to Unidesk Tools\n                \nAccess from the Packaging Machine VM in vSphere to the Unidesk Tools download (available on the Unidesk Download page).\n            \n            \n                \nvSphere software and settings\n                \nAccess to the vSphere software to install on the layer.\n            \n            \n                \nvSphere resource information\n                \nThe vSphereinfo listed in \nvSphere Connector Configuration\n.\n            \n        \n\n\n\nOther prerequisites\n\n\nIf you are creating a Platform Layer to use when publishing Layered Images, you need the above prerequisites plus the prerequisites for the provisioning service and connection broker software for your environment.\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click \nNew\n, select your platform from this list, and \nAdd a Configuration\n for it.\n                \nExample:\n If you are creating the layer in a vSphere environment, select the vSphere connector with the information needed to access the location where you will package this layer.\n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see \n Platform Layers\n.\n            \n            \n                \nFrom the dropdown menus, select the platform(s) you are using.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below). \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer. \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.\n\n\nConnect to and log into the Packaging Machine\n\n\n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below). \n                \n                \n            \n        \n\n\n\nInstall the required platform tools\n\n\nThis section explains how to install your platform software onto the Packaging Machine. Keep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\nTo install the tools for the selected platform:\n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the platform software and tools, along with any drivers, boot-level applications, or files needed.\n                \n                    \nIf this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.\n                    \nIf this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.\n                    \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n                \n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nTo finalize the Layer, you import the installed software into the Platform Layer you prepared in the Unidesk Management Console (UMC). \n\n\n            \nReturn to the UMC.\n            \nSelect \nLayers > Platform Layers\n.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "layer_platform_create_vs4"
        }, 
        {
            "location": "/layer_platform_create_vs4/#create-a-platform-layer-vsphere-connector", 
            "text": "In this article:                                                                                            Prerequisites                                                    Prepare a new Platform Layer                                                    Connect to and log into the Packaging Machine                                                    Install the required platform tools                                                    Verify the Layer and shut down the Packaging Machine                                                                                                                                           A Platform Layer is intended to include the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to PVS in vSphere with XenApp as the broker would include the PVS Target Device Imaging software, vmTools, and the XenApp Virtual Delivery Agent Installer (and other platform-related software as well).   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - These Layers include the software and settings required for a Layered Image to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - These Layers include the hypervisor software and settings you need to easily install the software for your other layers on a VM in your hypervisor environment.                        The general steps for creating a Platform Layer are:               Prepare a Platform Layer              Connect to and log into the Packaging Machine              Install the Platform Software              Verify the Layer and Shutdown the Packaging Machine              Copy the Packaging Machine to the ELM's Network File Share (if needed)              Finalize the Layer", 
            "title": "Create a Platform Layer (vSphere connector)"
        }, 
        {
            "location": "/layer_platform_create_vs4/#prerequisites", 
            "text": "", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_vs4/#vsphere-prerequisites", 
            "text": "Network access to Unidesk Tools                  Access from the Packaging Machine VM in vSphere to the Unidesk Tools download (available on the Unidesk Download page).                                            vSphere software and settings                  Access to the vSphere software to install on the layer.                                            vSphere resource information                  The vSphereinfo listed in  vSphere Connector Configuration .", 
            "title": "vSphere prerequisites"
        }, 
        {
            "location": "/layer_platform_create_vs4/#other-prerequisites", 
            "text": "If you are creating a Platform Layer to use when publishing Layered Images, you need the above prerequisites plus the prerequisites for the provisioning service and connection broker software for your environment.", 
            "title": "Other prerequisites"
        }, 
        {
            "location": "/layer_platform_create_vs4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values.                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click  New , select your platform from this list, and  Add a Configuration  for it.                  Example:  If you are creating the layer in a vSphere environment, select the vSphere connector with the information needed to access the location where you will package this layer.                                            In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see   Platform Layers .                                            From the dropdown menus, select the platform(s) you are using.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                            Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below).                                                           Next, you can deploy the Packaging Machine for your Layer.   The Packaging Machine is a virtual machine where you install the tools for your selected environment(s). It is a temporary VM that will be deleted once the new Platform Layer has been finalized. When the Unidesk software powers on the Packaging Machine for you.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_vs4/#connect-to-and-log-into-the-packaging-machine", 
            "text": "Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment (example task message shown below).", 
            "title": "Connect to and log into the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_vs4/#install-the-required-platform-tools", 
            "text": "This section explains how to install your platform software onto the Packaging Machine. Keep in mind that the state of the software before you finalize the layer is what the image will use.   To install the tools for the selected platform:                                Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the platform software and tools, along with any drivers, boot-level applications, or files needed.                                       If this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.                      If this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.                      If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                                             Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_vs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_vs4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_vs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_vs4/#finalize-the-layer", 
            "text": "To finalize the Layer, you import the installed software into the Platform Layer you prepared in the Unidesk Management Console (UMC).                Return to the UMC.              Select  Layers > Platform Layers .              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_vw4/", 
            "text": "Platform Layers\n\n\n\n\nVMware Horizon View (Horizon View connector)\n\n\n\n\nCreate a Platform Layer (VMware Horizon for vSphere)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n \n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n Deploy a Packaging Machine \n                        \n                        \n Create a Platform Layer (VMware Horizon for vSphere)\n                        \n                        \n Verify the Layer and shut down the Packaging Machine\n                        \n                        \nFinalize the Layer\n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to VMware Horizon in vSphere with XenDesktop as the broker would include the VMware View Agent, vmTools, and other platform-related software.. \n\n\nThis article explains the next steps to create a Platform Layer, based on your connector and platform choices. If you need more information than is included here, check these other Unidesk sources: \nLayer essentials (Unidesk Learning Center)\n and the \nUnidesk Forum\n.\n\n\nA Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker. \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - A Platform Layer for \npublishing\n is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - A Platform Layer for \npackaging\n is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor. \n            \n        \n\n\n\nPrerequisites\n\n\nWhen creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create. \n\n\n            \n            \n            \n                \n                    \nType of Platform Layer\n                    \nPrerequisites\n                \n            \n            \n                \n                    \nPublishing Layered Images\n                    \n                        \nSoftware installers, and settings you use for your:\n                        \n                            \nHypervisor\n                            \nProvisioning service\n                            \nConnection broker  \n                        \n                    \n                \n                \n                    \nPackaging Layers\n                    \n                        \nThe software and settings for your:\n                        \n                            \nHypervisor\n                        \n                        \nFor example, your hypervisor installer and settings. \n                        \nNote:\n You only need a Platform Layer for \npackaging\n Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.\n                    \n                \n            \n        \n\n\n\nVMware Horizon View Composer prerequisites\n\n\nWhen creating a Platform Layer for publishing images to an MCS environment, you need:\n\n\n            \n                \nAn OSLayer\n                \n            \n            \n                \nNetwork access to Unidesk Tools\n                \nAccess from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).\n            \n            \n                \nVMware View Agent installed on the Platform layer\n                \n                \nThe VMware View Agent installer for the Windows OS you are using must be installed on the Platform Layer. \n            \n            \n                \nUnidesk Agent and PowerShell Snap-in, if using a Script as part of the Connector Configuration\n \n                \nAs part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the Unidesk Agent and PowerShell Snap-in installed and running.\n            \n            \n                \nVMwareHorizon View Composer resource information\n                \n                \nThe HorizonView info listed in this \nVMware Horizon for vSphere Connector Configuration\n topic.\n            \n            \n                \nvSphere resource information\n                \n                \nThe vSphereinfo listed in \nvSphere Connector Configuration\n.\n            \n            \n                \nvSphere software and settings\n                \nAccess to the vSphere software to install on the layer.\n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\nTo create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for Horizon View, and finalize the Layer. \n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values. For details, see more about these values \nbelow\n.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a \nNew\n \nConnector Configuration\n and select it from this list.\n                \nExample: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.\n            \n            \n                \nIn the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image. \n                \nExample: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History. \n            \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. \n                \nOnce the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer.\n\n\nDeploy a Packaging Machine \n\n\nThe Packaging Machine is a virtual machine where you install the tools for your selected environment. \n\n\nNote: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.\n\n\nLog into the Packaging Machine\n\n\nThe Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.\n\n\n            \nLog into your vSphere web client.\n            \n                \nBack in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine. \n                \n                \n            \n            \nPower on the Packaging Machine.\n        \n\n\n\nInstall the required platform tools\n\n\nThis section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment. \n\n\nPlatform software to install\n\n\nYou need the installers for your hypervisor, provisioning service, and connection broker. \n\n\nIf you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.\n\n\nKeep in mind that the state of the software before you finalize the layer is what the image will use. \n\n\n            \n                \nRemote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS. \n            \n            \n                \nInstall the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.\n                \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in when the image is booted:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                \n            \n        \n\n\n\nNext, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nbelow\n.\n            \nOnce any pending operations are complete, double-click the \nShutdown For Finalize\n icon again. This shuts down the Packaging Machine. \n        \n\n\n\nThe Layer is now ready to finalize.\n\n\nLayer integrity messages you may see during the finalization process\n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nOnce the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer. \n\n\nNote: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage. \n\n\nWhen the Layer has been verified and is ready to finalize:\n\n\n            \nReturn to the Unidesk Management Console.\n            \nSelect \nLayers >App Layers\n, and then the layer you just prepared.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "layer_platform_create_vw4"
        }, 
        {
            "location": "/layer_platform_create_vw4/#create-a-platform-layer-vmware-horizon-for-vsphere", 
            "text": "In this article:                                                                                                                                                Prepare a new Platform Layer                                                    Deploy a Packaging Machine                                                     Create a Platform Layer (VMware Horizon for vSphere)                                                    Verify the Layer and shut down the Packaging Machine                                                   Finalize the Layer                                                                                       A Platform Layer includes the platform software and settings required to deploy images in your environment. For example, a Platform Layer for publishing to VMware Horizon in vSphere with XenDesktop as the broker would include the VMware View Agent, vmTools, and other platform-related software..   This article explains the next steps to create a Platform Layer, based on your connector and platform choices. If you need more information than is included here, check these other Unidesk sources:  Layer essentials (Unidesk Learning Center)  and the  Unidesk Forum .  A Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker.   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - A Platform Layer for  publishing  is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - A Platform Layer for  packaging  is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor.", 
            "title": "Create a Platform Layer (VMware Horizon for vSphere)"
        }, 
        {
            "location": "/layer_platform_create_vw4/#prerequisites", 
            "text": "When creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create.                                                                                Type of Platform Layer                      Prerequisites                                                                                  Publishing Layered Images                                               Software installers, and settings you use for your:                                                       Hypervisor                              Provisioning service                              Connection broker                                                                                                        Packaging Layers                                               The software and settings for your:                                                       Hypervisor                                                   For example, your hypervisor installer and settings.                           Note:  You only need a Platform Layer for  packaging  Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_vw4/#vmware-horizon-view-composer-prerequisites", 
            "text": "When creating a Platform Layer for publishing images to an MCS environment, you need:                                An OSLayer                                                             Network access to Unidesk Tools                  Access from the Platform Layer Packaging Machine VM to the Unidesk Tools download (available on the Unidesk Download page).                                            VMware View Agent installed on the Platform layer                                   The VMware View Agent installer for the Windows OS you are using must be installed on the Platform Layer.                                             Unidesk Agent and PowerShell Snap-in, if using a Script as part of the Connector Configuration                    As part of the Connector Configuration, if you include a script to run on the newly published Layered Image, you will need the Unidesk Agent and PowerShell Snap-in installed and running.                                            VMwareHorizon View Composer resource information                                   The HorizonView info listed in this  VMware Horizon for vSphere Connector Configuration  topic.                                            vSphere resource information                                   The vSphereinfo listed in  vSphere Connector Configuration .                                            vSphere software and settings                  Access to the vSphere software to install on the layer.", 
            "title": "VMware Horizon View Composer prerequisites"
        }, 
        {
            "location": "/layer_platform_create_vw4/#prepare-a-new-platform-layer", 
            "text": "To create a Platform Layer you prepare the layer using the Create Platform Layer wizard, deploy a Packaging Machine in your environment, install the tools and configure the settings for Horizon View, and finalize the Layer.                                 Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values. For details, see more about these values  below .                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, add a  New   Connector Configuration  and select it from this list.                  Example: If you are creating the layer in your vSphere environment, select the vSphere connector with the information needed to access the temporary storage location where you will package this layer.                                            In the Recipe Associations tab, select all of the platforms to which you will be publishing the Layered Image.                   Example: If you want to use this Platform Layer to publish Layered Images to both vSphere and Azure, select both environments.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the App Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                             Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description.                   Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment.                                                           Next, you can deploy the Packaging Machine for your Layer.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_vw4/#deploy-a-packaging-machine", 
            "text": "The Packaging Machine is a virtual machine where you install the tools for your selected environment.   Note: The Packaging Machine is a temporary VM that will be deleted once the new Platform Layer has been finalized.", 
            "title": "Deploy a Packaging Machine "
        }, 
        {
            "location": "/layer_platform_create_vw4/#log-into-the-packaging-machine", 
            "text": "The Task Description (example shown in the last step above) contains the location of the Packaging Machine in your environment.               Log into your vSphere web client.                               Back in the Unidesk Management Console, use the instructions in the expanded Packaging Disk Task shown below to navigate to the Packaging Machine.                                                              Power on the Packaging Machine.", 
            "title": "Log into the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_vw4/#install-the-required-platform-tools", 
            "text": "This section explains how to install the platform software to be used by the Platform Layer. The platform software to install includes the provisioning server software and/or connection broker software that your Layered Images will need to run in the target environment.", 
            "title": "Install the required platform tools"
        }, 
        {
            "location": "/layer_platform_create_vw4/#platform-software-to-install", 
            "text": "You need the installers for your hypervisor, provisioning service, and connection broker.   If you are using a supported Unidesk Connector to connect to your environment, you will install the provisioning service and/or connection broker software on the Packaging Machine that Unidesk created in that environment. Otherwise, you will be installing the software on a VM in your hypervisor of choice, moving the VMto the Unidesk network file share, from which you can import the VMinto Unidesk.  Keep in mind that the state of the software before you finalize the layer is what the image will use.                                 Remote log in to the Packaging Machine you created. Be sure to log in using the User account you used to create the OS.                                             Install the tools that your Layered Image will need to run on vSphere and in PVS, along with any drivers, boot-level applications, or files needed.                  If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                            Make sure the Packaging Machine is in the state you want it to be in when the image is booted:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                         Next, you'll need to shut down the Packaging Machine and verify that the Platform Layer is ready to finalize.  Verify the Layer and shut down the Packaging Machine  Once the tools are installed on the Packaging Machine, the next step is to verify that the Layer is ready to finalize. At this point, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  below .              Once any pending operations are complete, double-click the  Shutdown For Finalize  icon again. This shuts down the Packaging Machine.            The Layer is now ready to finalize.", 
            "title": "Platform software to install"
        }, 
        {
            "location": "/layer_platform_create_vw4/#layer-integrity-messages-you-may-see-during-the-finalization-process", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "Layer integrity messages you may see during the finalization process"
        }, 
        {
            "location": "/layer_platform_create_vw4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_vw4/#finalize-the-layer", 
            "text": "Once the Packaging Machine is created, the softwareis installed and ready to finalize, and you have shut down the machine, you'll need to finalize the Layer.   Note: When you finalize a Layer, Unidesk may delete the Packaging Machine so as not to incur extra cost for storage.   When the Layer has been verified and is ready to finalize:               Return to the Unidesk Management Console.              Select  Layers >App Layers , and then the layer you just prepared.              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the Layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_create_xs4/", 
            "text": "Platform Layers\n\n\n\n\nCitrix XenServer (Citrix XenServer connector)\n\n\n\n\nCreate a Platform Layer (XenServer Connector)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n \n                        \n                        \n Prepare a new Platform Layer\n                        \n                        \n \n                        \n                        \n \n                        \n                        \n \n                        \n                    \n                \n            \n        \n\n\n\nA Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker. \n\n\nYou can create two kinds of Platform Layers:\n\n\n            \n                \nPlatform Layers for \npublishing Layered Images\n (Required) - A Platform Layer for \npublishing\n is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment. \n            \n            \n                \nPlatform Layers for \npackaging Layers\n (Required in some cases) - A Platform Layer for \npackaging\n is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor. \n            \n        \n\n\n\nPrerequisites\n\n\nWhen creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create. \n\n\n            \n            \n            \n                \n                    \nType of Platform Layer\n                    \nPrerequisites\n                \n            \n            \n                \n                    \nPublishing Layered Images\n                    \n                        \nSoftware installers, and settings you use for your:\n                        \n                            \nHypervisor\n                            \nProvisioning service\n                            \nConnection broker  \n                        \n                    \n                \n                \n                    \nPackaging Layers\n                    \n                        \nThe software and settings for your:\n                        \n                            \nHypervisor\n                        \n                        \nFor example, your hypervisor installer and settings. \n                        \nNote:\n You only need a Platform Layer for \npackaging\n Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.\n                    \n                \n            \n        \n\n\n\nCitrix XenServer prerequisites\n\n\n            \n                \nXenServer account and privileges\n                \n                \n                    \nA XenServer account (new or existing) to use for Unidesk.\n                    \nThe account must have XenServer privileges to: \nCreate and remove virtual disks.\nCopy and delete layers on virtual disks using XenServer file APIs. \n                \n            \n            \n                \nCitrix XenServer software and settings\n                \nAccess to the XenServer Tools to install on the layer. \n            \n            \n                \nXenServer resource information\n                \nThe XenServerinfo listed in \nCitrix XenServer Connector Configuration\n. \n            \n            \n                \n \nNetwork access to Unidesk OSMachine Tools\n                \nWhen you create  Layer or add a Version to it,  the Unidesk Management Console (UMC) uses a Connector Configuration to create a VM called a Packaging Machine for the Layer you are building. The Packaging Machine \nmust\n have access to the Unidesk OSMachine Tools download, which is available on the Unidesk Download page. \n            \n        \n\n\n\nPrepare a new Platform Layer\n\n\n            \n                \nSelect \nLayers >Platform Layers\n and select \nCreate Platform Layer\n in the Action bar. This opens the Create Platform Layer wizard.\n            \n            \n                \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values. Optionally, you can also enter other values.\n            \n            \n                \nIn the OSLayer tab, select the OSLayer you want to associate with this Platform Layer. \n            \n            \n                \nIn the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click \nNew\n, select your platform from this list, and \nAdd a Configuration\n for it.\n                \nExample:\n If you are creating the layer in a XenServer environment, select the XenServer connector with the information needed to access the location where you will package this layer.\n            \n            \n                \nIn the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see \n Platform Layers\n.\n            \n            \n                \nFrom the dropdown menus, select the platform(s) you are using.\n            \n            \n                \nIn the Packaging Disk tab, enter a \nfile name\n for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.\n            \n            \n                \nIn the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.\n                \n                    \nTo use an existing image, select an image in the image box.\n                    \nTo import a new image, click \nBrowse\n  and select an image in PNG or JPG format.\n                \n            \n            \n                \nIn theConfirm and Complete tab, review the details of the Layer, enter a comment if required, and click \nCreate Layer\n. Any comments you enter will appear in the  Information view Audit History.\n            \n            \n                \nAt the bottom of the UI, expand the Tasks bar and double-click the task to show the full task description. \n                \nOnce the task is complete,  the location of the Packaging Disk is shown (example task message shown below). \n                \n                \n            \n        \n\n\n\nNext, you can deploy the Packaging Machine for your Layer. The Packaging Machine is a temporary virtual machine where you install the software to include in the Layer being created. \n\n\nPower on the Packaging Machine in Citrix XenServer\n\n\n            \nLog into your XenServer client.\n            \n                \nBack in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the \nCreate Platform Layer\n task to see the full Task Description (example below). \n                \n                \n            \n            \nUse the instructions in the Task Description to navigate to the Packaging Machine in your XenCenter client. \n            \nWhile in the Infrastructure View, select your Packaging Machine's \nVM\n from the list of machines.\n            \n                \nIn the XenCenter UI in the panel on the right, choose the \nConsole\n option for the VM.\n            \n            \nPower on the VM.\n            \nSelect the \nClick here to create a DVD drive\n link.\n            \nPower cycle the VM (yes, you have to in order to get the DVD Drive).\n            \nAt the top of the console window, click the \nDVD Drive 1\n drop down menu and select the \nxs-tools.iso\n.\n            \n                \nInstall the XenTools. This will require multiple reboots as part of the tools installation. Once complete, you should see that you have access to all \nXenTools\n, as well as all of the \ndata\n available under the Performance tab for your VM.\n                \nNote:\n The XenCenter console uses \nRFB\n for it's console connection, which uses \nPort 5900\n. On Windows 2008 and Windows 7, this port is closed in the Firewall by default and should be opened so you can use the console to access any VMs\n            \n        \n\n\n\nInstall the platform tools on the Packaging Machine\n\n\nWhether you are creating a Platform Layer or adding a version to it:\n\n\n            \n                \nRemote log in to the Packaging Machine. Be sure to log in using the User account you used to create the OS.\n            \n            \n                \nInstall the platform software and tools, along with any drivers, boot-level applications, or files needed. Keep in mind that the state of the software before you finalize the layer is what the image will use. \n                \n                    \nIf this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.\n                    \nIf this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.\n                    \nIf a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.\n                \n            \n            \n                \nMake sure the Packaging Machine is in the state you want it to be in for users:\n                \n                    \nIf the tools you install require any post-installation setup or registration, complete those steps now.  \n                    \nRemove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.\n                    \n                        \nWhen using PVS, if your OS image was activated using KMS, rearm KMS \njust before you shut down\n                        \n                            \n                                \nVerify the Rearm count on the OS by running slmgr /dlv from a command prompt. The Rearm count must \nnot\n be zero.\nslmgr /dlv\n                            \n                            \n                                \nRearm KMS:\nslmgr /rearm\n                            \n                        \n                    \n                \n            \n        \n\n\n\nVerify the Layer and shut down the Packaging Machine\n\n\nOnce the software is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.\n\n\nTo verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.  \n\n\n\n\nTo use the Shutdown For Finalize tool:\n\n\n            \nIf you are not logged into the Packaging Machine, remote log in as the user who created the machine.\n            \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages detailing the layer verification process. \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation. For details, see \n Verifying Layers\n.\n            \n                \nIf you are using KMS licensing, once any pending operations are complete, be sure to rearm KMS yet again \njust before you shutdown\n. First, enter this command to verify that the Rearm count is > 0:\nslmgr /dlv\n                \nThen, rearm KMS:\nslmgr /rearm\n            \n            \nDouble-click the \nShutdown For Finalize\n icon again to shut down the Packaging Machine. \n        \n\n\n\nThe Layer should be ready to finalize.\n\n\nDuring the shutdown for finalization \n\n\nLayer integrity messages let you know what queued tasks must be completed before a Layer is finalized.\n\n\nThe new Layer or Version can only be finalized when the following conditions have been addressed:\n\n\n            \n                \nA reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.\n                \nA post-installation reboot is pending - please check and reboot the Packaging Machine.\n                \nAn MSI install operation is in progress - please check the Packaging Machine.\n                \n                    \nA Microsoft NGen operation is in progress in the background. \n                    \nNote:\n If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.\n                \n            \n        \n\n\n\nExpediting a Microsoft NGen operation \n\n\nNGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.\n\n\nYou have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause. \n\n\nForcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.\n\n\n            \n                \nForce an NGen operation to the foreground. \n                \nNormally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nGo to the Microsoft .NET Framework directory for the version currently in use:\ncd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX\n                    \n                    \n                        \nEnter the NGen command to execute the queued items:\nngen update /force\n                        \nThis brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled. \n                        \nNote:\n It\u2019s okay if you see several compilation failed messages!\n                    \n                    \nLook in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run \nngen update /force\n.  Do \nnot\n reboot to stop the task. You \nmust\n allow it to complete.\n                \n            \n            \n                \nCheck the status of an NGen operation\n                \n                    \n                        \nOpen a command prompt as Administrator.\n                    \n                    \n                        \nCheck status by running this command:\nngen queue status\n                    \n                    \n                        \nWhen you receive the following status, the NGen is complete, and you can finalize the Layer.\nThe .NET Runtime Optimization Service is stopped\n                    \n                \n            \n        \n\n\n\nFinalize the Layer\n\n\nTo finalize the Layer, you import the installed software into the Platform Layer you prepared in the Unidesk Management Console (UMC). \n\n\n            \nReturn to the UMC.\n            \nSelect \nLayers > Platform Layers\n.\n            \nSelect \nFinalize\n in the Action bar.\n            \nMonitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "layer_platform_create_xs4"
        }, 
        {
            "location": "/layer_platform_create_xs4/#create-a-platform-layer-xenserver-connector", 
            "text": "In this article:                                                                                                                                                Prepare a new Platform Layer                                                                                                                                                                                                                                                   A Platform Layer should include the platform software and settings required to deploy images in your environment, given your choice of hypervisor, provisioning service, and connection broker.   You can create two kinds of Platform Layers:                                Platform Layers for  publishing Layered Images  (Required) - A Platform Layer for  publishing  is used in Image Templates to ensure that your published Layered Images include the software and settings required to run flawlessly in your environment.                                             Platform Layers for  packaging Layers  (Required in some cases) - A Platform Layer for  packaging  is used for creating App Layers and OSLayer Versions in your hypervisor environment. This Layer includes the hypervisor software and settings required to easily install the app or OSupdate on a VM in the selected hypervisor.", 
            "title": "Create a Platform Layer (XenServer Connector)"
        }, 
        {
            "location": "/layer_platform_create_xs4/#prerequisites", 
            "text": "When creating a Platform Layer, the software installers for your platform must be available in a location that's accessible to the Packaging Machine VM where you are going to create the Layer. As summarized in the following table, the prerequisites vary based on the type of Platform Layer you choose to create.                                                                                Type of Platform Layer                      Prerequisites                                                                                  Publishing Layered Images                                               Software installers, and settings you use for your:                                                       Hypervisor                              Provisioning service                              Connection broker                                                                                                        Packaging Layers                                               The software and settings for your:                                                       Hypervisor                                                   For example, your hypervisor installer and settings.                           Note:  You only need a Platform Layer for  packaging  Layers if you are creating your Layers on a different hypervisor than the one from which you imported your OSimage.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_platform_create_xs4/#citrix-xenserver-prerequisites", 
            "text": "XenServer account and privileges                                                        A XenServer account (new or existing) to use for Unidesk.                      The account must have XenServer privileges to:  Create and remove virtual disks. Copy and delete layers on virtual disks using XenServer file APIs.                                                              Citrix XenServer software and settings                  Access to the XenServer Tools to install on the layer.                                             XenServer resource information                  The XenServerinfo listed in  Citrix XenServer Connector Configuration .                                               Network access to Unidesk OSMachine Tools                  When you create  Layer or add a Version to it,  the Unidesk Management Console (UMC) uses a Connector Configuration to create a VM called a Packaging Machine for the Layer you are building. The Packaging Machine  must  have access to the Unidesk OSMachine Tools download, which is available on the Unidesk Download page.", 
            "title": "Citrix XenServer prerequisites"
        }, 
        {
            "location": "/layer_platform_create_xs4/#prepare-a-new-platform-layer", 
            "text": "Select  Layers >Platform Layers  and select  Create Platform Layer  in the Action bar. This opens the Create Platform Layer wizard.                                            In the Layer Details tab, enter a  Layer Name  and  Version , both required values. Optionally, you can also enter other values.                                            In the OSLayer tab, select the OSLayer you want to associate with this Platform Layer.                                             In the Connector tab, choose a Connector Configuration for the platform where you are creating this layer. If the configuration you need isn't listed, Click  New , select your platform from this list, and  Add a Configuration  for it.                  Example:  If you are creating the layer in a XenServer environment, select the XenServer connector with the information needed to access the location where you will package this layer.                                            In the Platform Types tab, select the radio button that describes the purpose of this Platform Layer: to create and update layers, or to publish Layered Images. For more about these choices, see   Platform Layers .                                            From the dropdown menus, select the platform(s) you are using.                                            In the Packaging Disk tab, enter a  file name  for the Packaging Disk, and select the disk format. This disk will be used for the Packaging Machine (the VM)where you will install the tools, as described in the next two sections.                                            In the Icon Assignment tab, select an icon to assign to the layer. This icon represents the layer in the Layers Module.                                       To use an existing image, select an image in the image box.                      To import a new image, click  Browse   and select an image in PNG or JPG format.                                                             In theConfirm and Complete tab, review the details of the Layer, enter a comment if required, and click  Create Layer . Any comments you enter will appear in the  Information view Audit History.                                            At the bottom of the UI, expand the Tasks bar and double-click the task to show the full task description.                   Once the task is complete,  the location of the Packaging Disk is shown (example task message shown below).                                                           Next, you can deploy the Packaging Machine for your Layer. The Packaging Machine is a temporary virtual machine where you install the software to include in the Layer being created.", 
            "title": "Prepare a new Platform Layer"
        }, 
        {
            "location": "/layer_platform_create_xs4/#power-on-the-packaging-machine-in-citrix-xenserver", 
            "text": "Log into your XenServer client.                               Back in the Unidesk Management Console (UMC), expand the Tasks bar at the bottom of the UI, and double-click the  Create Platform Layer  task to see the full Task Description (example below).                                                              Use the instructions in the Task Description to navigate to the Packaging Machine in your XenCenter client.               While in the Infrastructure View, select your Packaging Machine's  VM  from the list of machines.                               In the XenCenter UI in the panel on the right, choose the  Console  option for the VM.                           Power on the VM.              Select the  Click here to create a DVD drive  link.              Power cycle the VM (yes, you have to in order to get the DVD Drive).              At the top of the console window, click the  DVD Drive 1  drop down menu and select the  xs-tools.iso .                               Install the XenTools. This will require multiple reboots as part of the tools installation. Once complete, you should see that you have access to all  XenTools , as well as all of the  data  available under the Performance tab for your VM.                  Note:  The XenCenter console uses  RFB  for it's console connection, which uses  Port 5900 . On Windows 2008 and Windows 7, this port is closed in the Firewall by default and should be opened so you can use the console to access any VMs", 
            "title": "Power on the Packaging Machine in Citrix XenServer"
        }, 
        {
            "location": "/layer_platform_create_xs4/#install-the-platform-tools-on-the-packaging-machine", 
            "text": "Whether you are creating a Platform Layer or adding a version to it:                                Remote log in to the Packaging Machine. Be sure to log in using the User account you used to create the OS.                                            Install the platform software and tools, along with any drivers, boot-level applications, or files needed. Keep in mind that the state of the software before you finalize the layer is what the image will use.                                        If this Platform Layer is going to be used for packaging new layers, install and configure your hypervisor tools and settings.                      If this Platform Layer is going to be used for publishing Layered Images, install and configure your hypervisor, provisioning service, and connection broker tools and settings.                      If a software installation requires a system restart, restart it manually. The Packaging Machine does not restart automatically.                                                             Make sure the Packaging Machine is in the state you want it to be in for users:                                       If the tools you install require any post-installation setup or registration, complete those steps now.                        Remove any settings, configurations, files, mapped drives, or applications that you do not want to include on the Packaging Machine.                                               When using PVS, if your OS image was activated using KMS, rearm KMS  just before you shut down                                                                                        Verify the Rearm count on the OS by running slmgr /dlv from a command prompt. The Rearm count must  not  be zero. slmgr /dlv                                                                                            Rearm KMS: slmgr /rearm", 
            "title": "Install the platform tools on the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_xs4/#verify-the-layer-and-shut-down-the-packaging-machine", 
            "text": "Once the software is installed on the Packaging Machine, it is important to verify that the Layer is ready to be finalized. To be ready for finalization, any required post-installation processing needs to be completed. For example, a reboot may be required, or a Microsoft NGen process may need to complete.  To verify that any outstanding processes are complete, you can run the Shutdown For Finalize tool (icon below), which appears on the Packaging Machine's desktop.     To use the Shutdown For Finalize tool:               If you are not logged into the Packaging Machine, remote log in as the user who created the machine.              Double-click the  Shutdown For Finalize  icon. A command line window displays messages detailing the layer verification process.               If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to complete the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation. For details, see   Verifying Layers .                               If you are using KMS licensing, once any pending operations are complete, be sure to rearm KMS yet again  just before you shutdown . First, enter this command to verify that the Rearm count is > 0: slmgr /dlv                  Then, rearm KMS: slmgr /rearm                           Double-click the  Shutdown For Finalize  icon again to shut down the Packaging Machine.            The Layer should be ready to finalize.", 
            "title": "Verify the Layer and shut down the Packaging Machine"
        }, 
        {
            "location": "/layer_platform_create_xs4/#during-the-shutdown-for-finalization", 
            "text": "Layer integrity messages let you know what queued tasks must be completed before a Layer is finalized.  The new Layer or Version can only be finalized when the following conditions have been addressed:                                A reboot is pending to update drivers on the boot disk - please check and reboot the Packaging Machine.                  A post-installation reboot is pending - please check and reboot the Packaging Machine.                  An MSI install operation is in progress - please check the Packaging Machine.                                       A Microsoft NGen operation is in progress in the background.                       Note:  If a Microsoft NGen operation is in progress, you may be able to expedite it, as described in the next section.", 
            "title": "During the shutdown for finalization "
        }, 
        {
            "location": "/layer_platform_create_xs4/#expediting-a-microsoft-ngen-operation", 
            "text": "NGen is the Microsoft Native Image Generator.  It is part of the .NET system, and basically re-compiles .NET byte code into native images and constructs the registry entries to manage them.  Windows will decide when to run NGen, based on what is being installed and what Windows detects in the configuration.  When NGen is running, you must let it complete.  An interrupted NGen operation can leave you with non-functioning .NET assemblies or other problems in the .NET system.  You have the choice of waiting for the NGen to complete in the background, or you can force the NGen to the foreground. You can also check the status of the NGen operation, as described below. However, every time you check the queue status, you are creating foreground activity, which might cause the background processing to temporarily pause.   Forcing the NGen to the foreground will allow you to view the progress and once the output has completed, you should be able to finalize the layer.                                Force an NGen operation to the foreground.                   Normally, NGen is a background operation and will pause if there is foreground activity.  Bringing the task into the foreground can help the task to complete as quickly as possible. To do this:                                                                Open a command prompt as Administrator.                                                                    Go to the Microsoft .NET Framework directory for the version currently in use: cd C:\\Windows\\Microsoft.NET\\FrameworkNN\\vX.X.XXXXX                                                                    Enter the NGen command to execute the queued items: ngen update /force                          This brings the NGen task to the foreground in the command prompt, and lists the assemblies being compiled.                           Note:  It\u2019s okay if you see several compilation failed messages!                                           Look in the Task Manager to see if an instance of MSCORSVW.EXE is running. If it is, you must allow it to complete, or re-run  ngen update /force .  Do  not  reboot to stop the task. You  must  allow it to complete.                                                             Check the status of an NGen operation                                                                Open a command prompt as Administrator.                                                                    Check status by running this command: ngen queue status                                                                    When you receive the following status, the NGen is complete, and you can finalize the Layer. The .NET Runtime Optimization Service is stopped", 
            "title": "Expediting a Microsoft NGen operation "
        }, 
        {
            "location": "/layer_platform_create_xs4/#finalize-the-layer", 
            "text": "To finalize the Layer, you import the installed software into the Platform Layer you prepared in the Unidesk Management Console (UMC).                Return to the UMC.              Select  Layers > Platform Layers .              Select  Finalize  in the Action bar.              Monitor the Task bar to verify that the action completes successfully and that the layer is deployable.", 
            "title": "Finalize the Layer"
        }, 
        {
            "location": "/layer_platform_delete_co4/", 
            "text": "Delete Layers\n\n\n\n\nDelete Platform Layers\n\n\n\n\nDelete a Platform Layer\n\n\nYou can delete a Platform Layer or Layer version, as long as it is not being used by an Image Template. Deleting the Layer itself removes all versions and resources associated with the Layer.\n\n\nIn this article:\n\n\nDelete a Layer or Layer Version\n        \n\n\nDelete a Layer or Layer Version\n\n\n            \nIn the Unidesk Management Console, select \nLayers > Platform Layers\n.\n            \nSelect a Layer to delete. \n            \nSelect \nDelete Versions\n in the Action bar. This opens the Delete Version Layer wizard.\n            \n                \nIn the Version Selection tab, select the Version you want to delete, or select the \nDelete Layer\n check box to delete the entire Layer and all Versions.\n            \n            \nIn the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click \nDelete Versions\n.(missing or bad snippet)", 
            "title": "layer_platform_delete_co4"
        }, 
        {
            "location": "/layer_platform_delete_co4/#delete-a-platform-layer", 
            "text": "You can delete a Platform Layer or Layer version, as long as it is not being used by an Image Template. Deleting the Layer itself removes all versions and resources associated with the Layer.  In this article:  Delete a Layer or Layer Version", 
            "title": "Delete a Platform Layer"
        }, 
        {
            "location": "/layer_platform_delete_co4/#delete-a-layer-or-layer-version", 
            "text": "In the Unidesk Management Console, select  Layers > Platform Layers .              Select a Layer to delete.               Select  Delete Versions  in the Action bar. This opens the Delete Version Layer wizard.                               In the Version Selection tab, select the Version you want to delete, or select the  Delete Layer  check box to delete the entire Layer and all Versions.                           In the Confirm and Complete tab, verify that the correct Version (or Layer) is selected for deletion, enter a comment if needed, and click  Delete Versions .(missing or bad snippet)", 
            "title": "Delete a Layer or Layer Version"
        }, 
        {
            "location": "/layer_user_enable_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Layer \n User Layers (Unidesk Labs)\n\n\nUser Layer (Unidesk Labs)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Enable User Layers in the Layered Image\n                        \n                        \n User Layer (Unidesk Labs)\n                        \n                    \n                \n            \n        \n\n\n\nWith the Unidesk User Layer you now have the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments. \n\n\nUser Layers are created when:\n\n\n            \nYou set \nElastic Layering\n on an Image Template to \nApplication and User Layers\n, so that the Layered Image supports User Layers.\n            \nA user logs in to their desktop for the first time, and a User Layer is created for them. From then on, the user's data and settings are saved in the User Layer, along with any applications that the user installs locally on their desktops. \n        \n\n\n\nBefore you start\n\n\nPrerequisites\n\n\n            \nCreate your \nOSLayer\n.\n            \nCreate your \nPlatform Layer\n for publishing, if needed.\n            \nCreate your \nApp Layers\n.\n            \nEnough free disk space on your ELM's file share to ensure that  these additional Layers do not cause you to run out. Allow enough space for the user's locally installed apps, plus the data and configuration settings for the user's Layers.\n            \nMake sure network bandwidth is adequate, as bandwidth and latency have a significant effect on the User Layer. Every write goes across the network.\n        \n\n\n\nCompatibility\n\n\nCurrently, User Layers are supported in conjunction with the following platforms:\n\n\n            \nOperating systems: Windows 7, 64-bit \n            \nPublishing platforms: VMware Horizon View and Citrix XenDesktop. \n        \n\n\n\nUser Layer creation process\n\n\n            \nEnable User Layers in your Image Template:\nSet \nElastic Layering\n in the Image Template wizard on the Image Disk  tab) to \nApplication and User Layers\n.\nPublish Layered Images using the above Image Template. \n            \n                \nWhen a user logs on to their desktop for the first time, a User Layer is created for them.\n            \n        \n\n\n\nUser Layer size and location\n\n\nThe default size of a User Layer is 10 GB. \n\n\nUser Layers are created in the Users folder on the ELM's network file share, for example:\n\n\n\\MyServer\\MyShare\\Users \n\n\nEach user will have his/her own directory within the Users directory, and it will be named as follows: \n\n\nUsers\\domainIname\\username\\OS-Layer-ID-in-hex_OS-Layer-name\\username.vhd\n\n\nFor example:\n\n\n            \nUser's login name: \njdoe\n \n            \nUser's Domain: \ntestdomain1\n \n            \nOS layer: MyOSLayer (ID is in hexidecimal format: \n123456\n)\n            \nUser Layer would be created in:\n        \n\n\n\n\\MyServer\\MyShare\\Users\\testdomain1\\jdoe\\123456_MyOSLayer\\jdoe.vhd\n\n\nEnable User Layers in the Layered Image\n\n\n            \nLog into the Unidesk Management Console (UMC) as an \nAdmin\n user.\n            \nSelect \nImages\n. \n            \nSelect the Image Template from which you will publish the Layered Image(s), and click \nEdit Template\n. This opens the Edit Image Template wizard.\n            \nOn the Layered Image Disk tab, set  \nElastic Layering\n to \nApplication and User Layers\n.\n            \nOn the Confirm and Complete tab, click  \nSave Template Changes\n.\n            \nPublish your Layered Images. \n        \n\n\n\nExpected behavior\n\n\nConsiderations\n\n\nBefore deploying User Layers, please consider the following guidelines and limitations.\n\n\n            \nThe User Layer is delivered via the ELM's file share, therefore:\nIf the host is disconnected from the User Layer storage, the user will have to log out and log in again to re-establish the disk mount. The user will have to wait approximately 5 minutes because the user layer will be inaccessible.\n            \nCertain enterprise applications, such as MS Office and Visual Studio should be installed in Layers, not as user-installed applications in the User Layer. In addition, the Elastic Layering limitations are applicable for User Layer. For more information on Layering limitations, please see the \nElastic Layering Limitations\n section.\n            \nWindows updates must be disabled on the User Layer. \n            \nVMware Horizon View:\nView must be configured for non-persistent desktops, and the desktop \nmust\n be set to \nRefresh at log off\n. Delete or refresh the machine on log off. Example:\nAfter logging off with View set to \nRefresh Immediately\n, the desktop goes into maintenance mode.  If there is only one machine in the pool, the pool will not be available until that machine has completed the refresh. \n        \n\n\n\n            \nThe first time a user logs into his/her desktop,  a User Layer  is created for the him/her.\n            \nIf  there is problem loading the elastically assigned Layers for the user, they will still receive their User Layer. \n            \nIf you rename the user in AD, a new directory and User Layer will be created for the new name. To avoid this, rename the directory on the file share and the VHD file in the directory structure to the new AD user name.", 
            "title": "layer_user_enable_co4"
        }, 
        {
            "location": "/layer_user_enable_co4/#user-layer-unidesk-labs", 
            "text": "In this article:                                                                                            Before you start                                                    Enable User Layers in the Layered Image                                                    User Layer (Unidesk Labs)                                                                                       With the Unidesk User Layer you now have the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments.   User Layers are created when:               You set  Elastic Layering  on an Image Template to  Application and User Layers , so that the Layered Image supports User Layers.              A user logs in to their desktop for the first time, and a User Layer is created for them. From then on, the user's data and settings are saved in the User Layer, along with any applications that the user installs locally on their desktops.", 
            "title": "User Layer (Unidesk Labs)"
        }, 
        {
            "location": "/layer_user_enable_co4/#before-you-start", 
            "text": "", 
            "title": "Before you start"
        }, 
        {
            "location": "/layer_user_enable_co4/#prerequisites", 
            "text": "Create your  OSLayer .              Create your  Platform Layer  for publishing, if needed.              Create your  App Layers .              Enough free disk space on your ELM's file share to ensure that  these additional Layers do not cause you to run out. Allow enough space for the user's locally installed apps, plus the data and configuration settings for the user's Layers.              Make sure network bandwidth is adequate, as bandwidth and latency have a significant effect on the User Layer. Every write goes across the network.", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/layer_user_enable_co4/#compatibility", 
            "text": "Currently, User Layers are supported in conjunction with the following platforms:               Operating systems: Windows 7, 64-bit               Publishing platforms: VMware Horizon View and Citrix XenDesktop.", 
            "title": "Compatibility"
        }, 
        {
            "location": "/layer_user_enable_co4/#user-layer-creation-process", 
            "text": "Enable User Layers in your Image Template: Set  Elastic Layering  in the Image Template wizard on the Image Disk  tab) to  Application and User Layers . Publish Layered Images using the above Image Template.                                When a user logs on to their desktop for the first time, a User Layer is created for them.", 
            "title": "User Layer creation process"
        }, 
        {
            "location": "/layer_user_enable_co4/#user-layer-size-and-location", 
            "text": "The default size of a User Layer is 10 GB.   User Layers are created in the Users folder on the ELM's network file share, for example:  \\MyServer\\MyShare\\Users   Each user will have his/her own directory within the Users directory, and it will be named as follows:   Users\\domainIname\\username\\OS-Layer-ID-in-hex_OS-Layer-name\\username.vhd  For example:               User's login name:  jdoe                User's Domain:  testdomain1                OS layer: MyOSLayer (ID is in hexidecimal format:  123456 )              User Layer would be created in:           \\MyServer\\MyShare\\Users\\testdomain1\\jdoe\\123456_MyOSLayer\\jdoe.vhd", 
            "title": "User Layer size and location"
        }, 
        {
            "location": "/layer_user_enable_co4/#enable-user-layers-in-the-layered-image", 
            "text": "Log into the Unidesk Management Console (UMC) as an  Admin  user.              Select  Images .               Select the Image Template from which you will publish the Layered Image(s), and click  Edit Template . This opens the Edit Image Template wizard.              On the Layered Image Disk tab, set   Elastic Layering  to  Application and User Layers .              On the Confirm and Complete tab, click   Save Template Changes .              Publish your Layered Images.", 
            "title": "Enable User Layers in the Layered Image"
        }, 
        {
            "location": "/layer_user_enable_co4/#expected-behavior", 
            "text": "", 
            "title": "Expected behavior"
        }, 
        {
            "location": "/layer_user_enable_co4/#considerations", 
            "text": "Before deploying User Layers, please consider the following guidelines and limitations.               The User Layer is delivered via the ELM's file share, therefore: If the host is disconnected from the User Layer storage, the user will have to log out and log in again to re-establish the disk mount. The user will have to wait approximately 5 minutes because the user layer will be inaccessible.              Certain enterprise applications, such as MS Office and Visual Studio should be installed in Layers, not as user-installed applications in the User Layer. In addition, the Elastic Layering limitations are applicable for User Layer. For more information on Layering limitations, please see the  Elastic Layering Limitations  section.              Windows updates must be disabled on the User Layer.               VMware Horizon View: View must be configured for non-persistent desktops, and the desktop  must  be set to  Refresh at log off . Delete or refresh the machine on log off. Example: After logging off with View set to  Refresh Immediately , the desktop goes into maintenance mode.  If there is only one machine in the pool, the pool will not be available until that machine has completed the refresh.                         The first time a user logs into his/her desktop,  a User Layer  is created for the him/her.              If  there is problem loading the elastically assigned Layers for the user, they will still receive their User Layer.               If you rename the user in AD, a new directory and User Layer will be created for the new name. To avoid this, rename the directory on the file share and the VHD file in the directory structure to the new AD user name.", 
            "title": "Considerations"
        }, 
        {
            "location": "/logs_export_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Support \n Export log files for Support\n\n\nExport log files for Support\n\n\nYou can export logs for your Unidesk Enterprise Layer Manager (ELM), and send them to the Unidesk Support team via HTTPS or to yourself and others  by email. \n\n\nThis topic explains what log files are available for export, and which log files are useful for what kinds of issues. It then explains how to export each of the logs. \n\n\nAbout exporting Unidesk logs\n\n\nUnidesk log files are text files that contain useful information for the Unidesk Support Team when helping you to resolve an issue. The exported logs are stripped of any passwords and encryption keys, so none of your credentials can be compromised. \n\n\nWhat log files are exported?\n\n\nEach export includes the logs for the Unidesk ELM.The Database Crash Dump file export is optional. When you export logs, the Unidesk software creates a gzipped tar file  (.tgz) containing the log files. A task with the URL for each tar file appears in the Task bar. \n\n\n                    \n                    \n                    \n                        \n                            \nVirtual Machine \n                            \nExported files\n                        \n                    \n                    \n                        \n                            \nEnterprise Layer Manager (ELM)\n                            \n                                \nThe gzipped tar file (.tgz) with:\n                                \n                                    \nManagement Services logs \n                                    \nLayering Services logs\n                                    \nCrash Dump files (optional)\n                                \n                            \n                        \n                    \n                \n\n\n\nTo view the log files, download them and extract them using a file compression utility such as the WinZip\u00ae product.\n\n\nBefore you start\n\n\n                    \n                    \n                    \n                        \n                            \nBefore you can...\n                            \nYou must...\n                        \n                    \n                    \n                        \n                            \nSend logs to Unidesk Support\n                            \nHave an open Support Case. Create a Support Case explaining the issue you're seeing.\n                        \n                        \n                            \nSend email notices\n                            \nSpecify your email server in the System > Settings and Configuration > Notifications Settings box.\n                        \n                        \n                            \nExport logs\n                            \n                                \nMake sure the Log File Retention Settings are configured to keep the logs you need for the length of time you need.\n                            \n                        \n                    \n                \n\n\n\nExport and send   Unidesk ELM logs\n\n\nWhen configuring an export, you can choose to send a copy of the logs to Unidesk Support via HTTPS, or to yourself or others who need access to the logs via email. \n\n\n                    \n                        \nIn the Unidesk Management Console, select \nSystem > Manage Appliance\n and click \nExport Logs\n.  The Export Logs Wizard opens to the Send Options tab.\n                    \n                    \n                        \nIf you want to send the logs to Unidesk via HTTPS and you have a Unidesk Support Case open, click \nSend to Unidesk Support\n, choose the support case, and type a description in the Comments field. \n                        \nNote:\n This option is only available if you have an open Support Case. You can open one and come back to this screen to select the option.\n                    \n                    \n                        \nIf you want to send the files to yourself or others who need access to the logs, select the \nEmail\n check box and type the addresses in the Recipients field. (Use a comma (,) or semi-colon (;) between addresses.)\n                        \nNote:\n This field is only active if you've configured an email Notification in  the \nSystem > Settings and Configuration > Notifications Settings\n box.\n                    \n                    \n                        \nIn the Log Selection tab, the Enterprise Layer Manager Logs option is selected by default. If you need to include the Crash Dump files, mark the check box to include those.\n                    \n                    \n                        \nIn the Confirm and Complete tab, click \nExport Logs\n to start the export process. The software locates the log files and exports them to a gzipped archive file (*.tgz) on the appliance.", 
            "title": "logs_export_co4"
        }, 
        {
            "location": "/logs_export_co4/#export-log-files-for-support", 
            "text": "You can export logs for your Unidesk Enterprise Layer Manager (ELM), and send them to the Unidesk Support team via HTTPS or to yourself and others  by email.   This topic explains what log files are available for export, and which log files are useful for what kinds of issues. It then explains how to export each of the logs.   About exporting Unidesk logs  Unidesk log files are text files that contain useful information for the Unidesk Support Team when helping you to resolve an issue. The exported logs are stripped of any passwords and encryption keys, so none of your credentials can be compromised.", 
            "title": "Export log files for Support"
        }, 
        {
            "location": "/logs_export_co4/#what-log-files-are-exported", 
            "text": "Each export includes the logs for the Unidesk ELM.The Database Crash Dump file export is optional. When you export logs, the Unidesk software creates a gzipped tar file  (.tgz) containing the log files. A task with the URL for each tar file appears in the Task bar.                                                                                                                        Virtual Machine                               Exported files                                                                                                                          Enterprise Layer Manager (ELM)                                                               The gzipped tar file (.tgz) with:                                                                       Management Services logs                                       Layering Services logs                                      Crash Dump files (optional)                                                                                                                               To view the log files, download them and extract them using a file compression utility such as the WinZip\u00ae product.", 
            "title": "What log files are exported?"
        }, 
        {
            "location": "/logs_export_co4/#before-you-start", 
            "text": "Before you can...                              You must...                                                                                                                          Send logs to Unidesk Support                              Have an open Support Case. Create a Support Case explaining the issue you're seeing.                                                                                Send email notices                              Specify your email server in the System > Settings and Configuration > Notifications Settings box.                                                                                Export logs                                                               Make sure the Log File Retention Settings are configured to keep the logs you need for the length of time you need.                                                                                              Export and send   Unidesk ELM logs  When configuring an export, you can choose to send a copy of the logs to Unidesk Support via HTTPS, or to yourself or others who need access to the logs via email.                                                 In the Unidesk Management Console, select  System > Manage Appliance  and click  Export Logs .  The Export Logs Wizard opens to the Send Options tab.                                                                    If you want to send the logs to Unidesk via HTTPS and you have a Unidesk Support Case open, click  Send to Unidesk Support , choose the support case, and type a description in the Comments field.                           Note:  This option is only available if you have an open Support Case. You can open one and come back to this screen to select the option.                                                                    If you want to send the files to yourself or others who need access to the logs, select the  Email  check box and type the addresses in the Recipients field. (Use a comma (,) or semi-colon (;) between addresses.)                          Note:  This field is only active if you've configured an email Notification in  the  System > Settings and Configuration > Notifications Settings  box.                                                                    In the Log Selection tab, the Enterprise Layer Manager Logs option is selected by default. If you need to include the Crash Dump files, mark the check box to include those.                                                                    In the Confirm and Complete tab, click  Export Logs  to start the export process. The software locates the log files and exports them to a gzipped archive file (*.tgz) on the appliance.", 
            "title": "Before you start"
        }, 
        {
            "location": "/platforms_for_publishing_pb_bk4/", 
            "text": "Connection broker prerequisites", 
            "title": "platforms_for_publishing_pb_bk4"
        }, 
        {
            "location": "/platforms_for_publishing_pb_bk4/#connection-broker-prerequisites", 
            "text": "", 
            "title": "Connection broker prerequisites"
        }, 
        {
            "location": "/platforms_for_publishing_pb_hy4/", 
            "text": "Hypervisor prerequisites", 
            "title": "platforms_for_publishing_pb_hy4"
        }, 
        {
            "location": "/platforms_for_publishing_pb_hy4/#hypervisor-prerequisites", 
            "text": "", 
            "title": "Hypervisor prerequisites"
        }, 
        {
            "location": "/platforms_for_publishing_pb_ps4/", 
            "text": "Provisioning Service prerequisites", 
            "title": "platforms_for_publishing_pb_ps4"
        }, 
        {
            "location": "/platforms_for_publishing_pb_ps4/#provisioning-service-prerequisites", 
            "text": "", 
            "title": "Provisioning Service prerequisites"
        }, 
        {
            "location": "/scenarios_ah4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to MCS for Nutanix AHV\n\n\nTest drive: Publish to MCS for Nutanix AHV\n\n\nOnce Unidesk is set up, you can use this test drive to create your first layers in Nutanix AHV, and then publish a test image to Citrix MCS. This example uses Windows 10 64-bit, Citrix MCS, and Citrix XenDesktop 7.\n\n\nPlease download the Test Drive from this Unidesk \nforum article\n.\n\n\nIf you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "scenarios_ah4"
        }, 
        {
            "location": "/scenarios_ah4/#test-drive-publish-to-mcs-for-nutanix-ahv", 
            "text": "Once Unidesk is set up, you can use this test drive to create your first layers in Nutanix AHV, and then publish a test image to Citrix MCS. This example uses Windows 10 64-bit, Citrix MCS, and Citrix XenDesktop 7.  Please download the Test Drive from this Unidesk  forum article .  If you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "Test drive: Publish to MCS for Nutanix AHV"
        }, 
        {
            "location": "/scenarios_az4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to Azure RDSH in Azure\n\n\nTest drive: Publishing to  Azure RDSH\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Platforms used in this test drive\n                        \n                        \n Components you will create\n                        \n                        \n Prerequisites\n                        \n                        \n Publish a test image with an OSLayer and a Platform Layer\n                        \n                        \n Add your first App Layer and republish the Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nPlatforms used in this test drive\n\n\n            \n            \n            \n                \n                    \nCreate Layers in:\n                    \nAzure\n                \n                \n                    \nPublish Layered Images to:\n                    \nAzure RDSH\n                \n                \n                    \nFor delivery to: \n                    \nAzure users\n                \n            \n        \n\n\n\nThis test drive leads you through the process of publishing a Layered Image as a virtual disk to an Azure server. the hypervisor in this scenario is Azure, and the connection broker is Azure. \n\n\n\n\nComponents you will create\n\n\n            \n            \n            \n                \n                    \nComponent\n                    \nDescription\n                \n                \n                    \nOSLayer\n                    \n                        \n                            \nContains Windows Server 2012 R2 \n                            \nUnidesk Tools are installed\n                        \n                    \n                \n                \n                    \nPlatform Layer\n                    \n                        \n                            \nLayer containing all platform-related software and settings\n                            \nCreated in Azure using an Azure VM for the Packaging Machine\n                        \n                    \n                \n                \n                    \nApp Layer\n                    \n                        \n                            \nNotepad++\n                        \n                    \n                \n                \n                    \nImage Template\n                    \n                        \n                            \nCreated in two stages:\n Stage 1: Includes OS Layer ; Platform Layer\nStage 2: Includes the addition of App Layer \n                        \n                    \n                \n                \n                    \nLayered Image\n                    \n                        \n                            \nImage Template\n                            \nOS Layer\n                            \nPlatform Layer\n                            \nApp Layer\n                        \n                    \n                \n                \n                    \nAzure virtual disk\n                    \n                        \n                            \nContains the Unidesk Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nPrerequisites\n\n\n            \n            \n            \n                \n                    \n                        \nUnidesk\n                        \no\n Unidesk ELMinstalled on a server in your Azure environment.\n                        \no\n Unidesk Tools downloaded from the Unidesk Download page and copied to a location that the Packaging Machine VM will be able to access.\n                        \nOS for images\n                        \no\n OS for Layered Images. You need a Unidesk-supported \noperating system\n to import into an OSLayer. This OSwill be used to build your Layered Images.\n                    \n                    \n                        \nAzure\n                        \no\n Azure account and subscription. To deploy and configure the Unidesk ELM, you will need the credentials for an account that has administrative access to your Azure subscription. For more information, refer to the \nMicrosoft Azure Sign in page\n.\n                    \n                \n            \n        \n\n\n\nPublish a test image with an OS\n##Layer and a Platform Layer\n\n\nIn this part of the test drive you will:\n\n\n            \n            \n                \n                    \n                        \n Step 1: Create an OSLayer\n                        \n                        \n Step 2: Create a Platform Layer for Publishing Layered Images\n                        \n                        \n Step 3: Create an Image Template\n                        \n                        \n Step 4: Publish a Layered Image to Azure RDSH\n                        \n                        \n Step 5: Provision a Session Host\n                        \n                    \n                \n            \n        \n\n\n\nStep 1: Create an OS\n###Layer\n\n\n        \n\n\nIn this step you will create an Azure VM to use as your OSMachine, and prepare the OS on it. You will then use an Azure Connector Configuration to import the OS image into a new OSLayer.\n\n\n            \n                \nIn the \nMicrosoft Azure portal\n, create a new VM from the \"Windows Server Remote Desktop Session Host Windows Server 2012 R2\" image (\nNew > Virtual Machine > Windows Server Remote Desktop Session Host Windows Server 2012 R2\n). \n                \nImportant:\n When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \n                \nChoose \nResource Manager\n from the \nSelect a deployment model\n option list and click \nCreate\n.\n                \nNote:\n Unidesk for Azure does \nnot\n support the \nClassic\n option from the \nSelect a deployment model\n option list.\n            \n            \n                \nCreate the OS machine by completing the Create virtual machine wizard.\n                \n                    \nThe name of the new server machine you specify must comply with Azure naming conventions. \n                    \nThe User name and Password of the new server machine you specify becomes the User name  and Password of any Packaging Machines that are subsequently created containing this OS Layer.\n                    \nBe sure that the value for the Resource group location matches the Storage account location that you configured in the Platform Connector Configuration.\n                \n            \n            \n                \nReboot the new machine, and log into it remotely.\n            \n            \n                \nOn the new machine, turn off Windows Automatic Updates (\nControl Panel > System and Security > Windows Update > Change Settings\n).\n            \n            \n                \nIn a web browser, navigate to the \nUnidesk Download Center\n, and in the Tools section, download the Unidesk OS Machine Tools. \n            \n            \n                \nIn Windows Explorer, navigate to the C:\\Windows\\OEM directory, and rename or delete the \"Unattend.wsf\" file.\n            \n            \n                \nOn the new machine, install the Unidesk drivers by running \nsetup_x64.exe\n.\n            \n            \n                \nEnsure that this machine is \nnot\n joined to a domain, as Session Hosts join a domain when you provision them from a Layered Image.\n            \n            \n                \nPerform any pending reboots to the OS machine, and shut down the new OS machine. \n            \n            \n                \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n. This opens the Create Operating System Layer Wizard.\n            \n            \n                \nFirst, specify a \nLayer Name\n and \nVersion\n in the Layer Details tab.\n            \n            \n                \nIn the Connector tab, select the \nAzure Connector Configuration\n, which is where you downloaded the Azure files. Once connected to the file share, you can select the operating system to import.\n            \n            \n                \nIn the Import Disk Details tab, enter the name of the Azure Resource Group that contains the OS disk, and the name of the OS disk, both required values.\n                \nNote:\n If you specified a file share on the Connector tab, enter the name of the OS disk residing on that file share or click \nBrowse\n to select it. \n            \n            \n                \nIn the Icon Assignment tab, select an icon image to assign to this Layer.\n            \n            \n                \nIn the Confirm and Complete tab, review the details of the OS Layer, enter a comment if required, and click \nCreate Layer\n. If you enter comments, they appear in the Information view Audit History.\n            \n            \n                \nWhen the task completes, the new OS Layer in the Unidesk Management Console (UMC) displays a \nDeployable\n status.\n            \n        \n\n\n\nStep 2: Create a Platform Layer for Publishing Layered Images\n\n\nThe Platform Layer is where you will install software specific to an environment. Putting all platform-specific software in a Platform Layer allows you to reuse OS\nand App Layers in Layered Images on multiple platforms. The platforms for this test drive include Azure and Azure RDSH. \n\n\nUsing the Create Platform Layer wizard in the UMC, you will:\n\n\n            \nDeploy a Packaging Machine in Azure. \n            \nInstall all platform software and tools.\n            \nOnce the Layer is ready, rearm KMS. Assuming your OS image was activated using KMS, you'll rearm KMS when creating the Platform Layer. (This also applies to when you add a version to the Platform Layer.)   \n            \nImport the Packaging Machine to create the Platform Layer. \n        \n\n\n\nHere's how to create the Platform Layer:\n\n\n            \nSelect \nLayers >Platform Layers\n and then  \nCreate Platform Layer\n to open the Create Platform Layer wizard.\n            \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nIn the OSLayer tab, select the OSLayer you created. \n            \nIn the Connector tab, click \nNew\n to add an \nAzure Connector Configuration information\n for creating the Packaging Machine VM. Use the \nprerequisite\n Azure account and subscription information to complete the fields. Click \nTEST\nto verify the connection, then click \nSAVE\n.\n            \nIn the Platform Types tab, select \nThis Platform Layer: will be used for creating and updating Layers\n. For about this choice, see \n Platform Layer Essentials\n. \n            \nFrom the Hypervisor menu, select \nAzure\n.\n            \nOn the Packaging Disk tab, notice the Packaging Disk  \nFile name\n. This disk will be used for the Packaging Machine (the VM)where you will install the hypervisor tools and configure the settings.\n            \nIn the Icon Assignment tab, select one of the default icons.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:\n                \n                \n            \n            \n                \nLog into the Azure portal (https://portal.azure.com) from your web browser.\n            \n            \n                \nClick the link in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)\n            \n            \n                \nOn the Custom deployment panel, complete the required fields for customizing your Azure parameters.\n                \n                    \nPackaging Machine Name - must conform to Azure VM name requirements.\n                    \nSize - the Azure VM size of the packaging machine.\n                    \nVirtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.\n                \n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.\n                \n                \n            \n            \n                \nRemote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.\n            \n            \n                \nInstall your Azure tools, and configure the Azure settings as you want them to be when the Packaging Machine for this layer starts.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete. \n                \n                    \n                \n            \n            \nOnce any pending operations are complete, if the Finalize process tells you to reboot the machine, be sure to rearm KMS again.\n            \nShut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > Platform Layers\n, then select the Platform Layer and click \nFinalize\n.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nWhen the new task becomes Deployable, you can add your new layers to an Image Template. \n\n\nStep 3: Create an Image Template\n\n\n        \n\n\nCreate an Image Template that includes the same OS Layer as you used in the Platform Layer you just created.\n\n\n            \nSelect \nImages\n and click \nCreate Template\n. The Create Template Wizard opens.\n            \nType a name for the template and select an icon for the Layer.\n            \nIn the OSLayer tab choose the OS Layer.\n            \nOn the Confirm and Complete tab, click \nCreate Template\n. \n        \n\n\n\nNext, you can publish the Layered Image using this template.\n\n\nStep 4: Publish a Layered Image to Azure RDSH\n\n\n            \nSelect \nImages\n. Your Template is displayed.\n            \nSelect the Template and click \nPublish Layered Image\n. This opens the Publish Layered Image wizard.\n            \n                \nOn the Connector tab, select the Azure RDSH Connector Configuration. If you don't have one yet, click \nNew\n to open the AzureRDSH Connector Configuration page, and enter the information, as described \nhere\n.\n            \n            \nOn the Platform Layer tab, select the Platform Layer that contains the Azure software and settings.\n            \nOn the Layered Image Disk tab, edit the Layered Image Disk Filename, and keep the default values for the rest of the settings.\n            \nConfirm and complete the wizard, then expand the Task bar at the bottom of the window and monitor the task. When the task is \nDone\n, the Layered Image virtual disk is ready. \n        \n\n\n\nStep 5: Provision a Session Host\n\n\nIn the Custom deployment template, enter the information to provision a Azure RDSession Host.\n\n\n            \n                \nComplete the Session Host Parameters shown below, using the host's Fully Qualified Domain Name (FQDN).\n                \n                \n            \n            \n                \nSelect the Azure Resource Group.\n                \n                \n            \n            \n                \nSpecify the Resource Group Location.\n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will not be deployed and you will have to reattempt deployment.\n            \n            \n                \nReview the legal terms, and if you accept them, click \nCreate\n. This creates a Session Host provisioned with the Layered Image in Azure.\n            \n            \n                \nWhile Azure creates the virtual machine, you can track the progress under Virtual Machines in the hub menu.\n            \n            \nPower off the Session Host, power it back on, and add it to an RDS collection. Please see the \nTechNet Reference\n  for details.\n        \n\n\n\nOnce you have tested your Layered Image in Azure, it's time to add an App Layer to the image. \n\n\nAdd your first App Layer and republish the Layered Image\n\n\nIn this part of the test drive you will:\n\n\n            \n            \n                \n                    \n                        \n Step 1: Create a Platform Layer for packaging other layers\n                        \n                        \n Step 2: Create an App Layer\n                        \n                        \n Step 3: Publish a new Layered Image containing the new App Layer\n                        \n                    \n                \n            \n        \n\n\n\nSimilar to the process for creating a Platform Layer, you will prepare an App Layer in the UMC, deploy a Packaging Machine VM in Azure where you install Notepad++, then import the VM into the new layer. You will add this layer to your Image Template, and publish a new version of the Layered Image.\n\n\nStep 1: Create a Platform Layer for packaging other layers\n\n\n        \n\n\nThe Platform Layer for packaging layers is where you install the tools and settings specific to a particular hypervisor. Putting platform-specific software on the Platform Layer means that your App Layers do not need to include it, and therefore can be used on multiple platforms. \n\n\nUsing the UMC, you will prepare this layer and deploy a Packaging Machine VM in Azure. On the Packaging Machine, you will install the hypervisor software and configure the hypervisor settings, as needed. Finally, you will import the Packaging Machine to create the Platform Layer for packaging layers. \n\n\n            \nSelect \nLayers >Platform Layers\n and then  \nCreate Platform Layer\n from the Action bar to open the Create Platform Layer wizard.\n            \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nIn the OSLayer tab, select the OSLayer you created earlier. \n            \nIn the Connector tab, the \nAzure\n Connector Configuration.\n            \nOn the Packaging Disk tab, notice the Packaging Disk  \nFile name\n. This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.\n            \nIn the Icon Assignment tab, select one of the default icons.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:\n                \n                \n            \n            \n                \nLog into the Azure portal (https://portal.azure.com) from your web browser.\n            \n            \n                \nClick the link in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)\n            \n            \n                \nOn the Custom deployment panel, complete the required fields for customizing your Azure parameters.\n                \n                    \nPackaging Machine Name - must conform to Azure VM name requirements.\n                    \nSize - the Azure VM size of the packaging machine.\n                    \nVirtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.\n                \n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.\n                \n                \n            \n            \n                \nInstall the Azure tools, and configure the Azure settings as you want them to be when the Packaging Machine for this layer starts.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete. \n                \n                    \n                \n            \n            \nOnce any pending operations are complete, shut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > Platform Layers\n, then select the Platform Layer and click \nFinalize\n.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nStep 2: Create an App Layer\n\n\n        \n\n\n            \nSelect \nLayers >App Layers\n and then  \nCreate App Layer\n from the Action bar to open the Create App Layer wizard.\n            \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nIn the OSLayer tab, select the OSLayer you created earlier. \n            \nIn the Connector tab, choose the Azure \nConnector Configuration\n you used to create the Platform Layer for packaging other layers.\n            \nOn the Platform Layer tab, choose the Platform Layer you just created.\n            \nOn the Packaging Disk tab, enter a \nFile name\n for the Packaging Disk. This disk will be used for the Packaging Machine (the VM)where you will install the application.\n            \nIn the Icon Assignment tab, select one of the supplied icons for the layer, or if you'd like to use the application icon, you can browse for it and import it into this tab.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the task to expand it. Once complete, the Task bar displays the location of the Packaging Disk or Machine in your environment.\n                \n                \n            \n            \n                \nLog into the Azure portal (https://portal.azure.com) from your web browser.\n            \n            \n                \nClick the link in the Create App Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)\n            \n            \n                \nOn the Custom deployment panel, complete the required fields for customizing your Azure parameters.\n                \n                    \nPackaging Machine Name - must conform to Azure VM name requirements.\n                    \nSize - the Azure VM size of the packaging machine.\n                    \nVirtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.\n                \n                \nIMPORTANT: Be sure that the value for the \nResource group location\n matches the \nStorage account location\n that you configured in the Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.\n            \n            \n                \nInstall the application, leaving the app and the Packaging Machine in the state you want it to be for the user.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. \n                \n                    \n                \n            \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to expedite the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nhere\n.\n            \nOnce any pending operations are complete, shut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > App Layers\n, and select \nFinalize\n in the Action bar.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nOnce the App Layer task is marked Deployable, you can add the new App Layer to your Image Template. \n\n\nStep 3: Publish a new Layered Image containing the new App Layer\n\n\n            \nSelect \nImages\n, then select your Image Template and click \nEdit Template\n.\n            \nIn the Edit Template wizard, go to the Application Assignment tab and select the \nNotepad++ Layer\n. Then complete the wizard to save the template.\n            \nBack in the Images module, select the Template again and click \nPublish Layered Image\n. This opens the Publish Layered Image wizard.\n            \nIn the Publish Layered Image wizard, select the AzureRDSH Connector Configuration you created earlier.\n            \nIn the Platform Layer, select the layer you created earlier.\n            \nConfirm the settings and click \nPublish Layered Image\n.\n            \nMonitor the tasks for completion.\n            \nOnce the task is complete, access the target Azure server via the Azure Portal. The new virtual disk should appear under the targeted Azure store (refresh may be required).\n            \n                \nAssign the new virtual disk either to a new or existing collection.", 
            "title": "scenarios_az4"
        }, 
        {
            "location": "/scenarios_az4/#test-drive-publishing-to-azure-rdsh", 
            "text": "In this article:                                                                                            Platforms used in this test drive                                                    Components you will create                                                    Prerequisites                                                    Publish a test image with an OSLayer and a Platform Layer                                                    Add your first App Layer and republish the Layered Image", 
            "title": "Test drive: Publishing to  Azure RDSH"
        }, 
        {
            "location": "/scenarios_az4/#platforms-used-in-this-test-drive", 
            "text": "Create Layers in:                      Azure                                                        Publish Layered Images to:                      Azure RDSH                                                        For delivery to:                       Azure users                                         This test drive leads you through the process of publishing a Layered Image as a virtual disk to an Azure server. the hypervisor in this scenario is Azure, and the connection broker is Azure.", 
            "title": "Platforms used in this test drive"
        }, 
        {
            "location": "/scenarios_az4/#components-you-will-create", 
            "text": "Component                      Description                                                        OSLayer                                                                            Contains Windows Server 2012 R2                               Unidesk Tools are installed                                                                                                      Platform Layer                                                                            Layer containing all platform-related software and settings                              Created in Azure using an Azure VM for the Packaging Machine                                                                                                      App Layer                                                                            Notepad++                                                                                                      Image Template                                                                            Created in two stages:  Stage 1: Includes OS Layer ; Platform Layer Stage 2: Includes the addition of App Layer                                                                                                       Layered Image                                                                            Image Template                              OS Layer                              Platform Layer                              App Layer                                                                                                      Azure virtual disk                                                                            Contains the Unidesk Layered Image", 
            "title": "Components you will create"
        }, 
        {
            "location": "/scenarios_az4/#prerequisites", 
            "text": "", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/scenarios_az4/#step-2-create-a-platform-layer-for-publishing-layered-images", 
            "text": "The Platform Layer is where you will install software specific to an environment. Putting all platform-specific software in a Platform Layer allows you to reuse OS and App Layers in Layered Images on multiple platforms. The platforms for this test drive include Azure and Azure RDSH.   Using the Create Platform Layer wizard in the UMC, you will:               Deploy a Packaging Machine in Azure.               Install all platform software and tools.              Once the Layer is ready, rearm KMS. Assuming your OS image was activated using KMS, you'll rearm KMS when creating the Platform Layer. (This also applies to when you add a version to the Platform Layer.)                 Import the Packaging Machine to create the Platform Layer.            Here's how to create the Platform Layer:               Select  Layers >Platform Layers  and then   Create Platform Layer  to open the Create Platform Layer wizard.              In the Layer Details tab, enter a  Layer Name  and  Version , both required values.              In the OSLayer tab, select the OSLayer you created.               In the Connector tab, click  New  to add an  Azure Connector Configuration information  for creating the Packaging Machine VM. Use the  prerequisite  Azure account and subscription information to complete the fields. Click  TEST to verify the connection, then click  SAVE .              In the Platform Types tab, select  This Platform Layer: will be used for creating and updating Layers . For about this choice, see   Platform Layer Essentials .               From the Hypervisor menu, select  Azure .              On the Packaging Disk tab, notice the Packaging Disk   File name . This disk will be used for the Packaging Machine (the VM)where you will install the hypervisor tools and configure the settings.              In the Icon Assignment tab, select one of the default icons.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:                                                                              Log into the Azure portal (https://portal.azure.com) from your web browser.                                            Click the link in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)                                            On the Custom deployment panel, complete the required fields for customizing your Azure parameters.                                       Packaging Machine Name - must conform to Azure VM name requirements.                      Size - the Azure VM size of the packaging machine.                      Virtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.                                   IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.                                                                              Remote log in to the Packaging Machine you created in Azure. Be sure to log in using the User account you used to create the OSin Azure.                                            Install your Azure tools, and configure the Azure settings as you want them to be when the Packaging Machine for this layer starts.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete.                                                                                   Once any pending operations are complete, if the Finalize process tells you to reboot the machine, be sure to rearm KMS again.              Shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > Platform Layers , then select the Platform Layer and click  Finalize .              Use the Task bar to monitor when the layer becomes deployable.            When the new task becomes Deployable, you can add your new layers to an Image Template.", 
            "title": "Step 2: Create a Platform Layer for Publishing Layered Images"
        }, 
        {
            "location": "/scenarios_az4/#step-3-create-an-image-template", 
            "text": "Create an Image Template that includes the same OS Layer as you used in the Platform Layer you just created.               Select  Images  and click  Create Template . The Create Template Wizard opens.              Type a name for the template and select an icon for the Layer.              In the OSLayer tab choose the OS Layer.              On the Confirm and Complete tab, click  Create Template .            Next, you can publish the Layered Image using this template.", 
            "title": "Step 3: Create an Image Template"
        }, 
        {
            "location": "/scenarios_az4/#step-4-publish-a-layered-image-to-azure-rdsh", 
            "text": "Select  Images . Your Template is displayed.              Select the Template and click  Publish Layered Image . This opens the Publish Layered Image wizard.                               On the Connector tab, select the Azure RDSH Connector Configuration. If you don't have one yet, click  New  to open the AzureRDSH Connector Configuration page, and enter the information, as described  here .                           On the Platform Layer tab, select the Platform Layer that contains the Azure software and settings.              On the Layered Image Disk tab, edit the Layered Image Disk Filename, and keep the default values for the rest of the settings.              Confirm and complete the wizard, then expand the Task bar at the bottom of the window and monitor the task. When the task is  Done , the Layered Image virtual disk is ready.", 
            "title": "Step 4: Publish a Layered Image to Azure RDSH"
        }, 
        {
            "location": "/scenarios_az4/#step-5-provision-a-session-host", 
            "text": "In the Custom deployment template, enter the information to provision a Azure RDSession Host.                                Complete the Session Host Parameters shown below, using the host's Fully Qualified Domain Name (FQDN).                                                                              Select the Azure Resource Group.                                                                              Specify the Resource Group Location.                  IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Platform Connector Configuration. If these locations are not the same, the Packaging Machine will not be deployed and you will have to reattempt deployment.                                            Review the legal terms, and if you accept them, click  Create . This creates a Session Host provisioned with the Layered Image in Azure.                                            While Azure creates the virtual machine, you can track the progress under Virtual Machines in the hub menu.                           Power off the Session Host, power it back on, and add it to an RDS collection. Please see the  TechNet Reference   for details.           Once you have tested your Layered Image in Azure, it's time to add an App Layer to the image.", 
            "title": "Step 5: Provision a Session Host"
        }, 
        {
            "location": "/scenarios_az4/#add-your-first-app-layer-and-republish-the-layered-image", 
            "text": "In this part of the test drive you will:                                                                                            Step 1: Create a Platform Layer for packaging other layers                                                    Step 2: Create an App Layer                                                    Step 3: Publish a new Layered Image containing the new App Layer                                                                                       Similar to the process for creating a Platform Layer, you will prepare an App Layer in the UMC, deploy a Packaging Machine VM in Azure where you install Notepad++, then import the VM into the new layer. You will add this layer to your Image Template, and publish a new version of the Layered Image.", 
            "title": "Add your first App Layer and republish the Layered Image"
        }, 
        {
            "location": "/scenarios_az4/#step-1-create-a-platform-layer-for-packaging-other-layers", 
            "text": "The Platform Layer for packaging layers is where you install the tools and settings specific to a particular hypervisor. Putting platform-specific software on the Platform Layer means that your App Layers do not need to include it, and therefore can be used on multiple platforms.   Using the UMC, you will prepare this layer and deploy a Packaging Machine VM in Azure. On the Packaging Machine, you will install the hypervisor software and configure the hypervisor settings, as needed. Finally, you will import the Packaging Machine to create the Platform Layer for packaging layers.                Select  Layers >Platform Layers  and then   Create Platform Layer  from the Action bar to open the Create Platform Layer wizard.              In the Layer Details tab, enter a  Layer Name  and  Version , both required values.              In the OSLayer tab, select the OSLayer you created earlier.               In the Connector tab, the  Azure  Connector Configuration.              On the Packaging Disk tab, notice the Packaging Disk   File name . This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.              In the Icon Assignment tab, select one of the default icons.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:                                                                              Log into the Azure portal (https://portal.azure.com) from your web browser.                                            Click the link in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)                                            On the Custom deployment panel, complete the required fields for customizing your Azure parameters.                                       Packaging Machine Name - must conform to Azure VM name requirements.                      Size - the Azure VM size of the packaging machine.                      Virtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.                                   IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.                                                                              Install the Azure tools, and configure the Azure settings as you want them to be when the Packaging Machine for this layer starts.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete.                                                                                   Once any pending operations are complete, shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > Platform Layers , then select the Platform Layer and click  Finalize .              Use the Task bar to monitor when the layer becomes deployable.", 
            "title": "Step 1: Create a Platform Layer for packaging other layers"
        }, 
        {
            "location": "/scenarios_az4/#step-2-create-an-app-layer", 
            "text": "Select  Layers >App Layers  and then   Create App Layer  from the Action bar to open the Create App Layer wizard.              In the Layer Details tab, enter a  Layer Name  and  Version , both required values.              In the OSLayer tab, select the OSLayer you created earlier.               In the Connector tab, choose the Azure  Connector Configuration  you used to create the Platform Layer for packaging other layers.              On the Platform Layer tab, choose the Platform Layer you just created.              On the Packaging Disk tab, enter a  File name  for the Packaging Disk. This disk will be used for the Packaging Machine (the VM)where you will install the application.              In the Icon Assignment tab, select one of the supplied icons for the layer, or if you'd like to use the application icon, you can browse for it and import it into this tab.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the task to expand it. Once complete, the Task bar displays the location of the Packaging Disk or Machine in your environment.                                                                              Log into the Azure portal (https://portal.azure.com) from your web browser.                                            Click the link in the Create App Layer Task (shown above) to navigate to the Packaging Machine in Azure. (You must be logged into Azure for the link to work.)                                            On the Custom deployment panel, complete the required fields for customizing your Azure parameters.                                       Packaging Machine Name - must conform to Azure VM name requirements.                      Size - the Azure VM size of the packaging machine.                      Virtual Network and Subnet - the virtual network and subnet for deploying the Packaging Machine.                                   IMPORTANT: Be sure that the value for the  Resource group location  matches the  Storage account location  that you configured in the Connector Configuration. If these locations are not the same, the Packaging Machine will fail to deploy and you will have to reattempt deployment. If your deployment does fail, you can simply re-paste the link into the browser to start over.                                            Install the application, leaving the app and the Packaging Machine in the state you want it to be for the user.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process.                                                                                   If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to expedite the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  here .              Once any pending operations are complete, shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > App Layers , and select  Finalize  in the Action bar.              Use the Task bar to monitor when the layer becomes deployable.            Once the App Layer task is marked Deployable, you can add the new App Layer to your Image Template.", 
            "title": "Step 2: Create an App Layer"
        }, 
        {
            "location": "/scenarios_az4/#step-3-publish-a-new-layered-image-containing-the-new-app-layer", 
            "text": "Select  Images , then select your Image Template and click  Edit Template .              In the Edit Template wizard, go to the Application Assignment tab and select the  Notepad++ Layer . Then complete the wizard to save the template.              Back in the Images module, select the Template again and click  Publish Layered Image . This opens the Publish Layered Image wizard.              In the Publish Layered Image wizard, select the AzureRDSH Connector Configuration you created earlier.              In the Platform Layer, select the layer you created earlier.              Confirm the settings and click  Publish Layered Image .              Monitor the tasks for completion.              Once the task is complete, access the target Azure server via the Azure Portal. The new virtual disk should appear under the targeted Azure store (refresh may be required).                               Assign the new virtual disk either to a new or existing collection.", 
            "title": "Step 3: Publish a new Layered Image containing the new App Layer"
        }, 
        {
            "location": "/scenarios_co4/", 
            "text": "Pick the platform for your Unidesk test drive\n\n\nUnidesk integrates well with several widely adopted platforms, and also provides the means to publish platform-independent images in cases where integration is not yet available. Pick the target platform for your Unidesk test drive:", 
            "title": "scenarios_co4"
        }, 
        {
            "location": "/scenarios_co4/#pick-the-platform-for-your-unidesk-test-drive", 
            "text": "Unidesk integrates well with several widely adopted platforms, and also provides the means to publish platform-independent images in cases where integration is not yet available. Pick the target platform for your Unidesk test drive:", 
            "title": "Pick the platform for your Unidesk test drive"
        }, 
        {
            "location": "/scenarios_hv4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to MS RDS in Hyper-V\n\n\nTest drive: Publish to Microsoft RDS in Hyper-V\n\n\nOnce Unidesk is set up, you can use this test drive to create your first layers in Hyper-V, and then publish a test image to MSRDS. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance. \n\n\nPlease download the Test Drive from this Unidesk \nforum article\n.\n\n\nIf you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "scenarios_hv4"
        }, 
        {
            "location": "/scenarios_hv4/#test-drive-publish-to-microsoft-rds-in-hyper-v", 
            "text": "Once Unidesk is set up, you can use this test drive to create your first layers in Hyper-V, and then publish a test image to MSRDS. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance.   Please download the Test Drive from this Unidesk  forum article .  If you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "Test drive: Publish to Microsoft RDS in Hyper-V"
        }, 
        {
            "location": "/scenarios_pv4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to PVS, XenApp 7 in vSphere\n\n\nTest drive: Publish to PVS, XenApp 7 in vSphere\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Platforms used in this test drive\n                        \n                        \n Components you will create\n                        \n                        \n Prerequisites\n                        \n                        \n Publish a test image with an OSLayer and a Platform Layer\n                        \n                        \n Add your first App Layer and republish the Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nPlatforms used in this test drive\n\n\n            \n            \n            \n                \n                    \nCreate Layers in:\n                    \n vSphere\n                \n                \n                    \nPublish Layered Images to:\n                    \nPVS\n                \n                \n                    \nFor delivery to: \n                    \nXenApp users\n                \n            \n        \n\n\n\nThis test drive leads you through the process of publishing a Layered Image as a vDisk to a PVS server. As this diagram shows, the hypervisor in this scenario is vSphere, and the connection broker is Citrix XenApp. \n\n\n\n\nComponents you will create\n\n\n            \n            \n            \n                \n                    \nComponent\n                    \nDescription\n                \n                \n                    \nOSLayer\n                    \n                        \n                            \nContains Windows Server 2012 R2 \n                            \nUnidesk Tools are installed\n                            \nNetwork card is set to VMXNet3\n                        \n                    \n                \n                \n                    \nPlatform Layer\n                    \n                        \n                            \nLayer containing all platform-related software and settings\n                            \nCreated in vSphere using a VMware VM for the Packaging Machine\n                        \n                    \n                \n                \n                    \nApp Layer\n                    \n                        \n                            \nNotepad++\n                        \n                    \n                \n                \n                    \nImage Template\n                    \n                        \n                            \nCreated in two stages:\n Stage 1: Includes OS Layer ; Platform Layer\nStage 2: Includes the addition of App Layer \n                        \n                    \n                \n                \n                    \nLayered Image\n                    \n                        \n                            \nImage Template\n                            \nOS Layer\n                            \nPlatform Layer\n                            \nApp Layer\n                        \n                    \n                \n                \n                    \nPVSvDisk\n                    \n                        \n                            \nContains the Unidesk Layered Image\n                        \n                    \n                \n            \n        \n\n\n\nPrerequisites\n\n\n            \n            \n            \n                \n                    \n                        \nUnidesk\n                        \no\n Unidesk ELMinstalled on a server in your vSphere environment.\n                        \no\n Unidesk Tools downloaded from the Unidesk Download page and copied to a location that the Packaging Machine VM will be able to access.\n                        \nvSphere\n                        \no\n Access from the Packaging Machine VM in vSphere to the Unidesk Tools download, which is available on the Unidesk Download page.\n                        \no\n vSphere resource information for Unidesk \nvSphere Connector Configuration\n.\n                        \nCitrix XenApp \n                        \no\n XenApp Virtual Delivery Agent Installer for Windows Server OS. The XenApp version must match the version of the XenApp server on which the Layered Image will be used.\n                    \n                    \n                        \nPVS\n                        \no\n Unidesk Agent - Installed on all PVS servers used to access the PVS servers to which you will publish images. (Agent must be registered with the Unidesk ELM.)\n                        \no\n All PVSservers where the Unidesk Agent is installed must have the PVSConsole installed. \n                        \no\n PVS Target Device Imaging software (version must match the PVS server to which the Layered Image will be published).\n                        \no\n PVSresource information for the Unidesk \nPVS Connector Configuration\n. \n                        \no\n Appropriate PowerShell Snap-in must be installed.\n                        \no\n When using KMS licensing, PVS requires that each target device has a unique CMID. For more about this, see the Citrix article, \nDemystifying KMS and Provisioning Services\n. The steps for rearming KMS are covered in the \nPlatform Layer instructions\n below.\n                    \n                \n            \n        \n\n\n\nPublish a test image with an OS\n##Layer and a Platform Layer\n\n\nIn this part of the test drive you will:\n\n\n            \n            \n                \n                    \n                        \n Step 1: Create an OSLayer\n                        \n                        \n Step 2: Create a Platform Layer to include in Layered Images\n                        \n                        \n Step 3: Create an Image Template\n                        \n                        \n Step 4: Publish a Layered Image to PVS\n                        \n                        \n Step 5: Assign the new vDisk to a collection\n                        \n                    \n                \n            \n        \n\n\n\nStep 1: Create an OS\n###Layer\n\n\n        \n\n\nIn this step you will create a vSphere VM to use as your OSMachine, and prepare the OS on it. Then you will download the OS.vmdk file to the Network File Share and import the OS Disk into the Unidesk OSLayer.\n\n\n            \n                \nIn vSphere, create a Windows Server 2012 R2 VM, specifying a network adaptor of VMXNet3.\n                \nImportant:\n When creating the image, be sure to choose the default cluster allocation size of 4K.\n            \n            \nLog into the new VM.\n            \nCheck to see if the operating system is configured with a VMXNet3 card, and if not, change the setting to VMXNet3. Then restart the system and ensure the new network adapter setting is working.\n            \nInstall Windows Server 2012 \nSession Host role\n.\n            \nDownload the Unidesk OS Machine Tools from the Unidesk Support Download Center. \n            \nDouble-click the executable to copy the scripts and files to \nC:\\Windows\\Setup\\scripts\n.  \n            \nFrom the \nC:\\Windows\\Setup\\scripts\n folder, run the included Setup_x64.exe file on the VM to install the Unidesk tools.\n            \nShut down the VM. \n            \nRight-click the VM and select \nTemplate > Export OVF Template\n. This preserves any snapshots you may have made.\n            \nIn the wizard that opens, select the name of the file that will be created, and the directory in which you would like to store the file and format: \"Folder of files (OVF)\". Files are downloaded to the Network File Share.\n            \nIn the Unidesk ELM, select \nLayers > OS Layers\n and click \nCreate OS Layer\n. This opens the Create OS Layer Wizard so you can set up the new Layer and import your operating system into it.\n            \nFirst, specify a \nLayer Name\n and \nVersion\n in the Layer Details tab. \n            \nIn the Connector tab, select the \nNetwork File Share\n where you downloaded the vSphere .vmdk files. Once connected to the file share, you can select the operating system to import.\n            \nIn the OS Disk Details tab, click \nBrowse\n to select the  *.vmdk file. \n            \nIn the Icon Assignment tab, select the 2012 icon for this Layer.\n            \nIn the Confirm and Complete tab, make sure the details of the OS Layer are correct, and click \nCreate Layer\n. \n        \n\n\n\nWhen the task completes, the new OS Layer in the Unidesk Management Console (UMC) displays a Deployable status.\n\n\nStep 2: Create a Platform Layer to include in Layered Images\n\n\nPlatform Layers contain the software and settings required to either:\n\n\n            \nCreate other Layers in your hypervisor environment, or \n            \nPublish and run your Layered Images in the target environment\n        \n\n\n\nBy putting all platform-specific software and settings into Platform Layers, your other Layers and Image Templates are free of any platform-specific software, and can be used to create Layered Images for multiple environments. \n\n\nNow you will create a Platform Layer to use in your Layered Images. This Platform Layer helps to ensure that Layered Images run correctly in your environment. \n\n\nFor this test drive, the platform software and settings you will include in the Platform Layer are for vSphere, PVS, and XenApp. Using the Create Platform Layer wizard in the UMC, you will:\n\n\n            \nDeploy a Packaging Machine in vSphere. \n            \nInstall the platform software, configure platform settings, and verify the Layer.\n            \nRearm KMS (assuming your OS image was activated using KMS).   \n            \nFinalize the Platform Layer by importing the Packaging Machine. \n        \n\n\n\nHere's how:\n\n\n            \nSelect \nLayers >Platform Layers\n and then  \nCreate Platform Layer\n from the Action bar to open the Create Platform Layer wizard.\n            \nOn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nOn the OSLayer tab, select the OSLayer you created earlier. \n            \nOn the Connector tab, click \nNew\n to add a vSphere Connector Configuration for creating the Packaging Machine VM. Use the \nprerequisite\n vSphere Connector Configuration \ninformation\n to complete the fields. Click \nTEST\nto verify the connection, then click \nSAVE\n.\n            \n                \nOn the Platform Types tab, select \nThis platform layer will be used for publishing Layered Images\n, and select the hypervisor, Provisioning Service, and Connection Broker where you will publish your Layered Images.\n                \n                \n            \n            \nOn the Packaging Disk tab, notice the Packaging Disk  \nFile name\n. This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.\n            \nIn the Icon Assignment tab, select one of the default icons.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:\n                \n                \n            \n            \n                \nLog into your vSphere web client, then use the information displayed in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in vSphere.\n            \n            \n                \nPower on the Packaging Machine, and remote log into it. Remote log into the Packaging Machine with the User account you used to create the operatingsystem.\n            \n            \n                \nDomain join the Packaging Machine VM.\n            \n            \n                \nInstall your vmTools, and configure the vSphere settings as you want them to be when the Packaging Machine starts.\n            \n            \n                \nRun the PVS Target Device Installation software. In the installation wizard, take the default settings, except on the last page of the wizard, deselect the Launch Imaging Wizard checkbox. \n                \nImportant:\n Do not run the device Imaging Wizard.\n            \n            \n                \nRun the PVS Device optimization tool.\n            \n            \n                \nInstall the XenApp Virtual Delivery Agent for Windows Server OS using the default settings. For the Master device option, choose MCS/PVS.\n            \n            \n                \nVerify the Rearm count on the OS by running slmgr /dlv from a command prompt. \nslmgr /dlv\n            \n            \n                \nRearm KMS:\nslmgr /rearm\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete. \n                \n                    \n                \n            \n            \nOnce any pending operations are complete, if the Finalize process tells you to reboot the machine, be sure to rearm KMS again.\n            \nShut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > Platform Layers\n, then select the Platform Layer and click \nFinalize\n.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nWhen the new task becomes Deployable, you can add your new layers to an Image Template. \n\n\nStep 3: Create an Image Template\n\n\n        \n\n\nCreate an Image Template that includes the same OS Layer as you used in the Platform Layer you just created.\n\n\n            \nSelect \nImages\n and click \nCreate Template\n. The Create Template Wizard opens.\n            \nType a name for the template and select an icon for the Layer.\n            \nIn the OSLayer tab choose the OS Layer.\n            \nSkip the App Layer Assignment tab for now. You'll add App Layers in the next part of this test drive.\n            \nOn the Connector tab, select the PVS Connector Configuration. If you don't have one yet, click \nNew\n to open the Citrix PVSConnector Configuration page, and enter the information, as described \nhere\n.\n            \nOn the Platform Layer tab, select the Platform Layer that contains the PVS and XenApp software and settings.\n            \nOn the Layered Image Disk tab, edit the Layered Image Disk Filename, and keep the default values for the rest of the settings.\n            \nOn the Confirm and Complete tab, click \nCreate Template\n. \n        \n\n\n\nNext, you can publish the Layered Image using this template.\n\n\nStep 4: Publish a Layered Image to PVS\n\n\n            \nSelect \nImages\n. Your Template is displayed.\n            \nSelect the Template and click \nPublish Layered Image\n. This opens the Publish Layered Image wizard.\n            \nConfirm and complete the wizard, then expand the Task bar at the bottom of the window and monitor the task. When the task is \nDone\n, the vDisk is ready to add to a collection. \n        \n\n\n\nStep 5: Assign the new vDisk to a collection\n\n\n            \nAccess the target PVS server via the PVSConsole. The new vDisk should appear under the targeted PVS store (refresh may be required).\n            \nTest the new vDisk by assigning it to a device.\n            \nUsing Citrix PVSbest practices, assign the new vDisk to a collection of targeted devices. \n        \n\n\n\nNow that you have tested your Layered Image in PVS, it's time to add an App Layer to the image. \n\n\nAdd your first App Layer and republish the Layered Image\n\n\nIn this part of the test drive you will:\n\n\n            \n            \n                \n                    \n                        \n Step 1: Create a Platform Layer for packaging other layers\n                        \n                        \n Step 2: Create an App Layer\n                        \n                        \n Step 3: Publish a new Layered Image containing the new App Layer\n                        \n                    \n                \n            \n        \n\n\n\nSimilar to the process for creating a Platform Layer, you will prepare an App Layer in the UMC, deploy a Packaging Machine VM in vSphere where you install Notepad++, then import the VM into the new layer. You will add this layer to your Image Template, and publish a new version of the Layered Image.\n\n\nStep 1: Create a Platform Layer for packaging other layers\n\n\n        \n\n\nThe Platform Layer for packaging layers is where you install the tools and settings specific to a particular hypervisor. Putting platform-specific software on the Platform Layer means that your App Layers do not need to include it, and therefore can be used on multiple platforms. \n\n\nUsing the UMC, you will prepare this layer and deploy a Packaging Machine VM in vSphere. On the Packaging Machine, you will install the hypervisor software and configure the hypervisor settings, as needed. Finally, you will import the Packaging Machine to create the Platform Layer for packaging layers. \n\n\n            \nSelect \nLayers >Platform Layers\n and then  \nCreate Platform Layer\n from the Action bar to open the Create Platform Layer wizard.\n            \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nIn the OSLayer tab, select the OSLayer you created earlier. \n            \nIn the Connector tab, the \nvSphere\n Connector Configuration.\n            \nOn the Packaging Disk tab, notice the Packaging Disk  \nFile name\n. This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.\n            \nIn the Icon Assignment tab, select one of the default icons.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:\n                \n                \n            \n            \n                \nLog into your vSphere web client, then use the information displayed in the Packaging Disk Task (shown above) to navigate to the Packaging Machine in vSphere.\n            \n            \n                \nPower on the Packaging Machine, and remote log into it. Remote log in to the Packaging Machine with the User account you used to create the operatingsystem.\n            \n            \n                \nDomain join the Packaging Machine VM.\n            \n            \n                \nInstall your vmTools, and configure the vSphere settings as you want them to be when the Packaging Machine for this layer starts.\n            \n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete. \n                \n                    \n                \n            \n            \nOnce any pending operations are complete, shut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > Platform Layers\n, then select the Platform Layer and click \nFinalize\n.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nStep 2: Create an App Layer\n\n\n        \n\n\n            \nSelect \nLayers >App Layers\n and then  \nCreate App Layer\n from the Action bar to open the Create App Layer wizard.\n            \nIn the Layer Details tab, enter a \nLayer Name\n and \nVersion\n, both required values.\n            \nIn the OSLayer tab, select the OSLayer you created earlier. \n            \nIn the Connector tab, choose the vSphere \nConnector Configuration\n you used to create the Platform Layer for packaging other layers.\n            \nOn the Platform Layer tab, choose the Platform Layer you just created.\n            \nOn the Packaging Disk tab, enter a \nFile name\n for the Packaging Disk. This disk will be used for the Packaging Machine (the VM)where you will install the application.\n            \nIn the Icon Assignment tab, select one of the supplied icons for the layer, or if you'd like to use the application icon, you can browse for it and import it into this tab.\n            \nIn theConfirm and Complete tab, review the settings and click \nCreate Layer\n. \n            \n                \nExpand the Tasks bar at the bottom of the UI, and double-click the task to expand it. Once complete, the Task bar displays the location of the Packaging Disk or Machine in your environment.\n                \n                \n            \n            \nLog into your vSphere web client, then use the information displayed in the above Task to navigate to the Packaging Machine in vSphere.\n            \nPower on the Packaging Machine, and remote log into it. Remote log in to the Packaging Machine with the User account you used to create the operatingsystem in vSphere.\n            \nInstall the application, leaving the application and the Packaging Machine in the state you want it to be for the user.\n            \n                \nDouble-click the \nShutdown For Finalize\n icon. A command line window displays messages about the layer verification process. \n                \n                    \n                \n            \n            \nIf there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to expedite the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed \nhere\n.\n            \nOnce any pending operations are complete, shut down the Packaging Machine by double-clicking the \nShutdown For Finalize\n icon again. \n            \nReturn to the UMC, and select \nLayers > App Layers\n, and select \nFinalize\n in the Action bar.\n            \nUse the Task bar to monitor when the layer becomes deployable. \n        \n\n\n\nOnce the App Layer task is marked Deployable, you can add the new App Layer to your Image Template. \n\n\nStep 3: Publish a new Layered Image containing the new App Layer\n\n\n            \nSelect \nImages\n, then select your Image Template and click \nEdit Template\n.\n            \nIn the Edit Template wizard, select the Application Assignment tab and select the \nNotepad++ Layer\n. \n            \nSkip the Confirm and Complete tab, and click Save Template Changes to save the updated template.\n            \nBack in the Images module, select the Template again and click \nPublish Layered Image\n. This opens the Publish Layered Image wizard.\n            \nConfirm the settings and click \nPublish Layered Image\n.\n            \nMonitor the tasks for completion.\n            \nOnce the task is complete, access the target PVS server via the PVS Console. The new vDisk should appear under the targeted PVS store (refresh may be required).\n            \n                \nAssign the new vDisk either to a new or existing collection.", 
            "title": "scenarios_pv4"
        }, 
        {
            "location": "/scenarios_pv4/#test-drive-publish-to-pvs-xenapp-7-in-vsphere", 
            "text": "In this article:                                                                                            Platforms used in this test drive                                                    Components you will create                                                    Prerequisites                                                    Publish a test image with an OSLayer and a Platform Layer                                                    Add your first App Layer and republish the Layered Image", 
            "title": "Test drive: Publish to PVS, XenApp 7 in vSphere"
        }, 
        {
            "location": "/scenarios_pv4/#platforms-used-in-this-test-drive", 
            "text": "Create Layers in:                       vSphere                                                        Publish Layered Images to:                      PVS                                                        For delivery to:                       XenApp users                                         This test drive leads you through the process of publishing a Layered Image as a vDisk to a PVS server. As this diagram shows, the hypervisor in this scenario is vSphere, and the connection broker is Citrix XenApp.", 
            "title": "Platforms used in this test drive"
        }, 
        {
            "location": "/scenarios_pv4/#components-you-will-create", 
            "text": "Component                      Description                                                        OSLayer                                                                            Contains Windows Server 2012 R2                               Unidesk Tools are installed                              Network card is set to VMXNet3                                                                                                      Platform Layer                                                                            Layer containing all platform-related software and settings                              Created in vSphere using a VMware VM for the Packaging Machine                                                                                                      App Layer                                                                            Notepad++                                                                                                      Image Template                                                                            Created in two stages:  Stage 1: Includes OS Layer ; Platform Layer Stage 2: Includes the addition of App Layer                                                                                                       Layered Image                                                                            Image Template                              OS Layer                              Platform Layer                              App Layer                                                                                                      PVSvDisk                                                                            Contains the Unidesk Layered Image", 
            "title": "Components you will create"
        }, 
        {
            "location": "/scenarios_pv4/#prerequisites", 
            "text": "", 
            "title": "Prerequisites"
        }, 
        {
            "location": "/scenarios_pv4/#step-2-create-a-platform-layer-to-include-in-layered-images", 
            "text": "Platform Layers contain the software and settings required to either:               Create other Layers in your hypervisor environment, or               Publish and run your Layered Images in the target environment           By putting all platform-specific software and settings into Platform Layers, your other Layers and Image Templates are free of any platform-specific software, and can be used to create Layered Images for multiple environments.   Now you will create a Platform Layer to use in your Layered Images. This Platform Layer helps to ensure that Layered Images run correctly in your environment.   For this test drive, the platform software and settings you will include in the Platform Layer are for vSphere, PVS, and XenApp. Using the Create Platform Layer wizard in the UMC, you will:               Deploy a Packaging Machine in vSphere.               Install the platform software, configure platform settings, and verify the Layer.              Rearm KMS (assuming your OS image was activated using KMS).                 Finalize the Platform Layer by importing the Packaging Machine.            Here's how:               Select  Layers >Platform Layers  and then   Create Platform Layer  from the Action bar to open the Create Platform Layer wizard.              On the Layer Details tab, enter a  Layer Name  and  Version , both required values.              On the OSLayer tab, select the OSLayer you created earlier.               On the Connector tab, click  New  to add a vSphere Connector Configuration for creating the Packaging Machine VM. Use the  prerequisite  vSphere Connector Configuration  information  to complete the fields. Click  TEST to verify the connection, then click  SAVE .                               On the Platform Types tab, select  This platform layer will be used for publishing Layered Images , and select the hypervisor, Provisioning Service, and Connection Broker where you will publish your Layered Images.                                                             On the Packaging Disk tab, notice the Packaging Disk   File name . This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.              In the Icon Assignment tab, select one of the default icons.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:                                                                              Log into your vSphere web client, then use the information displayed in the Create Platform Layer Task (shown above) to navigate to the Packaging Machine in vSphere.                                            Power on the Packaging Machine, and remote log into it. Remote log into the Packaging Machine with the User account you used to create the operatingsystem.                                            Domain join the Packaging Machine VM.                                            Install your vmTools, and configure the vSphere settings as you want them to be when the Packaging Machine starts.                                            Run the PVS Target Device Installation software. In the installation wizard, take the default settings, except on the last page of the wizard, deselect the Launch Imaging Wizard checkbox.                   Important:  Do not run the device Imaging Wizard.                                            Run the PVS Device optimization tool.                                            Install the XenApp Virtual Delivery Agent for Windows Server OS using the default settings. For the Master device option, choose MCS/PVS.                                            Verify the Rearm count on the OS by running slmgr /dlv from a command prompt.  slmgr /dlv                                            Rearm KMS: slmgr /rearm                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete.                                                                                   Once any pending operations are complete, if the Finalize process tells you to reboot the machine, be sure to rearm KMS again.              Shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > Platform Layers , then select the Platform Layer and click  Finalize .              Use the Task bar to monitor when the layer becomes deployable.            When the new task becomes Deployable, you can add your new layers to an Image Template.", 
            "title": "Step 2: Create a Platform Layer to include in Layered Images"
        }, 
        {
            "location": "/scenarios_pv4/#step-3-create-an-image-template", 
            "text": "Create an Image Template that includes the same OS Layer as you used in the Platform Layer you just created.               Select  Images  and click  Create Template . The Create Template Wizard opens.              Type a name for the template and select an icon for the Layer.              In the OSLayer tab choose the OS Layer.              Skip the App Layer Assignment tab for now. You'll add App Layers in the next part of this test drive.              On the Connector tab, select the PVS Connector Configuration. If you don't have one yet, click  New  to open the Citrix PVSConnector Configuration page, and enter the information, as described  here .              On the Platform Layer tab, select the Platform Layer that contains the PVS and XenApp software and settings.              On the Layered Image Disk tab, edit the Layered Image Disk Filename, and keep the default values for the rest of the settings.              On the Confirm and Complete tab, click  Create Template .            Next, you can publish the Layered Image using this template.", 
            "title": "Step 3: Create an Image Template"
        }, 
        {
            "location": "/scenarios_pv4/#step-4-publish-a-layered-image-to-pvs", 
            "text": "Select  Images . Your Template is displayed.              Select the Template and click  Publish Layered Image . This opens the Publish Layered Image wizard.              Confirm and complete the wizard, then expand the Task bar at the bottom of the window and monitor the task. When the task is  Done , the vDisk is ready to add to a collection.", 
            "title": "Step 4: Publish a Layered Image to PVS"
        }, 
        {
            "location": "/scenarios_pv4/#step-5-assign-the-new-vdisk-to-a-collection", 
            "text": "Access the target PVS server via the PVSConsole. The new vDisk should appear under the targeted PVS store (refresh may be required).              Test the new vDisk by assigning it to a device.              Using Citrix PVSbest practices, assign the new vDisk to a collection of targeted devices.            Now that you have tested your Layered Image in PVS, it's time to add an App Layer to the image.", 
            "title": "Step 5: Assign the new vDisk to a collection"
        }, 
        {
            "location": "/scenarios_pv4/#add-your-first-app-layer-and-republish-the-layered-image", 
            "text": "In this part of the test drive you will:                                                                                            Step 1: Create a Platform Layer for packaging other layers                                                    Step 2: Create an App Layer                                                    Step 3: Publish a new Layered Image containing the new App Layer                                                                                       Similar to the process for creating a Platform Layer, you will prepare an App Layer in the UMC, deploy a Packaging Machine VM in vSphere where you install Notepad++, then import the VM into the new layer. You will add this layer to your Image Template, and publish a new version of the Layered Image.", 
            "title": "Add your first App Layer and republish the Layered Image"
        }, 
        {
            "location": "/scenarios_pv4/#step-1-create-a-platform-layer-for-packaging-other-layers", 
            "text": "The Platform Layer for packaging layers is where you install the tools and settings specific to a particular hypervisor. Putting platform-specific software on the Platform Layer means that your App Layers do not need to include it, and therefore can be used on multiple platforms.   Using the UMC, you will prepare this layer and deploy a Packaging Machine VM in vSphere. On the Packaging Machine, you will install the hypervisor software and configure the hypervisor settings, as needed. Finally, you will import the Packaging Machine to create the Platform Layer for packaging layers.                Select  Layers >Platform Layers  and then   Create Platform Layer  from the Action bar to open the Create Platform Layer wizard.              In the Layer Details tab, enter a  Layer Name  and  Version , both required values.              In the OSLayer tab, select the OSLayer you created earlier.               In the Connector tab, the  vSphere  Connector Configuration.              On the Packaging Disk tab, notice the Packaging Disk   File name . This disk will be used for the Packaging Machine (the VM)where you will install the platform tools and configure the settings.              In the Icon Assignment tab, select one of the default icons.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the Packaging Disk task to show the full task description. Once the Packaging Disk has been created, the Task bar displays the location of the Packaging Disk in your environment. Example:                                                                              Log into your vSphere web client, then use the information displayed in the Packaging Disk Task (shown above) to navigate to the Packaging Machine in vSphere.                                            Power on the Packaging Machine, and remote log into it. Remote log in to the Packaging Machine with the User account you used to create the operatingsystem.                                            Domain join the Packaging Machine VM.                                            Install your vmTools, and configure the vSphere settings as you want them to be when the Packaging Machine for this layer starts.                                            Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process. If there is an outstanding operation, wait for it to complete.                                                                                   Once any pending operations are complete, shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > Platform Layers , then select the Platform Layer and click  Finalize .              Use the Task bar to monitor when the layer becomes deployable.", 
            "title": "Step 1: Create a Platform Layer for packaging other layers"
        }, 
        {
            "location": "/scenarios_pv4/#step-2-create-an-app-layer", 
            "text": "Select  Layers >App Layers  and then   Create App Layer  from the Action bar to open the Create App Layer wizard.              In the Layer Details tab, enter a  Layer Name  and  Version , both required values.              In the OSLayer tab, select the OSLayer you created earlier.               In the Connector tab, choose the vSphere  Connector Configuration  you used to create the Platform Layer for packaging other layers.              On the Platform Layer tab, choose the Platform Layer you just created.              On the Packaging Disk tab, enter a  File name  for the Packaging Disk. This disk will be used for the Packaging Machine (the VM)where you will install the application.              In the Icon Assignment tab, select one of the supplied icons for the layer, or if you'd like to use the application icon, you can browse for it and import it into this tab.              In theConfirm and Complete tab, review the settings and click  Create Layer .                                Expand the Tasks bar at the bottom of the UI, and double-click the task to expand it. Once complete, the Task bar displays the location of the Packaging Disk or Machine in your environment.                                                             Log into your vSphere web client, then use the information displayed in the above Task to navigate to the Packaging Machine in vSphere.              Power on the Packaging Machine, and remote log into it. Remote log in to the Packaging Machine with the User account you used to create the operatingsystem in vSphere.              Install the application, leaving the application and the Packaging Machine in the state you want it to be for the user.                               Double-click the  Shutdown For Finalize  icon. A command line window displays messages about the layer verification process.                                                                                   If there is an outstanding operation that must be completed before the Layer can be finalized, you are prompted to expedite the process. For example, if a Microsoft NGen operation needs to complete, you may be able to expedite the NGen operation, as detailed  here .              Once any pending operations are complete, shut down the Packaging Machine by double-clicking the  Shutdown For Finalize  icon again.               Return to the UMC, and select  Layers > App Layers , and select  Finalize  in the Action bar.              Use the Task bar to monitor when the layer becomes deployable.            Once the App Layer task is marked Deployable, you can add the new App Layer to your Image Template.", 
            "title": "Step 2: Create an App Layer"
        }, 
        {
            "location": "/scenarios_pv4/#step-3-publish-a-new-layered-image-containing-the-new-app-layer", 
            "text": "Select  Images , then select your Image Template and click  Edit Template .              In the Edit Template wizard, select the Application Assignment tab and select the  Notepad++ Layer .               Skip the Confirm and Complete tab, and click Save Template Changes to save the updated template.              Back in the Images module, select the Template again and click  Publish Layered Image . This opens the Publish Layered Image wizard.              Confirm the settings and click  Publish Layered Image .              Monitor the tasks for completion.              Once the task is complete, access the target PVS server via the PVS Console. The new vDisk should appear under the targeted PVS store (refresh may be required).                               Assign the new vDisk either to a new or existing collection.", 
            "title": "Step 3: Publish a new Layered Image containing the new App Layer"
        }, 
        {
            "location": "/scenarios_vw4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to Horizon View in vSphere\n\n\nTest drive: Publish to VMware Horizon View\n\n\nOnce Unidesk is set up, you can use this test drive to create your first layers in vSphere, and then publish a test image to Horizon View. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance. \n\n\nPlease download the Test Drive from this Unidesk \nforum article\n.\n\n\nIf you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "scenarios_vw4"
        }, 
        {
            "location": "/scenarios_vw4/#test-drive-publish-to-vmware-horizon-view", 
            "text": "Once Unidesk is set up, you can use this test drive to create your first layers in vSphere, and then publish a test image to Horizon View. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance.   Please download the Test Drive from this Unidesk  forum article .  If you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "Test drive: Publish to VMware Horizon View"
        }, 
        {
            "location": "/scenarios_xa65_pv4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to PVS for XenApp 6.5 users in vSphere\n\n\nTest drive: Publish to PVS for XenApp 6.5 users\n\n\nOnce Unidesk is set up, you can use this test drive to create your first layers in vSphere, and then publish a test image to Horizon View. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance. \n\n\nPlease download the Test Drive from this Unidesk \nforum article\n.\n\n\nIf you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "scenarios_xa65_pv4"
        }, 
        {
            "location": "/scenarios_xa65_pv4/#test-drive-publish-to-pvs-for-xenapp-65-users", 
            "text": "Once Unidesk is set up, you can use this test drive to create your first layers in vSphere, and then publish a test image to Horizon View. With this first experience will come an understanding of the layering work flow, and relatively easy image maintenance.   Please download the Test Drive from this Unidesk  forum article .  If you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "Test drive: Publish to PVS for XenApp 6.5 users"
        }, 
        {
            "location": "/scenarios_xs4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Test drive \n Publish to PVS, XenApp 7 in XenServer\n\n\nTest drive: Publish to Citrix XenServer\n\n\nOnce Unidesk is set up, you can use this test drive to create your first layers in XenServer, and then publish a test image to Citrix PVS. This example uses Windows Server 2012, Citrix PVS 7, and Citrix XenApp 7.\n\n\nPlease download the Test Drive from this Unidesk \nforum article\n.\n\n\nIf you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "scenarios_xs4"
        }, 
        {
            "location": "/scenarios_xs4/#test-drive-publish-to-citrix-xenserver", 
            "text": "Once Unidesk is set up, you can use this test drive to create your first layers in XenServer, and then publish a test image to Citrix PVS. This example uses Windows Server 2012, Citrix PVS 7, and Citrix XenApp 7.  Please download the Test Drive from this Unidesk  forum article .  If you have any questions, please ask your Unidesk Solutions Architect for assistance.", 
            "title": "Test drive: Publish to Citrix XenServer"
        }, 
        {
            "location": "/support_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n Support \n Support resources\n\n\nSupport resources\n\n\nIn this article:\n\n\n Need help getting started?\n        \n\n\n Questions about how Unidesk layering works?\n        \n\n\n Troubleshooting an issue?\n        \n\n\nNeed help getting started?\n\n\nTry Unidesk for the first time\n\n\n            \n Install the Unidesk Enterprise Layer Manager (ELM)\n            \n            \nSet up the ELMin your environment\n            \n            \nTake a test drive\n            \n        \n\n\n\nSchedule a personalized demo\n\n\n            \nJoin us for a one-on-one \"Day-in-the-Life\" with a Unidesk Solution Architect\n            \n        \n\n\n\nDeploy rapidly with expert assistance\n\n\n            \nRequest a Unidesk Pilot, if you haven't already\n            \n            \nCreate a Support Case\n            \n        \n\n\n\nQuestions about how Unidesk layering works?\n\n\nAsk Unidesk employees and contributing users\n\n\n            \nPost your questions on the Unidesk Community Forum\n            \n        \n\n\n\nSearch the Forum\n\n\n            \nApp Layer Recipes\n            \n        \n\n\n\nTroubleshooting an issue?\n\n\n            \nTroubleshooting Unidesk 4.0 (Forum posts)\n \n            \nTroubleshooting Unidesk 4.0 (Knowledge base)", 
            "title": "support_co4"
        }, 
        {
            "location": "/support_co4/#support-resources", 
            "text": "In this article:   Need help getting started?            Questions about how Unidesk layering works?            Troubleshooting an issue?", 
            "title": "Support resources"
        }, 
        {
            "location": "/support_co4/#need-help-getting-started", 
            "text": "", 
            "title": "Need help getting started?"
        }, 
        {
            "location": "/support_co4/#try-unidesk-for-the-first-time", 
            "text": "Install the Unidesk Enterprise Layer Manager (ELM)                           Set up the ELMin your environment                           Take a test drive", 
            "title": "Try Unidesk for the first time"
        }, 
        {
            "location": "/support_co4/#schedule-a-personalized-demo", 
            "text": "Join us for a one-on-one \"Day-in-the-Life\" with a Unidesk Solution Architect", 
            "title": "Schedule a personalized demo"
        }, 
        {
            "location": "/support_co4/#deploy-rapidly-with-expert-assistance", 
            "text": "Request a Unidesk Pilot, if you haven't already                           Create a Support Case", 
            "title": "Deploy rapidly with expert assistance"
        }, 
        {
            "location": "/support_co4/#questions-about-how-unidesk-layering-works", 
            "text": "", 
            "title": "Questions about how Unidesk layering works?"
        }, 
        {
            "location": "/support_co4/#ask-unidesk-employees-and-contributing-users", 
            "text": "Post your questions on the Unidesk Community Forum", 
            "title": "Ask Unidesk employees and contributing users"
        }, 
        {
            "location": "/support_co4/#search-the-forum", 
            "text": "App Layer Recipes", 
            "title": "Search the Forum"
        }, 
        {
            "location": "/support_co4/#troubleshooting-an-issue", 
            "text": "Troubleshooting Unidesk 4.0 (Forum posts)                Troubleshooting Unidesk 4.0 (Knowledge base)", 
            "title": "Troubleshooting an issue?"
        }, 
        {
            "location": "/system_manage_appliance_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n System \n Manage the Unidesk ELM (appliance)\n\n\nManage the Unidesk ELM (virtual appliance)\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Before you start\n                        \n                        \n Log into the ELM using an account with administrator privileges\n                        \n                        \n Change the administrator password\n                        \n                        \n Configure networking (includes Static IP Address option)\n                        \n                        \n Synchronize the system clock with NTP servers\n                        \n                        \n Change the Time Zone\n                        \n                    \n                \n            \n        \n\n\n\nThe Enterprise Layer Manager (ELM) is a virtual appliance that coordinates communication in the Unidesk environment and manages copies of your Layers and Image Templates. Based on CentOS, the ELM hosts the Unidesk Management Console (UMC), a friendly interface where you create Unidesk Layers and use those Layers to publish Layered Images. \n\n\nYou can log into the ELM and modify the administrator password, network address, NTP servers, and Time Zone settings using the Unidesk Appliance Configuration utility, as described here.\n\n\nBefore you start\n\n\no Make sure that the Unidesk Enterprise Layer Manager (ELM)is running in your hypervisor.\n\n\no Make sure you have the password for an account with administrator privileges\n\n\nLog into the ELM using an account with administrator privileges\n\n\n            \n                \nUsing either your hypervisor console or SSH, log into the ELM as \nadministrator\n (default password \nUnidesk1\n).\n                \n                    \n                        \nNote:\n If the ELM is in \nAzure\n, type \n/opt/sbin/cfg_launcher\n, and press \nEnter\n. \n                    \n                \n                \nThis opens the Unidesk Appliance Configuration utility.\n            \n        \n\n\n\nChange the administrator password\n\n\n            \nLog in\n to the ELM's Appliance Configuration utility, as described above.\n            \nAt the Appliance Configuration utility's Action prompt, enter \nP\n (for \nPassword change\n), and press \nReturn\n.\n            \nWhen prompted, enter the new password, and then confirm the password. A message confirms that the \n** Password changed successfully\n. \n            \nPress the \nEnter\n key to continue.\n            \nAt the Action prompt, enter \nQ\n to quit.\n        \n\n\n\nConfigure networking (includes Static IP Address option)\n\n\nYou can change the ELM's IPaddress and/or its DNSservers. \n\n\nWhen the ELM is first deployed, the DNS settings are retrieved through DHCP.  If DHCP is not available and you will be using static IP addresses, once you select Static, you will be prompted to enter the IPaddresses for your DNS servers. \n\n\n            \nLog in\n to the ELM's Appliance Configuration utility, as described above.\n            \nAt the Action prompt, enter \nC\n (for Configure Networking), and press \nReturn\n.\n            \nAt the next prompt, type \nD\n for Dynamic (DHCP) or \nS\n for Static. \n If you choose \nStatic\n, you will be prompted for the IP address and Subnet mask, along with default addresses for the Gateway and  DNSaddresses.\n            \nWhen prompted, enter \nY\n to save settings. \n            \nAt the Action prompt, enter \nQ\n to quit.\n            \nRestart the appliance.\n        \n\n\n\nSynchronize the system clock with NTP servers\n\n\nYou can synchronize the system clock on the ELM by configuring NTP servers. You can specify how many NTP servers you need, with 6 being the maximum. And, you can add and remove NTPservers, as needed. Where possible your existing servers will be used as defaults. \n\n\n            \nLog in\n to the ELM's Appliance Configuration utility, as described above.\n            \nAt the Action prompt, enter \nN\n for \nNTP servers change\n, and press \nReturn\n. A list of your current NTPservers is displayed.\n            \n                \nAt the prompt,  specify how many NTPservers you need by typing a number from 0 to 6. \n                \n                    \n0 - All servers will be removed (you will be warned). \n                    \n1-6 - You will be prompted to accept or replace each of the current servers. \n                \n            \n            \nFor each server, press \nEnter\n to accept the current value. Or, enter a new server address (Example: \n3.pool.ntp.org\n). Once the last address is entered, an NTPServer Summary is displayed. \n            \nEnter \nS\n to save the settings.\n            \nAt the Action prompt, enter \nQ\n to quit.\n            \nRestart the appliance.\n        \n\n\n\nChange the Time Zone\n\n\n            \nLog in\n to the ELM's Appliance Configuration utility, as described above.\n            \nAt the Action prompt, enter \nT\n for \nTimezone change\n, and press \nReturn\n. The current time zone is displayed.\n            \nPress \nEnter\n to display available timezones. The first bunch of time zones are displayed in alphabetical order, starting with the \n            \n                \nAdvance through the timezone codes until you see yours:\n                \n                    \nEnter\n - Advances one line at a time.\n                    \nPage Up\n \nPage Down\n - Displays the next or previous screen full of choices.\n                \n                \nOr search the timezones:\n                \n                    \nType \nSlash\n (\n/\n) and part of the name you are looking for. \n                \n            \n            \nWhen your timezone is displayed, press \nQ\n to get to the prompt. \n            \nType the number for your timezone. The timezone you entered is displayed.\n            \nPress \nEnter\n to complete the change.\n            \nAt the Action prompt, enter \nQ\n to quit.\n            \nRestart the appliance.", 
            "title": "system_manage_appliance_co4"
        }, 
        {
            "location": "/system_manage_appliance_co4/#manage-the-unidesk-elm-virtual-appliance", 
            "text": "In this article:                                                                                            Before you start                                                    Log into the ELM using an account with administrator privileges                                                    Change the administrator password                                                    Configure networking (includes Static IP Address option)                                                    Synchronize the system clock with NTP servers                                                    Change the Time Zone                                                                                       The Enterprise Layer Manager (ELM) is a virtual appliance that coordinates communication in the Unidesk environment and manages copies of your Layers and Image Templates. Based on CentOS, the ELM hosts the Unidesk Management Console (UMC), a friendly interface where you create Unidesk Layers and use those Layers to publish Layered Images.   You can log into the ELM and modify the administrator password, network address, NTP servers, and Time Zone settings using the Unidesk Appliance Configuration utility, as described here.", 
            "title": "Manage the Unidesk ELM (virtual appliance)"
        }, 
        {
            "location": "/system_manage_appliance_co4/#before-you-start", 
            "text": "o Make sure that the Unidesk Enterprise Layer Manager (ELM)is running in your hypervisor.  o Make sure you have the password for an account with administrator privileges", 
            "title": "Before you start"
        }, 
        {
            "location": "/system_manage_appliance_co4/#log-into-the-elm-using-an-account-with-administrator-privileges", 
            "text": "Using either your hypervisor console or SSH, log into the ELM as  administrator  (default password  Unidesk1 ).                                                                Note:  If the ELM is in  Azure , type  /opt/sbin/cfg_launcher , and press  Enter .                                                         This opens the Unidesk Appliance Configuration utility.", 
            "title": "Log into the ELM using an account with administrator privileges"
        }, 
        {
            "location": "/system_manage_appliance_co4/#configure-networking-includes-static-ip-address-option", 
            "text": "You can change the ELM's IPaddress and/or its DNSservers.   When the ELM is first deployed, the DNS settings are retrieved through DHCP.  If DHCP is not available and you will be using static IP addresses, once you select Static, you will be prompted to enter the IPaddresses for your DNS servers.                Log in  to the ELM's Appliance Configuration utility, as described above.              At the Action prompt, enter  C  (for Configure Networking), and press  Return .              At the next prompt, type  D  for Dynamic (DHCP) or  S  for Static.   If you choose  Static , you will be prompted for the IP address and Subnet mask, along with default addresses for the Gateway and  DNSaddresses.              When prompted, enter  Y  to save settings.               At the Action prompt, enter  Q  to quit.              Restart the appliance.", 
            "title": "Configure networking (includes Static IP Address option)"
        }, 
        {
            "location": "/system_manage_appliance_co4/#synchronize-the-system-clock-with-ntp-servers", 
            "text": "You can synchronize the system clock on the ELM by configuring NTP servers. You can specify how many NTP servers you need, with 6 being the maximum. And, you can add and remove NTPservers, as needed. Where possible your existing servers will be used as defaults.                Log in  to the ELM's Appliance Configuration utility, as described above.              At the Action prompt, enter  N  for  NTP servers change , and press  Return . A list of your current NTPservers is displayed.                               At the prompt,  specify how many NTPservers you need by typing a number from 0 to 6.                                        0 - All servers will be removed (you will be warned).                       1-6 - You will be prompted to accept or replace each of the current servers.                                             For each server, press  Enter  to accept the current value. Or, enter a new server address (Example:  3.pool.ntp.org ). Once the last address is entered, an NTPServer Summary is displayed.               Enter  S  to save the settings.              At the Action prompt, enter  Q  to quit.              Restart the appliance.", 
            "title": "Synchronize the system clock with NTP servers"
        }, 
        {
            "location": "/system_manage_appliance_co4/#change-the-time-zone", 
            "text": "Log in  to the ELM's Appliance Configuration utility, as described above.              At the Action prompt, enter  T  for  Timezone change , and press  Return . The current time zone is displayed.              Press  Enter  to display available timezones. The first bunch of time zones are displayed in alphabetical order, starting with the                                Advance through the timezone codes until you see yours:                                       Enter  - Advances one line at a time.                      Page Up   Page Down  - Displays the next or previous screen full of choices.                                   Or search the timezones:                                       Type  Slash  ( / ) and part of the name you are looking for.                                             When your timezone is displayed, press  Q  to get to the prompt.               Type the number for your timezone. The timezone you entered is displayed.              Press  Enter  to complete the change.              At the Action prompt, enter  Q  to quit.              Restart the appliance.", 
            "title": "Change the Time Zone"
        }, 
        {
            "location": "/system_ports_firewall_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n System \n Open firewall ports for Unidesk, as needed\n\n\nOpen firewall ports for Unidesk, as needed\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Admin User\n                        \n                        \n Unidesk Enterprise Layer Manager Appliance\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nThe Unidesk ELM must be connected to a network file share. \n\n\nThe Unidesk installer opens ports that the Unidesk Enterprise Layer Manager (ELM) needs to interact with services on the virtual server where it is hosted. The default ports that Unidesk uses are listed in the tables below. \n\n\nIf there is a firewall between the Unidesk appliance and the machine on which you are running the Unidesk Agent or one of the Unidesk Connectors, you must manually open the port in the firewall used for that purpose. If during installation you changed any of the ports from the default setting, be sure to open the correct port.\n\n\nAdmin User\n\n\nBy default, Unidesk uses the following ports in your firewall for the Unidesk Admin User to interact with the Unidesk Management Console (UMC).\n\n\n            \n            \n            \n            \n            \n                \n                    \nDestination\n                    \nActivity\n                    \nProtocol\n                    \nPorts\n                \n            \n            \n                \n                    \nUnidesk Enterprise Layer Manager (ELM)\n                    \nUnidesk Management Console (UMC)\n                    \nTCP\n                    \n80,443\n                \n            \n        \n\n\n\nUnidesk Enterprise Layer Manager Appliance\n\n\nInternal Connections\n\n\nBy default, Unidesk uses the following ports in your firewall for internal connections between the Unidesk appliance and each of the destinations listed below.\n\n\n            \n            \n            \n            \n            \n                \n                    \nDestination\n                    \nActivity\n                    \nProtocol\n                    \nPorts\n                \n            \n            \n                \n                    \nUnidesk ELM\n                    \nActiveMQ Console\n                    \nTCP\n                    \n8161\n                \n                \n                    \nUnidesk ELM\n                    \nLog deliveries from the Unidesk Agent\n                    \nTCP\n                    \n8787\n                \n                \n                    \nUnidesk ELM\n                    \nLog deliveries from users\n                    \nTCP\n                    \n8888\n                \n                \n                    \nUnidesk ELM\n                    \nCommunication with datastore via ESXIHost\n                    \nTCP\n                    \n443\n                \n                \n                    \nUnidesk Agent\n                    \nCommunication\n                    \nTCP\n                    \n8016\n                \n                \n                    \nUnidesk Agent \n                    \nLog gathering\n                    \nTCP\n                    \n14243\n                \n                \n                    \nActive Directory \n                    \nLDAP\n                    \nTCP\n                    \n389, 636\n                \n                \n                    \nConnector for Azure\n                    \nCommunication\n                    \nTCP\n                    \n3000 (HTTP) \n3500 (HTTPS)\n                \n                \n                    \nConnector for PVS\n                    \nCommunication\n                    \nTCP\n                    \n3009 (HTTP) \n3509 (HTTPS)\n                \n                \n                    \nConnector for vSphere\n                    \nCommunication\n                    \nTCP\n                    \n3004 (HTTP)\n3504 (HTTPS)\n                \n                \n                    \nConnector for XenServer\n                    \nCommunication\n                    \nTCP\n                    \n3002 (HTTP)\n3502 (HTTPS)\n                \n            \n        \n\n\n\nExternal connection\n\n\nBy default, Unidesk uses the following port in your firewall for external connections between the Unidesk appliance and the destination listed below.\n\n\n            \n            \n            \n            \n            \n                \n                    \nDestination\n                    \nActivity\n                    \nProtocol\n                    \nPorts\n                \n            \n            \n                \n                    \napi.unidesk.com\n                    \nLogs and Phone Home data uploads from the Unidesk ELM (optional)\n                    \nTCP\n                    \n443\n                \n            \n        \n\n\n\nOS##Image  (XenServer requirement)\n\n\nCitrix XenServer uses Port 5900 for communications between your OSImage and XenCenter or other Xen client.\n\n\n            \n            \n            \n            \n            \n                \n                    \nDestination\n                    \nActivity\n                    \nProtocol\n                    \nPorts\n                \n            \n            \n                \n                    \nXenCenter \n                    \nCommunications\n                    \n                    \n5900\n                \n            \n        \n\n\n\nNext step\n\n\nIf you are publishing to PVS: \n Install the Unidesk Agent (required for PVS and Connector Scripts)\n\n\nIf you are not publishing to PVS: \n Assign Unidesk Roles to users", 
            "title": "system_ports_firewall_co4"
        }, 
        {
            "location": "/system_ports_firewall_co4/#open-firewall-ports-for-unidesk-as-needed", 
            "text": "In this article:                                                                                            Admin User                                                    Unidesk Enterprise Layer Manager Appliance                                                    Next step                                                                                       The Unidesk ELM must be connected to a network file share.   The Unidesk installer opens ports that the Unidesk Enterprise Layer Manager (ELM) needs to interact with services on the virtual server where it is hosted. The default ports that Unidesk uses are listed in the tables below.   If there is a firewall between the Unidesk appliance and the machine on which you are running the Unidesk Agent or one of the Unidesk Connectors, you must manually open the port in the firewall used for that purpose. If during installation you changed any of the ports from the default setting, be sure to open the correct port.", 
            "title": "Open firewall ports for Unidesk, as needed"
        }, 
        {
            "location": "/system_ports_firewall_co4/#admin-user", 
            "text": "By default, Unidesk uses the following ports in your firewall for the Unidesk Admin User to interact with the Unidesk Management Console (UMC).                                                                                                         Destination                      Activity                      Protocol                      Ports                                                                                  Unidesk Enterprise Layer Manager (ELM)                      Unidesk Management Console (UMC)                      TCP                      80,443", 
            "title": "Admin User"
        }, 
        {
            "location": "/system_ports_firewall_co4/#unidesk-enterprise-layer-manager-appliance", 
            "text": "", 
            "title": "Unidesk Enterprise Layer Manager Appliance"
        }, 
        {
            "location": "/system_ports_firewall_co4/#internal-connections", 
            "text": "By default, Unidesk uses the following ports in your firewall for internal connections between the Unidesk appliance and each of the destinations listed below.                                                                                                         Destination                      Activity                      Protocol                      Ports                                                                                  Unidesk ELM                      ActiveMQ Console                      TCP                      8161                                                        Unidesk ELM                      Log deliveries from the Unidesk Agent                      TCP                      8787                                                        Unidesk ELM                      Log deliveries from users                      TCP                      8888                                                        Unidesk ELM                      Communication with datastore via ESXIHost                      TCP                      443                                                        Unidesk Agent                      Communication                      TCP                      8016                                                        Unidesk Agent                       Log gathering                      TCP                      14243                                                        Active Directory                       LDAP                      TCP                      389, 636                                                        Connector for Azure                      Communication                      TCP                      3000 (HTTP)  3500 (HTTPS)                                                        Connector for PVS                      Communication                      TCP                      3009 (HTTP)  3509 (HTTPS)                                                        Connector for vSphere                      Communication                      TCP                      3004 (HTTP) 3504 (HTTPS)                                                        Connector for XenServer                      Communication                      TCP                      3002 (HTTP) 3502 (HTTPS)", 
            "title": "Internal Connections"
        }, 
        {
            "location": "/system_ports_firewall_co4/#external-connection", 
            "text": "By default, Unidesk uses the following port in your firewall for external connections between the Unidesk appliance and the destination listed below.                                                                                                         Destination                      Activity                      Protocol                      Ports                                                                                  api.unidesk.com                      Logs and Phone Home data uploads from the Unidesk ELM (optional)                      TCP                      443", 
            "title": "External connection"
        }, 
        {
            "location": "/system_ports_firewall_co4/#osimage-xenserver-requirement", 
            "text": "Citrix XenServer uses Port 5900 for communications between your OSImage and XenCenter or other Xen client.                                                                                                         Destination                      Activity                      Protocol                      Ports                                                                                  XenCenter                       Communications                                           5900", 
            "title": "OS##Image  (XenServer requirement)"
        }, 
        {
            "location": "/system_ports_firewall_co4/#next-step", 
            "text": "If you are publishing to PVS:   Install the Unidesk Agent (required for PVS and Connector Scripts)  If you are not publishing to PVS:   Assign Unidesk Roles to users", 
            "title": "Next step"
        }, 
        {
            "location": "/system_settings_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n System \n Manage system settings\n\n\nSystem Settings and Configuration\n\n\nYou can specify settings for the following Unidesk configuration parameters by clicking on the Edit button of each option, making your changes, and clicking the Save button.\n\n\n            \n            \n            \n                \n                    \nAppliance settings\n                    \nSummary\n                \n            \n            \n                \n                    \nHTTP Certificate Settings\n                    \n                        \nDisplays the currently set security certificate. Use the \nUpload\n and \nGenerate\n buttons to upload an existing certificate or to generate a new one.   Optionally, enter a comment that describes the changes you made.\n                    \n                \n                \n                    \nNetwork File Shares\n                    \n                        \nAfter you specify a \nNetwork File Share Type\n, \nNetwork File Share Path\n, \nUser name\n, and \nPassword\n, click \nTest Network File Share\n to see if you can connect to the file share. The test returns a message stating either \"Success\" or \"Failed to mount network file share path\".   Optionally, enter a comment that describes the changes you made.\n                    \n                \n                \n                    \nSecurity Settings\n                    \n                        \nSpecify the number of minutes of inactivity before the Unidesk Management Console logs you out.   Optionally, enter a comment that describes the changes you made.\n                    \n                \n                \n                    \nTask Retention Settings\n                    \n                        \nSpecify the number of days that Unidesk should retain completed Tasks before deleting them.   Optionally, enter a comment that describes the changes you made.\n                    \n                \n                \n                    \nAudit Log Retention Settings\n                    \n                        \nSpecify the number of days that Unidesk should retain audit log files. After that time elapses, the software begins to overwrite the audit log.  Optionally, enter a comment that describes the changes you made.\n                    \n                \n                \n                    \nNotification Settings\n                    \n                        \nConfigure automatic email notification settings for yourself or other Unidesk users. When you export logs, Unidesk sends the specified recipients an email notification that includes a link to the log files. \n                        \nTo set up email notifications:\n                        \n                            \n                                \nIn the Mail Server box, enter the name of your email server or the name of the SMTP relay server.                      \n                            \n                            \n                                \nIn the Mail Server port, enter the number of the port that the email server uses for communication.\n                            \n                            \n                                \nIn the User Name box, enter the user name for the email account you want to use for sending notifications. For example, username@domain.com.\n                            \n                            \n                                \nIn the Password box, enter the password for the email account.\n                            \n                            \n                                \nIn the From box, enter an email address to identify the source of the email message. For example, if you enter myaddress@mycompany.com, the email message displays the following in the From box of the received notification:\n                                \nUnidesk Enterprise Layer Manager [myaddress@mycompany.com] \n                                \n                            \n                            \n                                \nIn the Recipient List box, enter the email addresses that should receive notifications. Use a comma or semicolon to separate the email addresses.\n                            \n                            \n                                \nClick \nTest Email Configuration\n to verify that the settings for the email server and account work correctly. If the test succeeds, the software displays a success message and sends the recipients a confirmation email.\n                            \n                            \n                                \nEnter a comment, if necessary, and click \nSave \nto save the email settings. Any comments you enter will appear in the  Information view Audit History.\n                            \n                        \n                        \nFor more information, see \nExport log files and send to Support\n.\n                    \n                \n                \n                    \nLog File Retention Settings\n                    \n                        \nSpecify the maximum disk space to use for all logs (in megabytes) and the number of days that Unidesk should retain Unidesk ELM log files. Optionally, enter a comment that describes the changes you made.", 
            "title": "system_settings_co4"
        }, 
        {
            "location": "/system_settings_co4/#system-settings-and-configuration", 
            "text": "You can specify settings for the following Unidesk configuration parameters by clicking on the Edit button of each option, making your changes, and clicking the Save button.                                                                               Appliance settings                      Summary                                                                                  HTTP Certificate Settings                                               Displays the currently set security certificate. Use the  Upload  and  Generate  buttons to upload an existing certificate or to generate a new one.   Optionally, enter a comment that describes the changes you made.                                                                             Network File Shares                                               After you specify a  Network File Share Type ,  Network File Share Path ,  User name , and  Password , click  Test Network File Share  to see if you can connect to the file share. The test returns a message stating either \"Success\" or \"Failed to mount network file share path\".   Optionally, enter a comment that describes the changes you made.                                                                             Security Settings                                               Specify the number of minutes of inactivity before the Unidesk Management Console logs you out.   Optionally, enter a comment that describes the changes you made.                                                                             Task Retention Settings                                               Specify the number of days that Unidesk should retain completed Tasks before deleting them.   Optionally, enter a comment that describes the changes you made.                                                                             Audit Log Retention Settings                                               Specify the number of days that Unidesk should retain audit log files. After that time elapses, the software begins to overwrite the audit log.  Optionally, enter a comment that describes the changes you made.                                                                             Notification Settings                                               Configure automatic email notification settings for yourself or other Unidesk users. When you export logs, Unidesk sends the specified recipients an email notification that includes a link to the log files.                           To set up email notifications:                                                                                        In the Mail Server box, enter the name of your email server or the name of the SMTP relay server.                                                                                                                  In the Mail Server port, enter the number of the port that the email server uses for communication.                                                                                            In the User Name box, enter the user name for the email account you want to use for sending notifications. For example, username@domain.com.                                                                                            In the Password box, enter the password for the email account.                                                                                            In the From box, enter an email address to identify the source of the email message. For example, if you enter myaddress@mycompany.com, the email message displays the following in the From box of the received notification:                                  Unidesk Enterprise Layer Manager [myaddress@mycompany.com]                                                                                                                              In the Recipient List box, enter the email addresses that should receive notifications. Use a comma or semicolon to separate the email addresses.                                                                                            Click  Test Email Configuration  to verify that the settings for the email server and account work correctly. If the test succeeds, the software displays a success message and sends the recipients a confirmation email.                                                                                            Enter a comment, if necessary, and click  Save  to save the email settings. Any comments you enter will appear in the  Information view Audit History.                                                                                For more information, see  Export log files and send to Support .                                                                             Log File Retention Settings                                               Specify the maximum disk space to use for all logs (in megabytes) and the number of days that Unidesk should retain Unidesk ELM log files. Optionally, enter a comment that describes the changes you made.", 
            "title": "System Settings and Configuration"
        }, 
        {
            "location": "/system_storage_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n System \n Manage system storage\n\n\nManage system storage\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Check the amount of free space in the Unidesk ELM's local storage \n                        \n                        \n Add space to an existing disk in locally attached storage\n                        \n                        \n Add a disk to locally attached storage\n                        \n                    \n                \n            \n        \n\n\n\nCheck the amount of free space in the Unidesk ELM's local storage \n\n\nThe ELM's local storage is your Layer Repository where the ELM creates, composites, and stores Layers and Layered Images. You can see how much disk space is used in the System module of the Unidesk Management Appliance (UMC). \n\n\n            \n                \nLog into the UMC and select \nSystem -> Manage Appliance\n. \n            \n            \n                \nIn the Unidesk Services table, the Local Storage for the Layering Service shows how much space is used and how much is free. \n                \nNotes:\n                \n                    \nDisk space is shown in 1024-based Gigabytes, not metric.\n                    \nFree space is updated every time a Layering Service job completes. If you want to make sure the page has been refreshed, click the Refresh icon just above the Manage Appliance subtab. \n                    \nWhen creating a Layer or adding a Version to it, extra space is temporarily required to build the Packaging Disk. You can calculate the amount of space needed during Layer creation by adding the following Layer sizes:\nThe size of the OS Layer Version you're using.\nThe size of the writable disk you want for the App Layer.\nThe size of any Prerequisite Layers (if you have any). \n                \n            \n        \n\n\n\nAdd space to an existing disk in locally attached storage\n\n\nYou can add storage space to an existing local storage disk as follows.\n\n\n            \nLog into your hypervisor's management console, and follow the normal procedure to increase the size of the ELM's local storage disk. (You may have more than one of these disks, and can expand each one of them.)\n            \nLog into the UMC and select System -> Manage Appliance.\n            \nSelect Expand Storage. A list of expanded disks is displayed. (You might also see attached disks that are not yet part of the layer repository, but you can ignore those.)\n            \nNotice that the New Size of the disk you expanded is larger than the Current Size.\n            \nSelect the check box for the disk that you want to expand to the New Size.\n            \nOn the Confirm and Complete tab, click Expand Storage.\n        \n\n\n\nAdd a disk to locally attached storage\n\n\nWhen you install the Unidesk ELM in vSphere, it comes equipped with an additional 200 GB data disk that is used as a Layer Repository. You can expand the ELM's local storage by adding another disk to it.\n\n\n            \n                \nLog into your hypervisor's management console, and follow the normal procedure to add a blank SCSI disk to the ELM appliance.\n            \n            \n                \nLog into the UMC and select System -> Manage Appliance.\n            \n            \n                \nSelect Expand Storage.\n            \n            \n                \nOn the Disk Selection tab, a list is displayed of disks that are attached to the system and are not part of the layer repository.\n            \n            \n                \nSelect the check box for each disk that you want to use to expand the layer repository.\n                \nIf a check box is grayed out and a yellow icon with an ! (exclamation point) is displayed, it means that the attached disk is not eligible for use (for example, if the disk is not blank). Once the attached disk is blank and unpartitioned, you will be able to use it to expand the ELM's local storage.\n            \n            \n                \nOn the Confirm and Complete tab, click Expand Storage.", 
            "title": "system_storage_co4"
        }, 
        {
            "location": "/system_storage_co4/#manage-system-storage", 
            "text": "In this article:                                                                                            Check the amount of free space in the Unidesk ELM's local storage                                                     Add space to an existing disk in locally attached storage                                                    Add a disk to locally attached storage", 
            "title": "Manage system storage"
        }, 
        {
            "location": "/system_storage_co4/#check-the-amount-of-free-space-in-the-unidesk-elms-local-storage", 
            "text": "The ELM's local storage is your Layer Repository where the ELM creates, composites, and stores Layers and Layered Images. You can see how much disk space is used in the System module of the Unidesk Management Appliance (UMC).                                 Log into the UMC and select  System -> Manage Appliance .                                             In the Unidesk Services table, the Local Storage for the Layering Service shows how much space is used and how much is free.                   Notes:                                       Disk space is shown in 1024-based Gigabytes, not metric.                      Free space is updated every time a Layering Service job completes. If you want to make sure the page has been refreshed, click the Refresh icon just above the Manage Appliance subtab.                       When creating a Layer or adding a Version to it, extra space is temporarily required to build the Packaging Disk. You can calculate the amount of space needed during Layer creation by adding the following Layer sizes: The size of the OS Layer Version you're using. The size of the writable disk you want for the App Layer. The size of any Prerequisite Layers (if you have any).", 
            "title": "Check the amount of free space in the Unidesk ELM's local storage "
        }, 
        {
            "location": "/system_storage_co4/#add-space-to-an-existing-disk-in-locally-attached-storage", 
            "text": "You can add storage space to an existing local storage disk as follows.               Log into your hypervisor's management console, and follow the normal procedure to increase the size of the ELM's local storage disk. (You may have more than one of these disks, and can expand each one of them.)              Log into the UMC and select System -> Manage Appliance.              Select Expand Storage. A list of expanded disks is displayed. (You might also see attached disks that are not yet part of the layer repository, but you can ignore those.)              Notice that the New Size of the disk you expanded is larger than the Current Size.              Select the check box for the disk that you want to expand to the New Size.              On the Confirm and Complete tab, click Expand Storage.", 
            "title": "Add space to an existing disk in locally attached storage"
        }, 
        {
            "location": "/system_storage_co4/#add-a-disk-to-locally-attached-storage", 
            "text": "When you install the Unidesk ELM in vSphere, it comes equipped with an additional 200 GB data disk that is used as a Layer Repository. You can expand the ELM's local storage by adding another disk to it.                                Log into your hypervisor's management console, and follow the normal procedure to add a blank SCSI disk to the ELM appliance.                                            Log into the UMC and select System -> Manage Appliance.                                            Select Expand Storage.                                            On the Disk Selection tab, a list is displayed of disks that are attached to the system and are not part of the layer repository.                                            Select the check box for each disk that you want to use to expand the layer repository.                  If a check box is grayed out and a yellow icon with an ! (exclamation point) is displayed, it means that the attached disk is not eligible for use (for example, if the disk is not blank). Once the attached disk is blank and unpartitioned, you will be able to use it to expand the ELM's local storage.                                            On the Confirm and Complete tab, click Expand Storage.", 
            "title": "Add a disk to locally attached storage"
        }, 
        {
            "location": "/system_update_license_co4/", 
            "text": "You are here: Learn about Citrix App Layering [UnideskVersion Layering 4.0.8] \n System \n Update your Unidesk license\n\n\nUpdate your Unidesk license\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Log into the Unidesk site\n                        \n                        \n Update your Unidesk license (with web access to the ELM)\n                        \n                        \n Update your Unidesk license (without web access to the ELM))\n                        \n                    \n                \n            \n        \n\n\n\nTo acquire a Unidesk license, you must be logged in to Unidesk. If you have not already done so, register on the Unidesk website to obtain a User Name and Password.\n\n\nLog into the Unidesk site\n\n\n            \nIn a web browser, navigate to \nthe Unidesk website\n and click \nLogin\n.\n            \nIf you have not yet registered with Unidesk, go to the Register section of the login page, enter your email address and click \nRegister.\nUnidesk sends a confirmation email message to the address you provided.\n            \nOpen the confirmation email message from Unidesk, which contains the Subject line \"Confirming your registration at www.unidesk.com\", and click the link it contains or paste the link into a web browser.           \n            \nTo finish registering, fill out the fields in the \"Email address confirmed\" page and click the \nComplete registration\n button. \n        \n\n\n\nUpdate your Unidesk license (\nwith\n web access to the ELM)\n\n\nIf you receive a message that your license needs updating, and your Enterprise Layer Manager has web access:\n\n\n            \nIn the License Expired message, click \nLicense\n. This opens the Update License wizard.\n            \nSelect  \nDownload your license now by entering your credentials for the www.unidesk.com website\n. \n            \nEnter your credentials for the Unidesk website.\n            \nOn the Confirm Your License tab, click \nFinish\n.\n            \nYou can return to the Licensing wizard at any time by logging into the Unidesk Management Console and clicking \nAbout\n, and then the \nLicense\n tab.\n        \n\n\n\nUpdate your Unidesk license (\nwithout\n web access to the ELM))\n\n\nIf you receive a message that your license needs updating, and your Enterprise Layer Manager does not have web access:\n\n\n            \nObtain a license file from Unidesk Sales or Support, and move the file to a drive that Enterprise Layer Manager can access.\n            \nIf the License Expired message, is still open, click \nLicense\n in the message. If not, click \nAbout\n, then the \nUpdate License\n button. This opens the Update License wizard.\n            \nSelect  \nUpload your license file from a local drive\n. \n            \nClick \nBrowse\n, and select the license file.\n            \nOn the Confirm Your License tab, click \nFinish\n.\n            \nYou can return to the Licensing wizard at any time by logging into the Unidesk Management Console and clicking \nAbout\n, and then the \nLicense\n tab.", 
            "title": "system_update_license_co4"
        }, 
        {
            "location": "/system_update_license_co4/#update-your-unidesk-license", 
            "text": "In this article:                                                                                            Log into the Unidesk site                                                    Update your Unidesk license (with web access to the ELM)                                                    Update your Unidesk license (without web access to the ELM))                                                                                       To acquire a Unidesk license, you must be logged in to Unidesk. If you have not already done so, register on the Unidesk website to obtain a User Name and Password.", 
            "title": "Update your Unidesk license"
        }, 
        {
            "location": "/system_update_license_co4/#log-into-the-unidesk-site", 
            "text": "In a web browser, navigate to  the Unidesk website  and click  Login .              If you have not yet registered with Unidesk, go to the Register section of the login page, enter your email address and click  Register. Unidesk sends a confirmation email message to the address you provided.              Open the confirmation email message from Unidesk, which contains the Subject line \"Confirming your registration at www.unidesk.com\", and click the link it contains or paste the link into a web browser.                         To finish registering, fill out the fields in the \"Email address confirmed\" page and click the  Complete registration  button.", 
            "title": "Log into the Unidesk site"
        }, 
        {
            "location": "/users_admins_assign_role_co4/", 
            "text": "Set up Unidesk\n\n\n\n\nAssign Unidesk Roles to users\n\n\n\n\nAssign Unidesk Roles to users\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Unidesk Roles defined\n                        \n                        \n Assign Unidesk Roles to users\n                        \n                        \n Next step\n                        \n                    \n                \n            \n        \n\n\n\nAbout Unidesk users, roles, and rights\n\n\n###Built-in Administrator account\n\n\nWhen you first install the Unidesk ELM (appliance) and log onto the Unidesk Management Console (UMC), there is a \"built-in\" Administrator account that you can use to get started. This Administrator has the rights to perform all Unidesk operations. You can edit this user's properties, including the name, password, and contact info. Be sure to change the password for this built-in Administrator account as part of installing and configuring the Unidesk ELM. \n\n\n### AD###User accounts\n\n\nOther than the built-in Administrator account, all Unidesk users are actually ADusers imported via one or more directory junctions. Once your directory junction(s) have been created, you can assign Unidesk Roles to each user, as described later in this topic. You can see which roles are assigned to a user in the User Details.\n\n\n \n\n\nUnidesk Roles defined\n\n\nUnidesk Roles determine which Unidesk modules a user can manage. Users assigned one or more Unidesk Roles can log into the UMC, and these users are listed on the Administrators tab (select Users \n Administrators). \n\n\nNote: When upgrading from Unidesk 4.0.6 or earlier, users assigned the Machine Administrator Role in earlier releases will now be assigned the Read Only Role. If the user needs more than read only access, reconfigure the user roles, as needed. \n\n\nRights by Role\n\n\n            \n            \n            \n                \n                    \nRole\n                    \nRights \n                \n            \n            \n                \n                    \n                        \nAdministrator\n                    \n                    \n                        \n                            \n    Can do every operation available in the UMC.      \n                            \nOnly users assigned the Administrator Role can edit user properties on the Users tab (Select  \nUsers > Users\n).\n                            \n     Only administrators can configure ELM system settings. and manage licenses.\n                        \n                    \n                \n                \n                    \n                        \nManage App Layers\n                    \n                    \n                        \n                            \nCan create, edit, and delete application layers and versions.\n                        \n                    \n                \n                \n                    \n                        \nManage Elastic Layer Assignments\n                    \n                    \n                        \n                            \nCan add, update, and remove Elastic layer assignments.\n                        \n                    \n                \n                \n                    \n                        \nManage Image Templates\n                    \n                    \n                        \n                            \n    Can create, edit and delete Image templates.\n                            \n    Can add, update, and remove app layer assignments for image templates.    \n                            \nCan update platform layer assignments for image templates.    \n                            \nCan update OS layer assignments for image templates.\n                        \n                    \n                \n                \n                    \n                        \nManage OSLayers\n                    \n                    \n                        \n                            \nCan create, edit, and delete OS layers and versions.\n                        \n                    \n                \n                \n                    \n                        \nManage Platform Layers\n                    \n                    \n                        \n                            \nCan create, edit, and delete Platform layers and versions.\n                        \n                    \n                \n                \n                    \n                        \nPublish Layered Images\n                    \n                    \n                        \n                            \n    Can publish layered images.    \n                            \nCannot create or modify existing image templates.\n                        \n                    \n                \n                \n                    \n                        \nRead Only \n                    \n                    \n                        \n                            \nCan view information about any items in the UMC.    \n                            \nCannot launch any wizards or make any changes.    \n                            \nThe Read Only user cannot cancel any tasks.\n                        \n                    \n                \n            \n        \n\n\n\nUser credentials for logging into the UMC\n\n\nWhen you assign Unidesk Roles to Directory Service users, they can use their Directory Service credentials to log into the UMC.\n\n\nWho can assign Unidesk Roles?\n\n\nYou can change a user's role if you are logged into the UMC as a user assigned the Administrator Role.  \n\n\nAssign Unidesk Roles to users\n\n\n            \nLog into the UMC.\n            \nSelect \nUsers > Users\n.\n            \n Select a user and click \nEdit Properties\n. This opens the Edit User wizard. \n            \n                \nSkip to the Roles tab, and select one or more roles for this user. For details, see \nRights by Role\n above.\n                \n                \n            \n            \nIn the Confirm and Complete tab, click \nUpdate User\n. Any comments you enter will appear in the  Information view Audit History.\n        \n\n\n\nNext step\n\n\nCreate Layers", 
            "title": "users_admins_assign_role_co4"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#assign-unidesk-roles-to-users", 
            "text": "In this article:                                                                                            Unidesk Roles defined                                                    Assign Unidesk Roles to users                                                    Next step", 
            "title": "Assign Unidesk Roles to users"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#about-unidesk-users-roles-and-rights", 
            "text": "###Built-in Administrator account  When you first install the Unidesk ELM (appliance) and log onto the Unidesk Management Console (UMC), there is a \"built-in\" Administrator account that you can use to get started. This Administrator has the rights to perform all Unidesk operations. You can edit this user's properties, including the name, password, and contact info. Be sure to change the password for this built-in Administrator account as part of installing and configuring the Unidesk ELM.   ### AD###User accounts  Other than the built-in Administrator account, all Unidesk users are actually ADusers imported via one or more directory junctions. Once your directory junction(s) have been created, you can assign Unidesk Roles to each user, as described later in this topic. You can see which roles are assigned to a user in the User Details.", 
            "title": "About Unidesk users, roles, and rights"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#unidesk-roles-defined", 
            "text": "Unidesk Roles determine which Unidesk modules a user can manage. Users assigned one or more Unidesk Roles can log into the UMC, and these users are listed on the Administrators tab (select Users   Administrators).   Note: When upgrading from Unidesk 4.0.6 or earlier, users assigned the Machine Administrator Role in earlier releases will now be assigned the Read Only Role. If the user needs more than read only access, reconfigure the user roles, as needed.", 
            "title": "Unidesk Roles defined"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#rights-by-role", 
            "text": "Role                      Rights                                                                                                            Administrator                                                                                                     Can do every operation available in the UMC.                                    Only users assigned the Administrator Role can edit user properties on the Users tab (Select   Users > Users ).                                   Only administrators can configure ELM system settings. and manage licenses.                                                                                                                               Manage App Layers                                                                                                 Can create, edit, and delete application layers and versions.                                                                                                                               Manage Elastic Layer Assignments                                                                                                 Can add, update, and remove Elastic layer assignments.                                                                                                                               Manage Image Templates                                                                                                     Can create, edit and delete Image templates.                                  Can add, update, and remove app layer assignments for image templates.                                  Can update platform layer assignments for image templates.                                  Can update OS layer assignments for image templates.                                                                                                                               Manage OSLayers                                                                                                 Can create, edit, and delete OS layers and versions.                                                                                                                               Manage Platform Layers                                                                                                 Can create, edit, and delete Platform layers and versions.                                                                                                                               Publish Layered Images                                                                                                     Can publish layered images.                                  Cannot create or modify existing image templates.                                                                                                                               Read Only                                                                                                  Can view information about any items in the UMC.                                  Cannot launch any wizards or make any changes.                                  The Read Only user cannot cancel any tasks.", 
            "title": "Rights by Role"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#user-credentials-for-logging-into-the-umc", 
            "text": "When you assign Unidesk Roles to Directory Service users, they can use their Directory Service credentials to log into the UMC.", 
            "title": "User credentials for logging into the UMC"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#who-can-assign-unidesk-roles", 
            "text": "You can change a user's role if you are logged into the UMC as a user assigned the Administrator Role.", 
            "title": "Who can assign Unidesk Roles?"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#assign-unidesk-roles-to-users_1", 
            "text": "Log into the UMC.              Select  Users > Users .               Select a user and click  Edit Properties . This opens the Edit User wizard.                                Skip to the Roles tab, and select one or more roles for this user. For details, see  Rights by Role  above.                                                             In the Confirm and Complete tab, click  Update User . Any comments you enter will appear in the  Information view Audit History.", 
            "title": "Assign Unidesk Roles to users"
        }, 
        {
            "location": "/users_admins_assign_role_co4/#next-step", 
            "text": "Create Layers", 
            "title": "Next step"
        }, 
        {
            "location": "/users_admin_password_co4/", 
            "text": "Set up Unidesk\n\n\n\n\nChange theAdministrator password\n\n\n\n\nChange the Administrator password\n\n\nUse these steps to change the password for the original Administrator account created for the Unidesk Management Console (UMC).\n\n\n            \n Log into the Unidesk Management Console (UMC)\n.\n            \nSelect \nUser > Administrators\n. \n            \nIn the list of Administrators select \nAdministrator\n and click \nEdit Properties\n.\n            \nEnter the new password and type it again in the \nConfirm Password\n field.\n            \nOn the Confirm and Complete tab, click \nUpdate User\n.\n        \n\n\n\nNext step\n\n\n Set up a network file share", 
            "title": "users_admin_password_co4"
        }, 
        {
            "location": "/users_admin_password_co4/#change-the-administrator-password", 
            "text": "Use these steps to change the password for the original Administrator account created for the Unidesk Management Console (UMC).                Log into the Unidesk Management Console (UMC) .              Select  User > Administrators .               In the list of Administrators select  Administrator  and click  Edit Properties .              Enter the new password and type it again in the  Confirm Password  field.              On the Confirm and Complete tab, click  Update User .", 
            "title": "Change the Administrator password"
        }, 
        {
            "location": "/users_admin_password_co4/#next-step", 
            "text": "Set up a network file share", 
            "title": "Next step"
        }, 
        {
            "location": "/users_dir_service_co4/", 
            "text": "Set up Unidesk\n\n\n\n\nConnect to a Directory Service\n\n\n\n\nConnect to a Directory Service\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n About connecting Unidesk to a directory service\n                        \n                        \n Create a directory junction\n                        \n                        \n Connect to a Directory Service\n                        \n                    \n                \n            \n        \n\n\n\nYou can configure Unidesk to connect to a Directory Service, for example, Active Directory. When you connect to your directory service, you will create one or more Directory Junctions to access specific domains or OUs. Unidesk does not modify the directory service you connect to. The Unidesk software caches the attributes for each directory service entry, so that if the connection to the directory service is lost temporarily, the software can use the cached information for management tasks.\n\n\nAbout connecting Unidesk to a directory service\n\n\nThe Unidesk Management Console Directory Tree displays a hierarchical view of Users and Groups. Each Directory Junction that you create specifies a starting node in the directory tree.\n\n\nOverlapping Directory Junctions\n\n\nOverlapping (or nested) Directory Junctions occur when you create multiple Directory Junctions that contain the same users and then import the users into the Unidesk directory tree. When overlapping occurs, each Directory Junction contains its own copy of the duplicate users.\n\n\nExample: Overlapping directory junctions\n\n\nAssume you create Directory Junction A that starts at the Marketing folder in a directory service tree. Next, you create Directory Junction B which starts at a folder above the Marketing folder. If you browse both Directory Junctions, you can see the Marketing users in both folders.\n\n\nUser attributes are imported from the directory service\n\n\nThe Unidesk software imports and caches user and group attributes from your directory service when:\n\n\n            \nYou assign administrator privileges to a user.\n            \nThe values of the attributes change in the directory service.\n        \n\n\n\nThe attributes that the Unidesk software caches are read only. All changes to the attributes for directory service users come from the directory server.\n\n\nImported attributes are synchronized regularly\n\n\nThe Unidesk software synchronizes the information it caches for directory service users with the directory service every 12 hours. If the software discovers that a user is no longer an object in the directory service, it classifies the user as abandoned (you can view this information in the Information view for the user).\n\n\nCreate a directory junction\n\n\nCreate the folders where you want to place the Directory Junctions or decide which existing folder you want to use. You can add a Directory Junction folder to any existing folder in the Unidesk Management Console directory tree.\n\n\nBest Practice: Avoid creating overlapping Directory Junctions, if possible. In some circumstances, deleting an overlapping Directory Junction can affect your ability to delete another Directory Junction that contains the same users.\n\n\n            \n                \nSelect \nUsers > Directory Service\n.\n            \n            \n                \nSelect \nCreate Directory Junction\n in the Action bar. This opens the Create Directory Junction wizard.\n            \n            \n                \nIn the Connection Details tab, specify the details for the directory server.\n                \n                    \nDirectory Junction Name- This name becomes the name of the folder that you see in the tree view. You can use any name, including the name of a domain in your directory service tree.\n                    \nServer address - This is the name for the server you will use for the directory service. (IPAddress or DNSName)\n                    \nPort - Specify the port number for communicating with the directory server.\n                    \n                        \nSSLcheck box - Select this if you want to use Secure Sockets Layer (SSL) communication.\n                        \nIf certificate errors occur, the wizard displays a list of these errors. If you know it is safe to ignore them, select \nIgnore Certificate Errors\n.\n                    \n                    \nTest Connection\n - Click to verify that the Unidesk ELM can connect to the directory service.\n                \n            \n            \n                \nIn the Authentication Details tab, enter the authentication details for a user who has permissions to search the directory service.\n                \n                    \n                        \nBind Distinguished Name - To determine the correct syntax for the Bind DN or user name, see the documentation for your directory. \n                        \nExamples: \nThe following examples shows some of the ways you can specify a user for the directory service: \ndomain\\username \nor \nusername@domain.com\n.\n                    \n                    \n                        \nBind Password.\n                    \n                    \nTest Authentication - Click to verify that the connection to the directory server is valid.\n                \n            \n            \n                \nIn the Distinguished Name Details tab, specify where the software should start searching for users and groups in the remote directory service.\n                \n                    \n                        \nBase Distinguished Name (DN) - The software starts searching for users and groups in the remote directory service. Once you establish a connection to the server for the directory service, the wizard displays a list of available DNs. You can select a DN from the list or enter the DN directly in the box.\n                        \nExample\n: Assume that you want to start the search at the Marketing Organizational Unit at the root of a domain. You would enter the following Base DN:\n                        \nOU=marketing, DC=root,DC=mydomain DC=com\n                        \n                    \n                    \nTest Base DN - Click to verify that the Base DN is valid.\n                \n            \n            \nIn the Folder Location tab, select the folder in the Unidesk tree where you want to add the directory junction for the remote directory service.\n            \n                \nIn the Attribute Mapping tab, enter the names of directory service attributes that you want to map to the local attributes or use the default settings.\n                \nNote: To change the mapping from local attributes back to default mappings, click Use Defaults.\n            \n            \n                \nIn the Confirm and Complete tab, verify the Directory Junction settings, enter a comment if required, and click Create Directory Junction.\n                \nIf you enter comments, they appear in the Information view Audit History.\n            \n        \n\n\n\nNext step\n\n\n Assign Unidesk Roles to users", 
            "title": "users_dir_service_co4"
        }, 
        {
            "location": "/users_dir_service_co4/#connect-to-a-directory-service", 
            "text": "In this article:                                                                                            About connecting Unidesk to a directory service                                                    Create a directory junction                                                    Connect to a Directory Service                                                                                       You can configure Unidesk to connect to a Directory Service, for example, Active Directory. When you connect to your directory service, you will create one or more Directory Junctions to access specific domains or OUs. Unidesk does not modify the directory service you connect to. The Unidesk software caches the attributes for each directory service entry, so that if the connection to the directory service is lost temporarily, the software can use the cached information for management tasks.", 
            "title": "Connect to a Directory Service"
        }, 
        {
            "location": "/users_dir_service_co4/#about-connecting-unidesk-to-a-directory-service", 
            "text": "The Unidesk Management Console Directory Tree displays a hierarchical view of Users and Groups. Each Directory Junction that you create specifies a starting node in the directory tree.", 
            "title": "About connecting Unidesk to a directory service"
        }, 
        {
            "location": "/users_dir_service_co4/#overlapping-directory-junctions", 
            "text": "Overlapping (or nested) Directory Junctions occur when you create multiple Directory Junctions that contain the same users and then import the users into the Unidesk directory tree. When overlapping occurs, each Directory Junction contains its own copy of the duplicate users.  Example: Overlapping directory junctions  Assume you create Directory Junction A that starts at the Marketing folder in a directory service tree. Next, you create Directory Junction B which starts at a folder above the Marketing folder. If you browse both Directory Junctions, you can see the Marketing users in both folders.", 
            "title": "Overlapping Directory Junctions"
        }, 
        {
            "location": "/users_dir_service_co4/#user-attributes-are-imported-from-the-directory-service", 
            "text": "The Unidesk software imports and caches user and group attributes from your directory service when:               You assign administrator privileges to a user.              The values of the attributes change in the directory service.           The attributes that the Unidesk software caches are read only. All changes to the attributes for directory service users come from the directory server.", 
            "title": "User attributes are imported from the directory service"
        }, 
        {
            "location": "/users_dir_service_co4/#imported-attributes-are-synchronized-regularly", 
            "text": "The Unidesk software synchronizes the information it caches for directory service users with the directory service every 12 hours. If the software discovers that a user is no longer an object in the directory service, it classifies the user as abandoned (you can view this information in the Information view for the user).", 
            "title": "Imported attributes are synchronized regularly"
        }, 
        {
            "location": "/users_dir_service_co4/#create-a-directory-junction", 
            "text": "Create the folders where you want to place the Directory Junctions or decide which existing folder you want to use. You can add a Directory Junction folder to any existing folder in the Unidesk Management Console directory tree.  Best Practice: Avoid creating overlapping Directory Junctions, if possible. In some circumstances, deleting an overlapping Directory Junction can affect your ability to delete another Directory Junction that contains the same users.                                Select  Users > Directory Service .                                            Select  Create Directory Junction  in the Action bar. This opens the Create Directory Junction wizard.                                            In the Connection Details tab, specify the details for the directory server.                                       Directory Junction Name- This name becomes the name of the folder that you see in the tree view. You can use any name, including the name of a domain in your directory service tree.                      Server address - This is the name for the server you will use for the directory service. (IPAddress or DNSName)                      Port - Specify the port number for communicating with the directory server.                                               SSLcheck box - Select this if you want to use Secure Sockets Layer (SSL) communication.                          If certificate errors occur, the wizard displays a list of these errors. If you know it is safe to ignore them, select  Ignore Certificate Errors .                                           Test Connection  - Click to verify that the Unidesk ELM can connect to the directory service.                                                             In the Authentication Details tab, enter the authentication details for a user who has permissions to search the directory service.                                                                Bind Distinguished Name - To determine the correct syntax for the Bind DN or user name, see the documentation for your directory.                           Examples:  The following examples shows some of the ways you can specify a user for the directory service:  domain\\username  or  username@domain.com .                                                                    Bind Password.                                           Test Authentication - Click to verify that the connection to the directory server is valid.                                                             In the Distinguished Name Details tab, specify where the software should start searching for users and groups in the remote directory service.                                                                Base Distinguished Name (DN) - The software starts searching for users and groups in the remote directory service. Once you establish a connection to the server for the directory service, the wizard displays a list of available DNs. You can select a DN from the list or enter the DN directly in the box.                          Example : Assume that you want to start the search at the Marketing Organizational Unit at the root of a domain. You would enter the following Base DN:                          OU=marketing, DC=root,DC=mydomain DC=com                                                                    Test Base DN - Click to verify that the Base DN is valid.                                            In the Folder Location tab, select the folder in the Unidesk tree where you want to add the directory junction for the remote directory service.                               In the Attribute Mapping tab, enter the names of directory service attributes that you want to map to the local attributes or use the default settings.                  Note: To change the mapping from local attributes back to default mappings, click Use Defaults.                                            In the Confirm and Complete tab, verify the Directory Junction settings, enter a comment if required, and click Create Directory Junction.                  If you enter comments, they appear in the Information view Audit History.", 
            "title": "Create a directory junction"
        }, 
        {
            "location": "/users_dir_service_co4/#next-step", 
            "text": "Assign Unidesk Roles to users", 
            "title": "Next step"
        }, 
        {
            "location": "/welcome_platform_support_co4/", 
            "text": "Release notes and supported platforms  \n\n\n\n\nSupported platforms\n\n\n\n\nSupported Platforms\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Hypervisor\n                        \n                        \n Image publishing\n                        \n                        \n Operating System for Layered Images\n                        \n                        \n Directory Service\n                        \n                        \n Internet browser\n                        \n                    \n                \n            \n        \n\n\n\nHypervisor\n\n\nUnidesk Enterprise Layer Manager (ELM)\n\n\nThe Unidesk ELM can be installed in the following environments:\n\n\n            \nAzure Resource Manager\n            \nCitrix XenServer 6.5, 7.0\n            \nMicrosoft Hyper-V, Windows Server 2012 R2\n            \nNutanix Acropolis \n            \nvSphere vCenter 5.5.x, 6.0.x\n        \n\n\n\nNetwork File Share protocol\n\n\n            \n                \nServer Message Block (SMB)\n            \n            \n                \nNetwork File System (NFS)\n                \nNote:\n \nElastic Layers\n can only use SMB file shares. NFS shares are not supported for Elastic Layering.\n            \n        \n\n\n\nNetwork connection\n\n\n            \nA 10 GB connection is recommended between the Unidesk ELM and the file share.\n        \n\n\n\nImage publishing\n\n\nUnidesk 4 lets you publish to these platforms:\n\n\n            \n                \nCitrix MCS for Nutanix AHV\n            \n            \n                \nCitrix MCS for vSphere\n            \n            \n                \nCitrix MCS for XenServer\n            \n            \n                \nCitrix PVS 7.1, 7.6 - 7.9, 7.11 - 7.12 with recommended network speeds to the PVS Store of 10 GB. \n            \n            \n                \nCitrix XenApp and XenDesktop 6.5, 7.0 - 7.11\n            \n            \n                \nMicrosoft Azure, with recommended network speeds to the Azure publishing location of 10 GB.\n            \n            \n                \nVMware Horizon View 6.x, 7.x\n                \nNote:\n View Persona Management  is \nnot\n supported with Elastic Layering. \n            \n        \n\n\n\nYou can use Unidesk Layers and Layered Images with other provisioning systems and hypervisors, although the solution is not fully integrated.\n\n\nOperating System for Layered Images\n\n\n            \n                \nWindows Server 2016, 64-bit (Standard and Datacenter Editions)\n            \n            \nWindows Server 2012 R2, 64-bit (Standard and Datacenter Editions)\n            \nWindows Server 2008 R2, 64-bit (Standard and Datacenter Editions)\n            \nWindows 10, 64-bit\n            \nWindows 7, 64-bit\n            \nWindows 7, 32-bit\n        \n\n\n\nUnidesk supports single-byte language packs for the base US English Windows operating system. Language packs must be installed on the OS Machine before importing the OS into a Layer. Language packs installed on a Version added to the OSLayer will not work correctly.\n\n\nDirectory Service\n\n\n            \nMicrosoft Active Directory\n        \n\n\n\nInternet browser\n\n\nThe Unidesk Management Console (UMC) supports the following browsers with Silverlight 4.0 support:\n\n\n            \n                \nInternet Explorer v11\n            \n            \n                \nFirefox v45 and later versions that support MSSilverlight 4.0.", 
            "title": "welcome_platform_support_co4"
        }, 
        {
            "location": "/welcome_platform_support_co4/#supported-platforms", 
            "text": "In this article:                                                                                            Hypervisor                                                    Image publishing                                                    Operating System for Layered Images                                                    Directory Service                                                    Internet browser", 
            "title": "Supported Platforms"
        }, 
        {
            "location": "/welcome_platform_support_co4/#hypervisor", 
            "text": "", 
            "title": "Hypervisor"
        }, 
        {
            "location": "/welcome_platform_support_co4/#unidesk-enterprise-layer-manager-elm", 
            "text": "The Unidesk ELM can be installed in the following environments:               Azure Resource Manager              Citrix XenServer 6.5, 7.0              Microsoft Hyper-V, Windows Server 2012 R2              Nutanix Acropolis               vSphere vCenter 5.5.x, 6.0.x", 
            "title": "Unidesk Enterprise Layer Manager (ELM)"
        }, 
        {
            "location": "/welcome_platform_support_co4/#network-file-share-protocol", 
            "text": "Server Message Block (SMB)                                            Network File System (NFS)                  Note:   Elastic Layers  can only use SMB file shares. NFS shares are not supported for Elastic Layering.", 
            "title": "Network File Share protocol"
        }, 
        {
            "location": "/welcome_platform_support_co4/#network-connection", 
            "text": "A 10 GB connection is recommended between the Unidesk ELM and the file share.", 
            "title": "Network connection"
        }, 
        {
            "location": "/welcome_platform_support_co4/#image-publishing", 
            "text": "Unidesk 4 lets you publish to these platforms:                                Citrix MCS for Nutanix AHV                                            Citrix MCS for vSphere                                            Citrix MCS for XenServer                                            Citrix PVS 7.1, 7.6 - 7.9, 7.11 - 7.12 with recommended network speeds to the PVS Store of 10 GB.                                             Citrix XenApp and XenDesktop 6.5, 7.0 - 7.11                                            Microsoft Azure, with recommended network speeds to the Azure publishing location of 10 GB.                                            VMware Horizon View 6.x, 7.x                  Note:  View Persona Management  is  not  supported with Elastic Layering.                         You can use Unidesk Layers and Layered Images with other provisioning systems and hypervisors, although the solution is not fully integrated.", 
            "title": "Image publishing"
        }, 
        {
            "location": "/welcome_platform_support_co4/#operating-system-for-layered-images", 
            "text": "Windows Server 2016, 64-bit (Standard and Datacenter Editions)                           Windows Server 2012 R2, 64-bit (Standard and Datacenter Editions)              Windows Server 2008 R2, 64-bit (Standard and Datacenter Editions)              Windows 10, 64-bit              Windows 7, 64-bit              Windows 7, 32-bit           Unidesk supports single-byte language packs for the base US English Windows operating system. Language packs must be installed on the OS Machine before importing the OS into a Layer. Language packs installed on a Version added to the OSLayer will not work correctly.", 
            "title": "Operating System for Layered Images"
        }, 
        {
            "location": "/welcome_platform_support_co4/#directory-service", 
            "text": "Microsoft Active Directory", 
            "title": "Directory Service"
        }, 
        {
            "location": "/welcome_platform_support_co4/#internet-browser", 
            "text": "The Unidesk Management Console (UMC) supports the following browsers with Silverlight 4.0 support:                                Internet Explorer v11                                            Firefox v45 and later versions that support MSSilverlight 4.0.", 
            "title": "Internet browser"
        }, 
        {
            "location": "/welcome_release_notes_co4/", 
            "text": "Release notes and supported platforms  \n\n\n\n\nUnidesk Release Notes\n\n\n\n\nUnidesk 4 Release Notes\n\n\nIn this article:\n\n\n            \n            \n                \n                    \n                        \n Welcome to Unidesk 4.0.8!\n                        \n                        \n Unidesk 4 Release Notes\n                        \n                        \n New in Unidesk Labs!\n                        \n                        \n Supported Platforms\n                        \n                        \n Upgrade path\n                        \n                        \n Known issues and considerations\n                        \n                        \n How can I contact Unidesk?\n                        \n                    \n                \n            \n        \n\n\n\nWelcome to Unidesk 4.0.8!\n\n\nThis release adds full support for Nutanix AHV, making Unidesk the only solution to support all leading hypervisors.  You now have complete agility and flexibility in deciding where to host your Windows workspaces, today and into the future.\n\n\nWe have also made performance improvements and added support for Windows Server 2016.\n\n\nYou\u2019ll also get your first look at the Unidesk 4 User Layer, now supported in Unidesk Labs. Those of you who have been waiting to test the ability to persist user settings, data, and applications in non-persistent VDI environments need wait no longer!\n\n\nWhat\u2019s new in this release?\n\n\n            \n                \nFull support for Nutanix AHV.\n  Unidesk now fully supports Nutanix AHV, adding to our existing support for Hyper-V, vSphere/ESX, Citrix XenServer, and Azure.  Like the other platforms, you can now use Nutanix AHV to host the Unidesk Enterprise Layer Manager (ELM) virtual appliance; package App Layers and Layer versions; create and publish Layered Images; and use Elastic Layering to deliver custom applications  to both virtual desktops and XenApp/RDSH sessions at login. You can also deliver Layers and Layered Images to all supported platforms without costly re-packaging or re-imaging. Moving your users from one end user computing environment or hypervisor to another, and managing across multiple environments has never been easier.\n            \n            \n                \nUnidesk Connector for Citrix MCS support for Nutanix AHV.\n  You can now publish Unidesk Layered Images directly to Citrix Machine Creation Services (MCS) running on Nutanix AHV.  You\u2019ll be able to manage image content (OS and Apps) once with Unidesk and continue to use MCS to manage image delivery for both your XenApp and XenDesktop environments.  Instead of having to update Windows and common applications once for every delivery group and MCS image, you\u2019ll only have to apply updates once.\n            \n            \n                \nWindows Server 2016 Support.\n  You can now use Windows Server 2016 as a supported operating system (OS) layer for Citrix XenApp and RDSH published application and desktop deployments.    Import your Windows Server 2016 OS and you can start building App Layers and Platform Layers on top of it!\n            \n            \n                \nImproved performance when Creating App Layers on VMware vSphere.\n  You can configure the VMware vSphere Connector to cache boot and packaging disks and reuse them. Once these disks have been cached as part of creating your first App Layer, the time it takes to create subsequent App Layers is cut in half.\n            \n            \n                \nLayer Management updates.\n We made several enhancements to general layer management usability including improvements to the Virtual Appliance Configuration Tool, the ability to edit the Layer version description, and listing the OS type in the OS Layer detail information.\n            \n            \n                \nImprivata OneSign Single Sign-On.\n Unidesk is fully compatible with Imprivata OneSign for single sign-on efficiency. Imprivata can be packaged as a Unidesk application layer to make distribution to all virtual workspaces fast and easy.\n            \n            \n                \nUnidesk Roles.\n Previously released in Labs, Unidesk Roles are now generally available and with a new capability to assign Roles to AD Groups in addition to directly assigning Roles to individual users.\n            \n            \n                \nElastic Fit.\n Also previously released in Labs, Elastic Fit is now Generally Available. This feature alerts you if an Application Layer can be delivered as an Elastic Layer at login. Unidesk gives you the option of delivering applications as Layered Images or as Elastic Layers, Elastic Fit will advise you on which of Unidesk's layer delivery options to use.\n            \n            \n                \nUser Layer (Unidesk Labs).\n You can now test the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments with the new User Layer. Initially, the User Layer will support Windows 7 64-bit environments for Citrix XenDesktop, VMware Horizon View and View JIT. Additional operating systems and session environments will be supported going forward.\n            \n        \n\n\n\nNew in Unidesk Labs!\n\n\n            \n                \nUser Layers (Unidesk Labs)\n. \n                \nYou can now test the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments with the new User Layer. Initially, the User Layer will support Windows 7 64-bit environments for Citrix XenDesktop and VMware Horizon View. Additional operating systems and session environments will be supported going forward. \n            \n        \n\n\n\nFor the steps to enable Unidesk Labs features, click \nhere\n. \n\n\nSupported Platforms\n\n\nFor information about Unidesk-supported platforms, see \n Supported Platforms\n.\n\n\nUpgrade path\n\n\nYou can upgrade from 4.0.x to the current release. \n\n\nKnown issues and considerations\n\n\nUser Layer (Unidesk Labs)\n\n\n            \nMS Office should be in the Layered Image.  \nIf using add-ins or Office 365, you \nmust\n include Office in the Layered Image, not in the User Layer. If not, you will have activation issues.  (UNI-53474)\n            \n            \nThere are issues with Windows Search when using a User Layer.\n   (UNI-53320), (UNI-54524), (UNI-54520)\n            \n            \nRed '\nX\n' network adapter icon indicates there's an issue even when the network is functional. \nWhen using a User Layer, the network icon will appear as a red x, even when everything is functional. You can ignore the red '\nX\n'. (UNI-53443)\n            \n        \n\n\n\nCommon across platforms\n\n\n            \nTasks created prior to this release do not have fully qualified owners and can only be canceled by an Administrator. \n (UNI-52741)\n            \n            \nApp may appear to load slowly on a user's session. \nFor applications that automatically update, like Chrome and Firefox, updates should be turned off.  Windows will prompt the user to make changes with Admin rights even though the user does not have those rights. Instruct the user to click \nNo\n when prompted, and the application will load successfully. \n            \n            \nUnidesk Agent requires .NET Framework 4.5, but the installer lists 4.0 as a prerequisite.\nThe Unidesk Agent needs .NET Framework 4.5 but lists 4.0 as a prerequisite. This causes the installer to fail when it reaches \"Starting services\", and the Unidesk Agent logs show the service trying to start up repeatedly. Please install .NET Framework 4.5 as a prerequisite for the Unidesk Agent. (UNI-50769)\n            \n            \nUser receives alert on first launch of an elastically assigned Skype Layer.\nWhen a Skype Layer is elastically assigned, the user receives this alert the first time the app is launched, \"The Installer has insufficient privileges to modify this file: \nurl\n.\" If the user clicks the \nIgnore\n button, Skype opens as expected. (UNI-52164)\n \n            \nUse the same hypervisor when adding a Version to your OSLayer. \nWhen adding a Version to an  OSLayer, you must package the Layer on the same hypervisor  from which you imported the OS during Layer creation. (UNI-44372)\n            \n            \nAfter adding new disks to the ELM, be sure to reboot. \n When adding disks to expand storage, a reboot of the ELM is recommended after the disk expansion wizard has completed the operation. (UNI-53580)\n \n        \n\n\n\nElastic Layering\n\n\n            \nElastic Layers require .NET Framework 4.5.\nIf you are using Unidesk Elastic Layers, .NETFramework 4.5 must be installed on any Layered Image where Elastic Layers are enabled.\n \n            \nEmpty directories visible to WindowsExplorer users when Unidesk drivers are running. \n When an image has been enabled with Elastic Layering, a user using Windows Explorer to view files and directories may be able to see empty directories associated with other sessions using Elastic Layering if they also use Windows Explorer to browse files.  Directories explored in the other session may create folders visible to all sessions that have the rights to browse that directory.  The directories and the contents of them will not be visible to users who do not have access to the volume.\n            \n            \nIf using Elastic Layer Assignments with Windows Server 2008 or Windows 7, your fileshare must be created with a sector size of 512. \n                         For details about this  issue and related OS updates, see the Microsoft articles about \nMicrosoft support policy for 4K sector hard drives in Windows\n, and \nUpdate that improves the compatibility of Win 7 and Win Server 2008 R2 with Advanced Format Disks\n.                   (UNI-48984)\n            \n            \nWhen using Elastic Layer Assignments, Persona Management in Horizon View is \nnot\n supported.\n Although Unidesk supports Horizon View 6.1 and later, Elastic Layer Assignments do not work with these versions of View Persona Management. (UNI-53639)\n \n        \n\n\n\nElastic Layering MS Office\n\n\n            \nShortcuts to elastically assigned Office apps may be visible on the Start menu for users who are not assigned the apps. \n Although these shortcuts are visible, they only work for users who are assigned the apps. (UNI-49687)\n            \n            \nWhen MSOffice is assigned elastically, use built-in license activation scripting. \n For best results when using office elastically, consider using built-in license activation scripting and adding c:\\windows\\setup\\scripts\\officeactivate.cmd to the script path when finalizing the Office App Layer or editing its properties. (UNI-50467)\n            \n            \nWhen elastically layering MSOffice, do not install One Note. \n Instead, include OneNote  in the Layered Image. The One Note printer driver allows other Office apps to print to One Note. For further details, refer to the \nMicrosoft Office Recipe\n. (UNI-50449)\n            \n        \n\n\n\nWindows 10\n\n\n            \nWindows 10 upgrades require a  60 GB disk  for the OSLayer Version.\n When adding a Version for upgrading your Windows 10 OSLayer, be sure to change the Max Layer Size from the default of 30 GB to the required 60 GB.  (UNI-52422)\n \n            \nAdditional step required when upgrading a major Win 10. \nDuring a major upgrade, for example when upgrading from 1511 to 1607, Windows 10  sometimes creates a Recovery Volume as a new partition on the same disk as the OS Layer Version. This volume should always be removed before you finalize the OS Layer Version. Otherwise, the recovery volume can cause desktops to fail to boot correctly. For the steps to safely remove a recovery volume, click \nhere\n.\n \n        \n\n\n\nCitrix PVS\n\n\n            \nWhen creating an  Image Template, the template's target device hardware settings must match the Windows OSand Platform Layer settings. \nMake sure the target device hardware settings match the OS and Platform layer hardware settings, especially the number of CPUs.  If they don't match, you can get a \nreboot required\n message when the published image is booted.  (UNI-50799, UNI-46333, UNI-51599)\n            \n            \nWhen using PVS, you must disable IPv6 in the OS Layer.\n If this is configured in the Platform Layer instead of in the OS Layer, when the resulting PVS machines boot, they will lose their network connection and hang. (UNI-53600)\n \n            \nIf permissions are wrong when publishing an image, you may get an error message that states that the operation has timed out. \n  (UNI-54516)\n            \n            \nAlthough the UMC allows image names that contain a period (\".\"), those names fail in the PVS environment.   \n Do not include a period in the name. UNI-54263)\n            \n        \n\n\n\nXenServer\n\n\n            \nWhen preparing your OSimage for use in XenServer, you must open port 5900. \n(UNI-50846)\n \n            \nCreating a Unidesk Connector Configuration that points to a \nslave\n node in a XenServer pool produces an unexpected error message.\nTo avoid this issue, only use the \nmaster\n node when creating Connector Configurations. (UNI-52454)\n \n        \n\n\n\nVMware Horizon View\n\n\nElastic layers are only supported with floating desktop pools. (UNI-53442) \n\n\nMicrosoft Azure\n\n\n            \nThe Azure File Share \nfeature\n is not supported. \n However, you must create an NFS or SMB  file share in Azure to use with Unidesk. (UNI-42272) \n            \n            \nPublishing Layered Images simultaneously to the same Azure resource group fails. \n Either deploy one at a time, or deploy the Layered Images to different resource groups.(UNI-43376)\n            \n            \nUsing a Fully Qualified Domain Name (FQDN) in Azure can fail if not entered in the format Azure expects. \nWhen deploying in Azure, the Azure template requires the FQDN in a specific format, or it will fail. Click \nhere\n for details. (UNI-51587)\n        \n\n\n\nMicrosoft Hyper-V\n\n\n            \nWhen using Elastic Layering in Hyper-V, you must use \nunmanaged\n RDS pools.\n(UNI-53545)\n \n        \n\n\n\nImprivata\n\n\n            \n                \nImprivata App Layers must be created with the appropriate broker Platform Layer as a prerequisite. This is critical for Citrix PVS/MCS and Horizon View environments\n            \n        \n\n\n\nHow can I contact Unidesk?\n\n\nWe welcome your feedback about this release.\n\n\n            \nUse our online \nForum\n to talk directly with Unidesk employees and other organizations deploying Unidesk.\n        \n\n\n\n            \nFor product issues and questions, open a \nSupport Case\n.\n        \n\n\n\nWe look forward to hearing what you think about Unidesk 4!", 
            "title": "welcome_release_notes_co4"
        }, 
        {
            "location": "/welcome_release_notes_co4/#unidesk-4-release-notes", 
            "text": "In this article:                                                                                            Welcome to Unidesk 4.0.8!                                                    Unidesk 4 Release Notes                                                    New in Unidesk Labs!                                                    Supported Platforms                                                    Upgrade path                                                    Known issues and considerations                                                    How can I contact Unidesk?", 
            "title": "Unidesk 4 Release Notes"
        }, 
        {
            "location": "/welcome_release_notes_co4/#welcome-to-unidesk-408", 
            "text": "This release adds full support for Nutanix AHV, making Unidesk the only solution to support all leading hypervisors.  You now have complete agility and flexibility in deciding where to host your Windows workspaces, today and into the future.  We have also made performance improvements and added support for Windows Server 2016.  You\u2019ll also get your first look at the Unidesk 4 User Layer, now supported in Unidesk Labs. Those of you who have been waiting to test the ability to persist user settings, data, and applications in non-persistent VDI environments need wait no longer!", 
            "title": "Welcome to Unidesk 4.0.8!"
        }, 
        {
            "location": "/welcome_release_notes_co4/#whats-new-in-this-release", 
            "text": "Full support for Nutanix AHV.   Unidesk now fully supports Nutanix AHV, adding to our existing support for Hyper-V, vSphere/ESX, Citrix XenServer, and Azure.  Like the other platforms, you can now use Nutanix AHV to host the Unidesk Enterprise Layer Manager (ELM) virtual appliance; package App Layers and Layer versions; create and publish Layered Images; and use Elastic Layering to deliver custom applications  to both virtual desktops and XenApp/RDSH sessions at login. You can also deliver Layers and Layered Images to all supported platforms without costly re-packaging or re-imaging. Moving your users from one end user computing environment or hypervisor to another, and managing across multiple environments has never been easier.                                            Unidesk Connector for Citrix MCS support for Nutanix AHV.   You can now publish Unidesk Layered Images directly to Citrix Machine Creation Services (MCS) running on Nutanix AHV.  You\u2019ll be able to manage image content (OS and Apps) once with Unidesk and continue to use MCS to manage image delivery for both your XenApp and XenDesktop environments.  Instead of having to update Windows and common applications once for every delivery group and MCS image, you\u2019ll only have to apply updates once.                                            Windows Server 2016 Support.   You can now use Windows Server 2016 as a supported operating system (OS) layer for Citrix XenApp and RDSH published application and desktop deployments.    Import your Windows Server 2016 OS and you can start building App Layers and Platform Layers on top of it!                                            Improved performance when Creating App Layers on VMware vSphere.   You can configure the VMware vSphere Connector to cache boot and packaging disks and reuse them. Once these disks have been cached as part of creating your first App Layer, the time it takes to create subsequent App Layers is cut in half.                                            Layer Management updates.  We made several enhancements to general layer management usability including improvements to the Virtual Appliance Configuration Tool, the ability to edit the Layer version description, and listing the OS type in the OS Layer detail information.                                            Imprivata OneSign Single Sign-On.  Unidesk is fully compatible with Imprivata OneSign for single sign-on efficiency. Imprivata can be packaged as a Unidesk application layer to make distribution to all virtual workspaces fast and easy.                                            Unidesk Roles.  Previously released in Labs, Unidesk Roles are now generally available and with a new capability to assign Roles to AD Groups in addition to directly assigning Roles to individual users.                                            Elastic Fit.  Also previously released in Labs, Elastic Fit is now Generally Available. This feature alerts you if an Application Layer can be delivered as an Elastic Layer at login. Unidesk gives you the option of delivering applications as Layered Images or as Elastic Layers, Elastic Fit will advise you on which of Unidesk's layer delivery options to use.                                            User Layer (Unidesk Labs).  You can now test the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments with the new User Layer. Initially, the User Layer will support Windows 7 64-bit environments for Citrix XenDesktop, VMware Horizon View and View JIT. Additional operating systems and session environments will be supported going forward.", 
            "title": "What\u2019s new in this release?"
        }, 
        {
            "location": "/welcome_release_notes_co4/#new-in-unidesk-labs", 
            "text": "User Layers (Unidesk Labs) .                   You can now test the ability to persist user profile settings, data, and user-installed applications in non-persistent VDI environments with the new User Layer. Initially, the User Layer will support Windows 7 64-bit environments for Citrix XenDesktop and VMware Horizon View. Additional operating systems and session environments will be supported going forward.                         For the steps to enable Unidesk Labs features, click  here .", 
            "title": "New in Unidesk Labs!"
        }, 
        {
            "location": "/welcome_release_notes_co4/#supported-platforms", 
            "text": "For information about Unidesk-supported platforms, see   Supported Platforms .", 
            "title": "Supported Platforms"
        }, 
        {
            "location": "/welcome_release_notes_co4/#upgrade-path", 
            "text": "You can upgrade from 4.0.x to the current release.", 
            "title": "Upgrade path"
        }, 
        {
            "location": "/welcome_release_notes_co4/#known-issues-and-considerations", 
            "text": "", 
            "title": "Known issues and considerations"
        }, 
        {
            "location": "/welcome_release_notes_co4/#user-layer-unidesk-labs", 
            "text": "MS Office should be in the Layered Image.   If using add-ins or Office 365, you  must  include Office in the Layered Image, not in the User Layer. If not, you will have activation issues.  (UNI-53474)                           There are issues with Windows Search when using a User Layer.    (UNI-53320), (UNI-54524), (UNI-54520)                           Red ' X ' network adapter icon indicates there's an issue even when the network is functional.  When using a User Layer, the network icon will appear as a red x, even when everything is functional. You can ignore the red ' X '. (UNI-53443)", 
            "title": "User Layer (Unidesk Labs)"
        }, 
        {
            "location": "/welcome_release_notes_co4/#common-across-platforms", 
            "text": "Tasks created prior to this release do not have fully qualified owners and can only be canceled by an Administrator.   (UNI-52741)                           App may appear to load slowly on a user's session.  For applications that automatically update, like Chrome and Firefox, updates should be turned off.  Windows will prompt the user to make changes with Admin rights even though the user does not have those rights. Instruct the user to click  No  when prompted, and the application will load successfully.                            Unidesk Agent requires .NET Framework 4.5, but the installer lists 4.0 as a prerequisite. The Unidesk Agent needs .NET Framework 4.5 but lists 4.0 as a prerequisite. This causes the installer to fail when it reaches \"Starting services\", and the Unidesk Agent logs show the service trying to start up repeatedly. Please install .NET Framework 4.5 as a prerequisite for the Unidesk Agent. (UNI-50769)                           User receives alert on first launch of an elastically assigned Skype Layer. When a Skype Layer is elastically assigned, the user receives this alert the first time the app is launched, \"The Installer has insufficient privileges to modify this file:  url .\" If the user clicks the  Ignore  button, Skype opens as expected. (UNI-52164)                Use the same hypervisor when adding a Version to your OSLayer.  When adding a Version to an  OSLayer, you must package the Layer on the same hypervisor  from which you imported the OS during Layer creation. (UNI-44372)                           After adding new disks to the ELM, be sure to reboot.   When adding disks to expand storage, a reboot of the ELM is recommended after the disk expansion wizard has completed the operation. (UNI-53580)", 
            "title": "Common across platforms"
        }, 
        {
            "location": "/welcome_release_notes_co4/#elastic-layering", 
            "text": "Elastic Layers require .NET Framework 4.5. If you are using Unidesk Elastic Layers, .NETFramework 4.5 must be installed on any Layered Image where Elastic Layers are enabled.                Empty directories visible to WindowsExplorer users when Unidesk drivers are running.   When an image has been enabled with Elastic Layering, a user using Windows Explorer to view files and directories may be able to see empty directories associated with other sessions using Elastic Layering if they also use Windows Explorer to browse files.  Directories explored in the other session may create folders visible to all sessions that have the rights to browse that directory.  The directories and the contents of them will not be visible to users who do not have access to the volume.                           If using Elastic Layer Assignments with Windows Server 2008 or Windows 7, your fileshare must be created with a sector size of 512.                           For details about this  issue and related OS updates, see the Microsoft articles about  Microsoft support policy for 4K sector hard drives in Windows , and  Update that improves the compatibility of Win 7 and Win Server 2008 R2 with Advanced Format Disks .                   (UNI-48984)                           When using Elastic Layer Assignments, Persona Management in Horizon View is  not  supported.  Although Unidesk supports Horizon View 6.1 and later, Elastic Layer Assignments do not work with these versions of View Persona Management. (UNI-53639)", 
            "title": "Elastic Layering"
        }, 
        {
            "location": "/welcome_release_notes_co4/#elastic-layering-ms-office", 
            "text": "Shortcuts to elastically assigned Office apps may be visible on the Start menu for users who are not assigned the apps.   Although these shortcuts are visible, they only work for users who are assigned the apps. (UNI-49687)                           When MSOffice is assigned elastically, use built-in license activation scripting.   For best results when using office elastically, consider using built-in license activation scripting and adding c:\\windows\\setup\\scripts\\officeactivate.cmd to the script path when finalizing the Office App Layer or editing its properties. (UNI-50467)                           When elastically layering MSOffice, do not install One Note.   Instead, include OneNote  in the Layered Image. The One Note printer driver allows other Office apps to print to One Note. For further details, refer to the  Microsoft Office Recipe . (UNI-50449)", 
            "title": "Elastic Layering MS Office"
        }, 
        {
            "location": "/welcome_release_notes_co4/#windows-10", 
            "text": "Windows 10 upgrades require a  60 GB disk  for the OSLayer Version.  When adding a Version for upgrading your Windows 10 OSLayer, be sure to change the Max Layer Size from the default of 30 GB to the required 60 GB.  (UNI-52422)                Additional step required when upgrading a major Win 10.  During a major upgrade, for example when upgrading from 1511 to 1607, Windows 10  sometimes creates a Recovery Volume as a new partition on the same disk as the OS Layer Version. This volume should always be removed before you finalize the OS Layer Version. Otherwise, the recovery volume can cause desktops to fail to boot correctly. For the steps to safely remove a recovery volume, click  here .", 
            "title": "Windows 10"
        }, 
        {
            "location": "/welcome_release_notes_co4/#citrix-pvs", 
            "text": "When creating an  Image Template, the template's target device hardware settings must match the Windows OSand Platform Layer settings.  Make sure the target device hardware settings match the OS and Platform layer hardware settings, especially the number of CPUs.  If they don't match, you can get a  reboot required  message when the published image is booted.  (UNI-50799, UNI-46333, UNI-51599)                           When using PVS, you must disable IPv6 in the OS Layer.  If this is configured in the Platform Layer instead of in the OS Layer, when the resulting PVS machines boot, they will lose their network connection and hang. (UNI-53600)                If permissions are wrong when publishing an image, you may get an error message that states that the operation has timed out.    (UNI-54516)                           Although the UMC allows image names that contain a period (\".\"), those names fail in the PVS environment.     Do not include a period in the name. UNI-54263)", 
            "title": "Citrix PVS"
        }, 
        {
            "location": "/welcome_release_notes_co4/#xenserver", 
            "text": "When preparing your OSimage for use in XenServer, you must open port 5900.  (UNI-50846)                Creating a Unidesk Connector Configuration that points to a  slave  node in a XenServer pool produces an unexpected error message. To avoid this issue, only use the  master  node when creating Connector Configurations. (UNI-52454)", 
            "title": "XenServer"
        }, 
        {
            "location": "/welcome_release_notes_co4/#vmware-horizon-view", 
            "text": "Elastic layers are only supported with floating desktop pools. (UNI-53442)", 
            "title": "VMware Horizon View"
        }, 
        {
            "location": "/welcome_release_notes_co4/#microsoft-azure", 
            "text": "The Azure File Share  feature  is not supported.   However, you must create an NFS or SMB  file share in Azure to use with Unidesk. (UNI-42272)                            Publishing Layered Images simultaneously to the same Azure resource group fails.   Either deploy one at a time, or deploy the Layered Images to different resource groups.(UNI-43376)                           Using a Fully Qualified Domain Name (FQDN) in Azure can fail if not entered in the format Azure expects.  When deploying in Azure, the Azure template requires the FQDN in a specific format, or it will fail. Click  here  for details. (UNI-51587)", 
            "title": "Microsoft Azure"
        }, 
        {
            "location": "/welcome_release_notes_co4/#microsoft-hyper-v", 
            "text": "When using Elastic Layering in Hyper-V, you must use  unmanaged  RDS pools. (UNI-53545)", 
            "title": "Microsoft Hyper-V"
        }, 
        {
            "location": "/welcome_release_notes_co4/#imprivata", 
            "text": "Imprivata App Layers must be created with the appropriate broker Platform Layer as a prerequisite. This is critical for Citrix PVS/MCS and Horizon View environments", 
            "title": "Imprivata"
        }, 
        {
            "location": "/welcome_release_notes_co4/#how-can-i-contact-unidesk", 
            "text": "We welcome your feedback about this release.               Use our online  Forum  to talk directly with Unidesk employees and other organizations deploying Unidesk.                        For product issues and questions, open a  Support Case .           We look forward to hearing what you think about Unidesk 4!", 
            "title": "How can I contact Unidesk?"
        }
    ]
}